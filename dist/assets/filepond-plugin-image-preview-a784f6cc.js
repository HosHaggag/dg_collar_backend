import{r as h,aA as Qu,z as In,aB as Vo,j as Ne,aC as Ju,_ as ye,M as Na,aD as Ho,E as ed,C as Ha,D as td,K as oi,af as pa,aE as nd,aF as rd,s as It,y as Ya,q as $i,t as Ui,w as Re,A as Vt,F as pl,H as xt,X as Yo,aG as jn,aH as Wo,I as fl,an as ml,l as Fn,k as gl,a9 as Vi,a8 as ad,au as Pr,av as kn,aI as Jt,ax as ln,aw as id}from"./index-6f2efa30.js";import{i as si,f as hr,A as od}from"./TextField-2205a0dd.js";import{u as sd}from"./usePreviousProps-2447cded.js";import{I as Mr,C as Cr,u as ar,b as Ar,c as ld,E as cd,m as ud,D as Q,n as dd,f as hl,g as cn,h as vl,Z as Bn,P as El,i as Fe,O as Rt,R as At,l as Wr,o as pd,p as fd,q as md,r as gd,U as li,j as hd}from"./Add-94330965.js";const vd={disableDefaultClasses:!1},Ed=h.createContext(vd);function bd(e){const{disableDefaultClasses:t}=h.useContext(Ed);return n=>t?"":e(n)}const bl="base";function yd(e){return`${bl}--${e}`}function Id(e,t){return`${bl}-${e}-${t}`}function yl(e,t){const n=Qu[t];return n?yd(n):Id(e,t)}function Td(e,t){const n={};return t.forEach(a=>{n[a]=yl(e,a)}),n}var Pt="top",Wt="bottom",jt="right",Mt="left",Hi="auto",ra=[Pt,Wt,jt,Mt],_r="start",Zr="end",_d="clippingParents",Il="viewport",$r="popper",Dd="reference",jo=ra.reduce(function(e,t){return e.concat([t+"-"+_r,t+"-"+Zr])},[]),Tl=[].concat(ra,[Hi]).reduce(function(e,t){return e.concat([t,t+"-"+_r,t+"-"+Zr])},[]),wd="beforeRead",Od="read",Sd="afterRead",Rd="beforeMain",Pd="main",Md="afterMain",Cd="beforeWrite",Ad="write",xd="afterWrite",Ld=[wd,Od,Sd,Rd,Pd,Md,Cd,Ad,xd];function fn(e){return e?(e.nodeName||"").toLowerCase():null}function Nt(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function rr(e){var t=Nt(e).Element;return e instanceof t||e instanceof Element}function Yt(e){var t=Nt(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Yi(e){if(typeof ShadowRoot>"u")return!1;var t=Nt(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Nd(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var a=t.styles[n]||{},r=t.attributes[n]||{},s=t.elements[n];!Yt(s)||!fn(s)||(Object.assign(s.style,a),Object.keys(r).forEach(function(l){var u=r[l];u===!1?s.removeAttribute(l):s.setAttribute(l,u===!0?"":u)}))})}function kd(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(a){var r=t.elements[a],s=t.attributes[a]||{},l=Object.keys(t.styles.hasOwnProperty(a)?t.styles[a]:n[a]),u=l.reduce(function(c,m){return c[m]="",c},{});!Yt(r)||!fn(r)||(Object.assign(r.style,u),Object.keys(s).forEach(function(c){r.removeAttribute(c)}))})}}const Bd={name:"applyStyles",enabled:!0,phase:"write",fn:Nd,effect:kd,requires:["computeStyles"]};function pn(e){return e.split("-")[0]}var Qn=Math.max,ka=Math.min,Dr=Math.round;function bi(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function _l(){return!/^((?!chrome|android).)*safari/i.test(bi())}function wr(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var a=e.getBoundingClientRect(),r=1,s=1;t&&Yt(e)&&(r=e.offsetWidth>0&&Dr(a.width)/e.offsetWidth||1,s=e.offsetHeight>0&&Dr(a.height)/e.offsetHeight||1);var l=rr(e)?Nt(e):window,u=l.visualViewport,c=!_l()&&n,m=(a.left+(c&&u?u.offsetLeft:0))/r,f=(a.top+(c&&u?u.offsetTop:0))/s,g=a.width/r,_=a.height/s;return{width:g,height:_,top:f,right:m+g,bottom:f+_,left:m,x:m,y:f}}function Wi(e){var t=wr(e),n=e.offsetWidth,a=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-a)<=1&&(a=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:a}}function Dl(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Yi(n)){var a=t;do{if(a&&e.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function Tn(e){return Nt(e).getComputedStyle(e)}function Fd(e){return["table","td","th"].indexOf(fn(e))>=0}function $n(e){return((rr(e)?e.ownerDocument:e.document)||window.document).documentElement}function Wa(e){return fn(e)==="html"?e:e.assignedSlot||e.parentNode||(Yi(e)?e.host:null)||$n(e)}function qo(e){return!Yt(e)||Tn(e).position==="fixed"?null:e.offsetParent}function Gd(e){var t=/firefox/i.test(bi()),n=/Trident/i.test(bi());if(n&&Yt(e)){var a=Tn(e);if(a.position==="fixed")return null}var r=Wa(e);for(Yi(r)&&(r=r.host);Yt(r)&&["html","body"].indexOf(fn(r))<0;){var s=Tn(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function aa(e){for(var t=Nt(e),n=qo(e);n&&Fd(n)&&Tn(n).position==="static";)n=qo(n);return n&&(fn(n)==="html"||fn(n)==="body"&&Tn(n).position==="static")?t:n||Gd(e)||t}function ji(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function jr(e,t,n){return Qn(e,ka(t,n))}function $d(e,t,n){var a=jr(e,t,n);return a>n?n:a}function wl(){return{top:0,right:0,bottom:0,left:0}}function Ol(e){return Object.assign({},wl(),e)}function Sl(e,t){return t.reduce(function(n,a){return n[a]=e,n},{})}var Ud=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,Ol(typeof t!="number"?t:Sl(t,ra))};function Vd(e){var t,n=e.state,a=e.name,r=e.options,s=n.elements.arrow,l=n.modifiersData.popperOffsets,u=pn(n.placement),c=ji(u),m=[Mt,jt].indexOf(u)>=0,f=m?"height":"width";if(!(!s||!l)){var g=Ud(r.padding,n),_=Wi(s),I=c==="y"?Pt:Mt,E=c==="y"?Wt:jt,w=n.rects.reference[f]+n.rects.reference[c]-l[c]-n.rects.popper[f],S=l[c]-n.rects.reference[c],C=aa(s),v=C?c==="y"?C.clientHeight||0:C.clientWidth||0:0,T=w/2-S/2,R=g[I],A=v-_[f]-g[E],G=v/2-_[f]/2+T,B=jr(R,G,A),b=c;n.modifiersData[a]=(t={},t[b]=B,t.centerOffset=B-G,t)}}function Hd(e){var t=e.state,n=e.options,a=n.element,r=a===void 0?"[data-popper-arrow]":a;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||Dl(t.elements.popper,r)&&(t.elements.arrow=r))}const Yd={name:"arrow",enabled:!0,phase:"main",fn:Vd,effect:Hd,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Or(e){return e.split("-")[1]}var Wd={top:"auto",right:"auto",bottom:"auto",left:"auto"};function jd(e,t){var n=e.x,a=e.y,r=t.devicePixelRatio||1;return{x:Dr(n*r)/r||0,y:Dr(a*r)/r||0}}function zo(e){var t,n=e.popper,a=e.popperRect,r=e.placement,s=e.variation,l=e.offsets,u=e.position,c=e.gpuAcceleration,m=e.adaptive,f=e.roundOffsets,g=e.isFixed,_=l.x,I=_===void 0?0:_,E=l.y,w=E===void 0?0:E,S=typeof f=="function"?f({x:I,y:w}):{x:I,y:w};I=S.x,w=S.y;var C=l.hasOwnProperty("x"),v=l.hasOwnProperty("y"),T=Mt,R=Pt,A=window;if(m){var G=aa(n),B="clientHeight",b="clientWidth";if(G===Nt(n)&&(G=$n(n),Tn(G).position!=="static"&&u==="absolute"&&(B="scrollHeight",b="scrollWidth")),G=G,r===Pt||(r===Mt||r===jt)&&s===Zr){R=Wt;var y=g&&G===A&&A.visualViewport?A.visualViewport.height:G[B];w-=y-a.height,w*=c?1:-1}if(r===Mt||(r===Pt||r===Wt)&&s===Zr){T=jt;var W=g&&G===A&&A.visualViewport?A.visualViewport.width:G[b];I-=W-a.width,I*=c?1:-1}}var V=Object.assign({position:u},m&&Wd),P=f===!0?jd({x:I,y:w},Nt(n)):{x:I,y:w};if(I=P.x,w=P.y,c){var z;return Object.assign({},V,(z={},z[R]=v?"0":"",z[T]=C?"0":"",z.transform=(A.devicePixelRatio||1)<=1?"translate("+I+"px, "+w+"px)":"translate3d("+I+"px, "+w+"px, 0)",z))}return Object.assign({},V,(t={},t[R]=v?w+"px":"",t[T]=C?I+"px":"",t.transform="",t))}function qd(e){var t=e.state,n=e.options,a=n.gpuAcceleration,r=a===void 0?!0:a,s=n.adaptive,l=s===void 0?!0:s,u=n.roundOffsets,c=u===void 0?!0:u,m={placement:pn(t.placement),variation:Or(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,zo(Object.assign({},m,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:l,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,zo(Object.assign({},m,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const zd={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:qd,data:{}};var fa={passive:!0};function Kd(e){var t=e.state,n=e.instance,a=e.options,r=a.scroll,s=r===void 0?!0:r,l=a.resize,u=l===void 0?!0:l,c=Nt(t.elements.popper),m=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&m.forEach(function(f){f.addEventListener("scroll",n.update,fa)}),u&&c.addEventListener("resize",n.update,fa),function(){s&&m.forEach(function(f){f.removeEventListener("scroll",n.update,fa)}),u&&c.removeEventListener("resize",n.update,fa)}}const Xd={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Kd,data:{}};var Zd={left:"right",right:"left",bottom:"top",top:"bottom"};function Ma(e){return e.replace(/left|right|bottom|top/g,function(t){return Zd[t]})}var Qd={start:"end",end:"start"};function Ko(e){return e.replace(/start|end/g,function(t){return Qd[t]})}function qi(e){var t=Nt(e),n=t.pageXOffset,a=t.pageYOffset;return{scrollLeft:n,scrollTop:a}}function zi(e){return wr($n(e)).left+qi(e).scrollLeft}function Jd(e,t){var n=Nt(e),a=$n(e),r=n.visualViewport,s=a.clientWidth,l=a.clientHeight,u=0,c=0;if(r){s=r.width,l=r.height;var m=_l();(m||!m&&t==="fixed")&&(u=r.offsetLeft,c=r.offsetTop)}return{width:s,height:l,x:u+zi(e),y:c}}function ep(e){var t,n=$n(e),a=qi(e),r=(t=e.ownerDocument)==null?void 0:t.body,s=Qn(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),l=Qn(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),u=-a.scrollLeft+zi(e),c=-a.scrollTop;return Tn(r||n).direction==="rtl"&&(u+=Qn(n.clientWidth,r?r.clientWidth:0)-s),{width:s,height:l,x:u,y:c}}function Ki(e){var t=Tn(e),n=t.overflow,a=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+a)}function Rl(e){return["html","body","#document"].indexOf(fn(e))>=0?e.ownerDocument.body:Yt(e)&&Ki(e)?e:Rl(Wa(e))}function qr(e,t){var n;t===void 0&&(t=[]);var a=Rl(e),r=a===((n=e.ownerDocument)==null?void 0:n.body),s=Nt(a),l=r?[s].concat(s.visualViewport||[],Ki(a)?a:[]):a,u=t.concat(l);return r?u:u.concat(qr(Wa(l)))}function yi(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function tp(e,t){var n=wr(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function Xo(e,t,n){return t===Il?yi(Jd(e,n)):rr(t)?tp(t,n):yi(ep($n(e)))}function np(e){var t=qr(Wa(e)),n=["absolute","fixed"].indexOf(Tn(e).position)>=0,a=n&&Yt(e)?aa(e):e;return rr(a)?t.filter(function(r){return rr(r)&&Dl(r,a)&&fn(r)!=="body"}):[]}function rp(e,t,n,a){var r=t==="clippingParents"?np(e):[].concat(t),s=[].concat(r,[n]),l=s[0],u=s.reduce(function(c,m){var f=Xo(e,m,a);return c.top=Qn(f.top,c.top),c.right=ka(f.right,c.right),c.bottom=ka(f.bottom,c.bottom),c.left=Qn(f.left,c.left),c},Xo(e,l,a));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function Pl(e){var t=e.reference,n=e.element,a=e.placement,r=a?pn(a):null,s=a?Or(a):null,l=t.x+t.width/2-n.width/2,u=t.y+t.height/2-n.height/2,c;switch(r){case Pt:c={x:l,y:t.y-n.height};break;case Wt:c={x:l,y:t.y+t.height};break;case jt:c={x:t.x+t.width,y:u};break;case Mt:c={x:t.x-n.width,y:u};break;default:c={x:t.x,y:t.y}}var m=r?ji(r):null;if(m!=null){var f=m==="y"?"height":"width";switch(s){case _r:c[m]=c[m]-(t[f]/2-n[f]/2);break;case Zr:c[m]=c[m]+(t[f]/2-n[f]/2);break}}return c}function Qr(e,t){t===void 0&&(t={});var n=t,a=n.placement,r=a===void 0?e.placement:a,s=n.strategy,l=s===void 0?e.strategy:s,u=n.boundary,c=u===void 0?_d:u,m=n.rootBoundary,f=m===void 0?Il:m,g=n.elementContext,_=g===void 0?$r:g,I=n.altBoundary,E=I===void 0?!1:I,w=n.padding,S=w===void 0?0:w,C=Ol(typeof S!="number"?S:Sl(S,ra)),v=_===$r?Dd:$r,T=e.rects.popper,R=e.elements[E?v:_],A=rp(rr(R)?R:R.contextElement||$n(e.elements.popper),c,f,l),G=wr(e.elements.reference),B=Pl({reference:G,element:T,strategy:"absolute",placement:r}),b=yi(Object.assign({},T,B)),y=_===$r?b:G,W={top:A.top-y.top+C.top,bottom:y.bottom-A.bottom+C.bottom,left:A.left-y.left+C.left,right:y.right-A.right+C.right},V=e.modifiersData.offset;if(_===$r&&V){var P=V[r];Object.keys(W).forEach(function(z){var k=[jt,Wt].indexOf(z)>=0?1:-1,ne=[Pt,Wt].indexOf(z)>=0?"y":"x";W[z]+=P[ne]*k})}return W}function ap(e,t){t===void 0&&(t={});var n=t,a=n.placement,r=n.boundary,s=n.rootBoundary,l=n.padding,u=n.flipVariations,c=n.allowedAutoPlacements,m=c===void 0?Tl:c,f=Or(a),g=f?u?jo:jo.filter(function(E){return Or(E)===f}):ra,_=g.filter(function(E){return m.indexOf(E)>=0});_.length===0&&(_=g);var I=_.reduce(function(E,w){return E[w]=Qr(e,{placement:w,boundary:r,rootBoundary:s,padding:l})[pn(w)],E},{});return Object.keys(I).sort(function(E,w){return I[E]-I[w]})}function ip(e){if(pn(e)===Hi)return[];var t=Ma(e);return[Ko(e),t,Ko(t)]}function op(e){var t=e.state,n=e.options,a=e.name;if(!t.modifiersData[a]._skip){for(var r=n.mainAxis,s=r===void 0?!0:r,l=n.altAxis,u=l===void 0?!0:l,c=n.fallbackPlacements,m=n.padding,f=n.boundary,g=n.rootBoundary,_=n.altBoundary,I=n.flipVariations,E=I===void 0?!0:I,w=n.allowedAutoPlacements,S=t.options.placement,C=pn(S),v=C===S,T=c||(v||!E?[Ma(S)]:ip(S)),R=[S].concat(T).reduce(function(me,Ie){return me.concat(pn(Ie)===Hi?ap(t,{placement:Ie,boundary:f,rootBoundary:g,padding:m,flipVariations:E,allowedAutoPlacements:w}):Ie)},[]),A=t.rects.reference,G=t.rects.popper,B=new Map,b=!0,y=R[0],W=0;W<R.length;W++){var V=R[W],P=pn(V),z=Or(V)===_r,k=[Pt,Wt].indexOf(P)>=0,ne=k?"width":"height",x=Qr(t,{placement:V,boundary:f,rootBoundary:g,altBoundary:_,padding:m}),U=k?z?jt:Mt:z?Wt:Pt;A[ne]>G[ne]&&(U=Ma(U));var j=Ma(U),q=[];if(s&&q.push(x[P]<=0),u&&q.push(x[U]<=0,x[j]<=0),q.every(function(me){return me})){y=V,b=!1;break}B.set(V,q)}if(b)for(var ie=E?3:1,de=function(Ie){var oe=R.find(function(Te){var re=B.get(Te);if(re)return re.slice(0,Ie).every(function(ae){return ae})});if(oe)return y=oe,"break"},ke=ie;ke>0;ke--){var Ue=de(ke);if(Ue==="break")break}t.placement!==y&&(t.modifiersData[a]._skip=!0,t.placement=y,t.reset=!0)}}const sp={name:"flip",enabled:!0,phase:"main",fn:op,requiresIfExists:["offset"],data:{_skip:!1}};function Zo(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Qo(e){return[Pt,jt,Wt,Mt].some(function(t){return e[t]>=0})}function lp(e){var t=e.state,n=e.name,a=t.rects.reference,r=t.rects.popper,s=t.modifiersData.preventOverflow,l=Qr(t,{elementContext:"reference"}),u=Qr(t,{altBoundary:!0}),c=Zo(l,a),m=Zo(u,r,s),f=Qo(c),g=Qo(m);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:m,isReferenceHidden:f,hasPopperEscaped:g},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":g})}const cp={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:lp};function up(e,t,n){var a=pn(e),r=[Mt,Pt].indexOf(a)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,l=s[0],u=s[1];return l=l||0,u=(u||0)*r,[Mt,jt].indexOf(a)>=0?{x:u,y:l}:{x:l,y:u}}function dp(e){var t=e.state,n=e.options,a=e.name,r=n.offset,s=r===void 0?[0,0]:r,l=Tl.reduce(function(f,g){return f[g]=up(g,t.rects,s),f},{}),u=l[t.placement],c=u.x,m=u.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=m),t.modifiersData[a]=l}const pp={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:dp};function fp(e){var t=e.state,n=e.name;t.modifiersData[n]=Pl({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const mp={name:"popperOffsets",enabled:!0,phase:"read",fn:fp,data:{}};function gp(e){return e==="x"?"y":"x"}function hp(e){var t=e.state,n=e.options,a=e.name,r=n.mainAxis,s=r===void 0?!0:r,l=n.altAxis,u=l===void 0?!1:l,c=n.boundary,m=n.rootBoundary,f=n.altBoundary,g=n.padding,_=n.tether,I=_===void 0?!0:_,E=n.tetherOffset,w=E===void 0?0:E,S=Qr(t,{boundary:c,rootBoundary:m,padding:g,altBoundary:f}),C=pn(t.placement),v=Or(t.placement),T=!v,R=ji(C),A=gp(R),G=t.modifiersData.popperOffsets,B=t.rects.reference,b=t.rects.popper,y=typeof w=="function"?w(Object.assign({},t.rects,{placement:t.placement})):w,W=typeof y=="number"?{mainAxis:y,altAxis:y}:Object.assign({mainAxis:0,altAxis:0},y),V=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,P={x:0,y:0};if(G){if(s){var z,k=R==="y"?Pt:Mt,ne=R==="y"?Wt:jt,x=R==="y"?"height":"width",U=G[R],j=U+S[k],q=U-S[ne],ie=I?-b[x]/2:0,de=v===_r?B[x]:b[x],ke=v===_r?-b[x]:-B[x],Ue=t.elements.arrow,me=I&&Ue?Wi(Ue):{width:0,height:0},Ie=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:wl(),oe=Ie[k],Te=Ie[ne],re=jr(0,B[x],me[x]),ae=T?B[x]/2-ie-re-oe-W.mainAxis:de-re-oe-W.mainAxis,_e=T?-B[x]/2+ie+re+Te+W.mainAxis:ke+re+Te+W.mainAxis,st=t.elements.arrow&&aa(t.elements.arrow),Ye=st?R==="y"?st.clientTop||0:st.clientLeft||0:0,gt=(z=V==null?void 0:V[R])!=null?z:0,lt=U+ae-gt-Ye,Be=U+_e-gt,te=jr(I?ka(j,lt):j,U,I?Qn(q,Be):q);G[R]=te,P[R]=te-U}if(u){var Ce,ve=R==="x"?Pt:Mt,ht=R==="x"?Wt:jt,Qe=G[A],Ae=A==="y"?"height":"width",_t=Qe+S[ve],Je=Qe-S[ht],ze=[Pt,Mt].indexOf(C)!==-1,qt=(Ce=V==null?void 0:V[A])!=null?Ce:0,Dt=ze?_t:Qe-B[Ae]-b[Ae]-qt+W.altAxis,zt=ze?Qe+B[Ae]+b[Ae]-qt-W.altAxis:Je,Ge=I&&ze?$d(Dt,Qe,zt):jr(I?Dt:_t,Qe,I?zt:Je);G[A]=Ge,P[A]=Ge-Qe}t.modifiersData[a]=P}}const vp={name:"preventOverflow",enabled:!0,phase:"main",fn:hp,requiresIfExists:["offset"]};function Ep(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function bp(e){return e===Nt(e)||!Yt(e)?qi(e):Ep(e)}function yp(e){var t=e.getBoundingClientRect(),n=Dr(t.width)/e.offsetWidth||1,a=Dr(t.height)/e.offsetHeight||1;return n!==1||a!==1}function Ip(e,t,n){n===void 0&&(n=!1);var a=Yt(t),r=Yt(t)&&yp(t),s=$n(t),l=wr(e,r,n),u={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(a||!a&&!n)&&((fn(t)!=="body"||Ki(s))&&(u=bp(t)),Yt(t)?(c=wr(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):s&&(c.x=zi(s))),{x:l.left+u.scrollLeft-c.x,y:l.top+u.scrollTop-c.y,width:l.width,height:l.height}}function Tp(e){var t=new Map,n=new Set,a=[];e.forEach(function(s){t.set(s.name,s)});function r(s){n.add(s.name);var l=[].concat(s.requires||[],s.requiresIfExists||[]);l.forEach(function(u){if(!n.has(u)){var c=t.get(u);c&&r(c)}}),a.push(s)}return e.forEach(function(s){n.has(s.name)||r(s)}),a}function _p(e){var t=Tp(e);return Ld.reduce(function(n,a){return n.concat(t.filter(function(r){return r.phase===a}))},[])}function Dp(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function wp(e){var t=e.reduce(function(n,a){var r=n[a.name];return n[a.name]=r?Object.assign({},r,a,{options:Object.assign({},r.options,a.options),data:Object.assign({},r.data,a.data)}):a,n},{});return Object.keys(t).map(function(n){return t[n]})}var Jo={placement:"bottom",modifiers:[],strategy:"absolute"};function es(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(a){return!(a&&typeof a.getBoundingClientRect=="function")})}function Op(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,a=n===void 0?[]:n,r=t.defaultOptions,s=r===void 0?Jo:r;return function(u,c,m){m===void 0&&(m=s);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},Jo,s),modifiersData:{},elements:{reference:u,popper:c},attributes:{},styles:{}},g=[],_=!1,I={state:f,setOptions:function(C){var v=typeof C=="function"?C(f.options):C;w(),f.options=Object.assign({},s,f.options,v),f.scrollParents={reference:rr(u)?qr(u):u.contextElement?qr(u.contextElement):[],popper:qr(c)};var T=_p(wp([].concat(a,f.options.modifiers)));return f.orderedModifiers=T.filter(function(R){return R.enabled}),E(),I.update()},forceUpdate:function(){if(!_){var C=f.elements,v=C.reference,T=C.popper;if(es(v,T)){f.rects={reference:Ip(v,aa(T),f.options.strategy==="fixed"),popper:Wi(T)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(W){return f.modifiersData[W.name]=Object.assign({},W.data)});for(var R=0;R<f.orderedModifiers.length;R++){if(f.reset===!0){f.reset=!1,R=-1;continue}var A=f.orderedModifiers[R],G=A.fn,B=A.options,b=B===void 0?{}:B,y=A.name;typeof G=="function"&&(f=G({state:f,options:b,name:y,instance:I})||f)}}}},update:Dp(function(){return new Promise(function(S){I.forceUpdate(),S(f)})}),destroy:function(){w(),_=!0}};if(!es(u,c))return I;I.setOptions(m).then(function(S){!_&&m.onFirstUpdate&&m.onFirstUpdate(S)});function E(){f.orderedModifiers.forEach(function(S){var C=S.name,v=S.options,T=v===void 0?{}:v,R=S.effect;if(typeof R=="function"){var A=R({state:f,name:C,instance:I,options:T}),G=function(){};g.push(A||G)}})}function w(){g.forEach(function(S){return S()}),g=[]}return I}}var Sp=[Xd,mp,zd,Bd,pp,sp,vp,Yd,cp],Rp=Op({defaultModifiers:Sp});const Ml="Popper";function Pp(e){return yl(Ml,e)}Td(Ml,["root"]);const Mp=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Cp=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Ap(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function Ii(e){return typeof e=="function"?e():e}function xp(e){return e.nodeType!==void 0}const Lp=()=>Ha({root:["root"]},bd(Pp)),Np={},kp=h.forwardRef(function(t,n){var a;const{anchorEl:r,children:s,direction:l,disablePortal:u,modifiers:c,open:m,placement:f,popperOptions:g,popperRef:_,slotProps:I={},slots:E={},TransitionProps:w}=t,S=In(t,Mp),C=h.useRef(null),v=Na(C,n),T=h.useRef(null),R=Na(T,_),A=h.useRef(R);Ho(()=>{A.current=R},[R]),h.useImperativeHandle(_,()=>T.current,[]);const G=Ap(f,l),[B,b]=h.useState(G),[y,W]=h.useState(Ii(r));h.useEffect(()=>{T.current&&T.current.forceUpdate()}),h.useEffect(()=>{r&&W(Ii(r))},[r]),Ho(()=>{if(!y||!m)return;const ne=j=>{b(j.placement)};let x=[{name:"preventOverflow",options:{altBoundary:u}},{name:"flip",options:{altBoundary:u}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:j})=>{ne(j)}}];c!=null&&(x=x.concat(c)),g&&g.modifiers!=null&&(x=x.concat(g.modifiers));const U=Rp(y,C.current,ye({placement:G},g,{modifiers:x}));return A.current(U),()=>{U.destroy(),A.current(null)}},[y,u,c,m,g,G]);const V={placement:B};w!==null&&(V.TransitionProps=w);const P=Lp(),z=(a=E.root)!=null?a:"div",k=ed({elementType:z,externalSlotProps:I.root,externalForwardedProps:S,additionalProps:{role:"tooltip",ref:v},ownerState:t,className:P.root});return Ne.jsx(z,ye({},k,{children:typeof s=="function"?s(V):s}))}),Bp=h.forwardRef(function(t,n){const{anchorEl:a,children:r,container:s,direction:l="ltr",disablePortal:u=!1,keepMounted:c=!1,modifiers:m,open:f,placement:g="bottom",popperOptions:_=Np,popperRef:I,style:E,transition:w=!1,slotProps:S={},slots:C={}}=t,v=In(t,Cp),[T,R]=h.useState(!0),A=()=>{R(!1)},G=()=>{R(!0)};if(!c&&!f&&(!w||T))return null;let B;if(s)B=s;else if(a){const W=Ii(a);B=W&&xp(W)?Vo(W).body:Vo(null).body}const b=!f&&c&&(!w||T)?"none":void 0,y=w?{in:f,onEnter:A,onExited:G}:void 0;return Ne.jsx(Ju,{disablePortal:u,container:B,children:Ne.jsx(kp,ye({anchorEl:a,direction:l,disablePortal:u,modifiers:m,ref:n,open:w?!T:f,placement:g,popperOptions:_,popperRef:I,slotProps:S,slots:C},v,{style:ye({position:"fixed",top:0,left:0,display:b},E),TransitionProps:y,children:r}))})});function ts(e){return typeof e.normalize<"u"?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e}function Fp(e={}){const{ignoreAccents:t=!0,ignoreCase:n=!0,limit:a,matchFrom:r="any",stringify:s,trim:l=!1}=e;return(u,{inputValue:c,getOptionLabel:m})=>{let f=l?c.trim():c;n&&(f=f.toLowerCase()),t&&(f=ts(f));const g=f?u.filter(_=>{let I=(s||m)(_);return n&&(I=I.toLowerCase()),t&&(I=ts(I)),r==="start"?I.indexOf(f)===0:I.indexOf(f)>-1}):u;return typeof a=="number"?g.slice(0,a):g}}function ma(e,t){for(let n=0;n<e.length;n+=1)if(t(e[n]))return n;return-1}const Gp=Fp(),ns=5,$p=e=>{var t;return e.current!==null&&((t=e.current.parentElement)==null?void 0:t.contains(document.activeElement))};function Up(e){const{unstable_isActiveElementInListbox:t=$p,unstable_classNamePrefix:n="Mui",autoComplete:a=!1,autoHighlight:r=!1,autoSelect:s=!1,blurOnSelect:l=!1,clearOnBlur:u=!e.freeSolo,clearOnEscape:c=!1,componentName:m="useAutocomplete",defaultValue:f=e.multiple?[]:null,disableClearable:g=!1,disableCloseOnSelect:_=!1,disabled:I,disabledItemsFocusable:E=!1,disableListWrap:w=!1,filterOptions:S=Gp,filterSelectedOptions:C=!1,freeSolo:v=!1,getOptionDisabled:T,getOptionKey:R,getOptionLabel:A=F=>{var L;return(L=F.label)!=null?L:F},groupBy:G,handleHomeEndKeys:B=!e.freeSolo,id:b,includeInputInList:y=!1,inputValue:W,isOptionEqualToValue:V=(F,L)=>F===L,multiple:P=!1,onChange:z,onClose:k,onHighlightChange:ne,onInputChange:x,onOpen:U,open:j,openOnFocus:q=!1,options:ie,readOnly:de=!1,selectOnFocus:ke=!e.freeSolo,value:Ue}=e,me=td(b);let Ie=A;Ie=F=>{const L=A(F);return typeof L!="string"?String(L):L};const oe=h.useRef(!1),Te=h.useRef(!0),re=h.useRef(null),ae=h.useRef(null),[_e,st]=h.useState(null),[Ye,gt]=h.useState(-1),lt=r?0:-1,Be=h.useRef(lt),[te,Ce]=oi({controlled:Ue,default:f,name:m}),[ve,ht]=oi({controlled:W,default:"",name:m,state:"inputValue"}),[Qe,Ae]=h.useState(!1),_t=h.useCallback((F,L)=>{if(!(P?te.length<L.length:L!==null)&&!u)return;let K;if(P)K="";else if(L==null)K="";else{const se=Ie(L);K=typeof se=="string"?se:""}ve!==K&&(ht(K),x&&x(F,K,"reset"))},[Ie,ve,P,x,ht,u,te]),[Je,ze]=oi({controlled:j,default:!1,name:m,state:"open"}),[qt,Dt]=h.useState(!0),zt=!P&&te!=null&&ve===Ie(te),Ge=Je&&!de,Oe=Ge?S(ie.filter(F=>!(C&&(P?te:[te]).some(L=>L!==null&&V(F,L)))),{inputValue:zt&&qt?"":ve,getOptionLabel:Ie}):[],ft=sd({filteredOptions:Oe,value:te,inputValue:ve});h.useEffect(()=>{const F=te!==ft.value;Qe&&!F||v&&!F||_t(null,te)},[te,_t,Qe,ft.value,v]);const Kt=Je&&Oe.length>0&&!de,rn=pa(F=>{F===-1?re.current.focus():_e.querySelector(`[data-tag-index="${F}"]`).focus()});h.useEffect(()=>{P&&Ye>te.length-1&&(gt(-1),rn(-1))},[te,P,Ye,rn]);function le(F,L){if(!ae.current||F<0||F>=Oe.length)return-1;let Z=F;for(;;){const K=ae.current.querySelector(`[data-option-index="${Z}"]`),se=E?!1:!K||K.disabled||K.getAttribute("aria-disabled")==="true";if(K&&K.hasAttribute("tabindex")&&!se)return Z;if(L==="next"?Z=(Z+1)%Oe.length:Z=(Z-1+Oe.length)%Oe.length,Z===F)return-1}}const $=pa(({event:F,index:L,reason:Z="auto"})=>{if(Be.current=L,L===-1?re.current.removeAttribute("aria-activedescendant"):re.current.setAttribute("aria-activedescendant",`${me}-option-${L}`),ne&&ne(F,L===-1?null:Oe[L],Z),!ae.current)return;const K=ae.current.querySelector(`[role="option"].${n}-focused`);K&&(K.classList.remove(`${n}-focused`),K.classList.remove(`${n}-focusVisible`));let se=ae.current;if(ae.current.getAttribute("role")!=="listbox"&&(se=ae.current.parentElement.querySelector('[role="listbox"]')),!se)return;if(L===-1){se.scrollTop=0;return}const Me=ae.current.querySelector(`[data-option-index="${L}"]`);if(Me&&(Me.classList.add(`${n}-focused`),Z==="keyboard"&&Me.classList.add(`${n}-focusVisible`),se.scrollHeight>se.clientHeight&&Z!=="mouse"&&Z!=="touch")){const Le=Me,nt=se.clientHeight+se.scrollTop,cr=Le.offsetTop+Le.offsetHeight;cr>nt?se.scrollTop=cr-se.clientHeight:Le.offsetTop-Le.offsetHeight*(G?1.3:0)<se.scrollTop&&(se.scrollTop=Le.offsetTop-Le.offsetHeight*(G?1.3:0))}}),J=pa(({event:F,diff:L,direction:Z="next",reason:K="auto"})=>{if(!Ge)return;const Me=le((()=>{const Le=Oe.length-1;if(L==="reset")return lt;if(L==="start")return 0;if(L==="end")return Le;const nt=Be.current+L;return nt<0?nt===-1&&y?-1:w&&Be.current!==-1||Math.abs(L)>1?0:Le:nt>Le?nt===Le+1&&y?-1:w||Math.abs(L)>1?Le:0:nt})(),Z);if($({index:Me,reason:K,event:F}),a&&L!=="reset")if(Me===-1)re.current.value=ve;else{const Le=Ie(Oe[Me]);re.current.value=Le,Le.toLowerCase().indexOf(ve.toLowerCase())===0&&ve.length>0&&re.current.setSelectionRange(ve.length,Le.length)}}),ge=()=>{const F=(L,Z)=>{const K=L?Ie(L):"",se=Z?Ie(Z):"";return K===se};if(Be.current!==-1&&ft.filteredOptions&&ft.filteredOptions.length!==Oe.length&&ft.inputValue===ve&&(P?te.length===ft.value.length&&ft.value.every((L,Z)=>Ie(te[Z])===Ie(L)):F(ft.value,te))){const L=ft.filteredOptions[Be.current];if(L)return ma(Oe,Z=>Ie(Z)===Ie(L))}return-1},ce=h.useCallback(()=>{if(!Ge)return;const F=ge();if(F!==-1){Be.current=F;return}const L=P?te[0]:te;if(Oe.length===0||L==null){J({diff:"reset"});return}if(ae.current){if(L!=null){const Z=Oe[Be.current];if(P&&Z&&ma(te,se=>V(Z,se))!==-1)return;const K=ma(Oe,se=>V(se,L));K===-1?J({diff:"reset"}):$({index:K});return}if(Be.current>=Oe.length-1){$({index:Oe.length-1});return}$({index:Be.current})}},[Oe.length,P?!1:te,C,J,$,Ge,ve,P]),Ee=pa(F=>{nd(ae,F),F&&ce()});h.useEffect(()=>{ce()},[ce]);const Pe=F=>{Je||(ze(!0),Dt(!0),U&&U(F))},Ve=(F,L)=>{Je&&(ze(!1),k&&k(F,L))},vt=(F,L,Z,K)=>{if(P){if(te.length===L.length&&te.every((se,Me)=>se===L[Me]))return}else if(te===L)return;z&&z(F,L,Z,K),Ce(L)},tt=h.useRef(!1),We=(F,L,Z="selectOption",K="options")=>{let se=Z,Me=L;if(P){Me=Array.isArray(te)?te.slice():[];const Le=ma(Me,nt=>V(L,nt));Le===-1?Me.push(L):K!=="freeSolo"&&(Me.splice(Le,1),se="removeOption")}_t(F,Me),vt(F,Me,se,{option:L}),!_&&(!F||!F.ctrlKey&&!F.metaKey)&&Ve(F,se),(l===!0||l==="touch"&&tt.current||l==="mouse"&&!tt.current)&&re.current.blur()};function ct(F,L){if(F===-1)return-1;let Z=F;for(;;){if(L==="next"&&Z===te.length||L==="previous"&&Z===-1)return-1;const K=_e.querySelector(`[data-tag-index="${Z}"]`);if(!K||!K.hasAttribute("tabindex")||K.disabled||K.getAttribute("aria-disabled")==="true")Z+=L==="next"?1:-1;else return Z}}const Xt=(F,L)=>{if(!P)return;ve===""&&Ve(F,"toggleInput");let Z=Ye;Ye===-1?ve===""&&L==="previous"&&(Z=te.length-1):(Z+=L==="next"?1:-1,Z<0&&(Z=0),Z===te.length&&(Z=-1)),Z=ct(Z,L),gt(Z),rn(Z)},wn=F=>{oe.current=!0,ht(""),x&&x(F,"","clear"),vt(F,P?[]:null,"clear")},Zt=F=>L=>{if(F.onKeyDown&&F.onKeyDown(L),!L.defaultMuiPrevented&&(Ye!==-1&&["ArrowLeft","ArrowRight"].indexOf(L.key)===-1&&(gt(-1),rn(-1)),L.which!==229))switch(L.key){case"Home":Ge&&B&&(L.preventDefault(),J({diff:"start",direction:"next",reason:"keyboard",event:L}));break;case"End":Ge&&B&&(L.preventDefault(),J({diff:"end",direction:"previous",reason:"keyboard",event:L}));break;case"PageUp":L.preventDefault(),J({diff:-ns,direction:"previous",reason:"keyboard",event:L}),Pe(L);break;case"PageDown":L.preventDefault(),J({diff:ns,direction:"next",reason:"keyboard",event:L}),Pe(L);break;case"ArrowDown":L.preventDefault(),J({diff:1,direction:"next",reason:"keyboard",event:L}),Pe(L);break;case"ArrowUp":L.preventDefault(),J({diff:-1,direction:"previous",reason:"keyboard",event:L}),Pe(L);break;case"ArrowLeft":Xt(L,"previous");break;case"ArrowRight":Xt(L,"next");break;case"Enter":if(Be.current!==-1&&Ge){const Z=Oe[Be.current],K=T?T(Z):!1;if(L.preventDefault(),K)return;We(L,Z,"selectOption"),a&&re.current.setSelectionRange(re.current.value.length,re.current.value.length)}else v&&ve!==""&&zt===!1&&(P&&L.preventDefault(),We(L,ve,"createOption","freeSolo"));break;case"Escape":Ge?(L.preventDefault(),L.stopPropagation(),Ve(L,"escape")):c&&(ve!==""||P&&te.length>0)&&(L.preventDefault(),L.stopPropagation(),wn(L));break;case"Backspace":if(P&&!de&&ve===""&&te.length>0){const Z=Ye===-1?te.length-1:Ye,K=te.slice();K.splice(Z,1),vt(L,K,"removeOption",{option:te[Z]})}break;case"Delete":if(P&&!de&&ve===""&&te.length>0&&Ye!==-1){const Z=Ye,K=te.slice();K.splice(Z,1),vt(L,K,"removeOption",{option:te[Z]})}break}},On=F=>{Ae(!0),q&&!oe.current&&Pe(F)},Ke=F=>{if(t(ae)){re.current.focus();return}Ae(!1),Te.current=!0,oe.current=!1,s&&Be.current!==-1&&Ge?We(F,Oe[Be.current],"blur"):s&&v&&ve!==""?We(F,ve,"blur","freeSolo"):u&&_t(F,te),Ve(F,"blur")},xe=F=>{const L=F.target.value;ve!==L&&(ht(L),Dt(!1),x&&x(F,L,"input")),L===""?!g&&!P&&vt(F,null,"clear"):Pe(F)},$e=F=>{const L=Number(F.currentTarget.getAttribute("data-option-index"));Be.current!==L&&$({event:F,index:L,reason:"mouse"})},ut=F=>{$({event:F,index:Number(F.currentTarget.getAttribute("data-option-index")),reason:"touch"}),tt.current=!0},Lr=F=>{const L=Number(F.currentTarget.getAttribute("data-option-index"));We(F,Oe[L],"selectOption"),tt.current=!1},sr=F=>L=>{const Z=te.slice();Z.splice(F,1),vt(L,Z,"removeOption",{option:te[F]})},lr=F=>{Je?Ve(F,"toggleInput"):Pe(F)},Nr=F=>{F.currentTarget.contains(F.target)&&F.target.getAttribute("id")!==me&&F.preventDefault()},Un=F=>{F.currentTarget.contains(F.target)&&(re.current.focus(),ke&&Te.current&&re.current.selectionEnd-re.current.selectionStart===0&&re.current.select(),Te.current=!1)},Sn=F=>{!I&&(ve===""||!Je)&&lr(F)};let mn=v&&ve.length>0;mn=mn||(P?te.length>0:te!==null);let mt=Oe;return G&&(mt=Oe.reduce((F,L,Z)=>{const K=G(L);return F.length>0&&F[F.length-1].group===K?F[F.length-1].options.push(L):F.push({key:Z,index:Z,group:K,options:[L]}),F},[])),I&&Qe&&Ke(),{getRootProps:(F={})=>ye({"aria-owns":Kt?`${me}-listbox`:null},F,{onKeyDown:Zt(F),onMouseDown:Nr,onClick:Un}),getInputLabelProps:()=>({id:`${me}-label`,htmlFor:me}),getInputProps:()=>({id:me,value:ve,onBlur:Ke,onFocus:On,onChange:xe,onMouseDown:Sn,"aria-activedescendant":Ge?"":null,"aria-autocomplete":a?"both":"list","aria-controls":Kt?`${me}-listbox`:void 0,"aria-expanded":Kt,autoComplete:"off",ref:re,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:I}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:wn}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:lr}),getTagProps:({index:F})=>ye({key:F,"data-tag-index":F,tabIndex:-1},!de&&{onDelete:sr(F)}),getListboxProps:()=>({role:"listbox",id:`${me}-listbox`,"aria-labelledby":`${me}-label`,ref:Ee,onMouseDown:F=>{F.preventDefault()}}),getOptionProps:({index:F,option:L})=>{var Z;const K=(P?te:[te]).some(Me=>Me!=null&&V(L,Me)),se=T?T(L):!1;return{key:(Z=R==null?void 0:R(L))!=null?Z:Ie(L),tabIndex:-1,role:"option",id:`${me}-option-${F}`,onMouseMove:$e,onClick:Lr,onTouchStart:ut,"data-option-index":F,"aria-disabled":se,"aria-selected":K}},id:me,inputValue:ve,value:te,dirty:mn,expanded:Ge&&_e,popupOpen:Ge,focused:Qe||Ye!==-1,anchorEl:_e,setAnchorEl:st,focusedTag:Ye,groupedOptions:mt}}var Xi={};Object.defineProperty(Xi,"__esModule",{value:!0});var Cl=Xi.default=void 0,Vp=Yp(h),Hp=rd;function Al(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(Al=function(a){return a?n:t})(e)}function Yp(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=Al(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var l=r?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(a,s,l):a[s]=e[s]}return a.default=e,n&&n.set(e,a),a}function Wp(e){return Object.keys(e).length===0}function jp(e=null){const t=Vp.useContext(Hp.ThemeContext);return!t||Wp(t)?e:t}Cl=Xi.default=jp;const qp=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],zp=It(Bp,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Kp=h.forwardRef(function(t,n){var a;const r=Cl(),s=Ya({props:t,name:"MuiPopper"}),{anchorEl:l,component:u,components:c,componentsProps:m,container:f,disablePortal:g,keepMounted:_,modifiers:I,open:E,placement:w,popperOptions:S,popperRef:C,transition:v,slots:T,slotProps:R}=s,A=In(s,qp),G=(a=T==null?void 0:T.root)!=null?a:c==null?void 0:c.Root,B=ye({anchorEl:l,container:f,disablePortal:g,keepMounted:_,modifiers:I,open:E,placement:w,popperOptions:S,popperRef:C,transition:v},A);return Ne.jsx(zp,ye({as:u,direction:r==null?void 0:r.direction,slots:{root:G},slotProps:R??m},B,{ref:n}))}),xl=Kp;function Xp(e){return $i("MuiListSubheader",e)}Ui("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const Zp=["className","color","component","disableGutters","disableSticky","inset"],Qp=e=>{const{classes:t,color:n,disableGutters:a,inset:r,disableSticky:s}=e,l={root:["root",n!=="default"&&`color${Re(n)}`,!a&&"gutters",r&&"inset",!s&&"sticky"]};return Ha(l,Xp,t)},Jp=It("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${Re(n.color)}`],!n.disableGutters&&t.gutters,n.inset&&t.inset,!n.disableSticky&&t.sticky]}})(({theme:e,ownerState:t})=>ye({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},t.color==="primary"&&{color:(e.vars||e).palette.primary.main},t.color==="inherit"&&{color:"inherit"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.inset&&{paddingLeft:72},!t.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper})),Ll=h.forwardRef(function(t,n){const a=Ya({props:t,name:"MuiListSubheader"}),{className:r,color:s="default",component:l="li",disableGutters:u=!1,disableSticky:c=!1,inset:m=!1}=a,f=In(a,Zp),g=ye({},a,{color:s,component:l,disableGutters:u,disableSticky:c,inset:m}),_=Qp(g);return Ne.jsx(Jp,ye({as:l,className:Vt(_.root,r),ref:n,ownerState:g},f))});Ll.muiSkipListHighlight=!0;const ef=Ll,tf=pl(Ne.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function nf(e){return $i("MuiChip",e)}const rf=Ui("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Se=rf,af=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],of=e=>{const{classes:t,disabled:n,size:a,color:r,iconColor:s,onDelete:l,clickable:u,variant:c}=e,m={root:["root",c,n&&"disabled",`size${Re(a)}`,`color${Re(r)}`,u&&"clickable",u&&`clickableColor${Re(r)}`,l&&"deletable",l&&`deletableColor${Re(r)}`,`${c}${Re(r)}`],label:["label",`label${Re(a)}`],avatar:["avatar",`avatar${Re(a)}`,`avatarColor${Re(r)}`],icon:["icon",`icon${Re(a)}`,`iconColor${Re(s)}`],deleteIcon:["deleteIcon",`deleteIcon${Re(a)}`,`deleteIconColor${Re(r)}`,`deleteIcon${Re(c)}Color${Re(r)}`]};return Ha(m,nf,t)},sf=It("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:a,iconColor:r,clickable:s,onDelete:l,size:u,variant:c}=n;return[{[`& .${Se.avatar}`]:t.avatar},{[`& .${Se.avatar}`]:t[`avatar${Re(u)}`]},{[`& .${Se.avatar}`]:t[`avatarColor${Re(a)}`]},{[`& .${Se.icon}`]:t.icon},{[`& .${Se.icon}`]:t[`icon${Re(u)}`]},{[`& .${Se.icon}`]:t[`iconColor${Re(r)}`]},{[`& .${Se.deleteIcon}`]:t.deleteIcon},{[`& .${Se.deleteIcon}`]:t[`deleteIcon${Re(u)}`]},{[`& .${Se.deleteIcon}`]:t[`deleteIconColor${Re(a)}`]},{[`& .${Se.deleteIcon}`]:t[`deleteIcon${Re(c)}Color${Re(a)}`]},t.root,t[`size${Re(u)}`],t[`color${Re(a)}`],s&&t.clickable,s&&a!=="default"&&t[`clickableColor${Re(a)})`],l&&t.deletable,l&&a!=="default"&&t[`deletableColor${Re(a)}`],t[c],t[`${c}${Re(a)}`]]}})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return ye({maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Se.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Se.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:n,fontSize:e.typography.pxToRem(12)},[`& .${Se.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${Se.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${Se.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${Se.icon}`]:ye({marginLeft:5,marginRight:-6},t.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},t.iconColor===t.color&&ye({color:e.vars?e.vars.palette.Chip.defaultIconColor:n},t.color!=="default"&&{color:"inherit"})),[`& .${Se.deleteIcon}`]:ye({WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:xt(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:xt(e.palette.text.primary,.4)}},t.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},t.color!=="default"&&{color:e.vars?`rgba(${e.vars.palette[t.color].contrastTextChannel} / 0.7)`:xt(e.palette[t.color].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].contrastText}})},t.size==="small"&&{height:24},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.onDelete&&{[`&.${Se.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:xt(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},t.onDelete&&t.color!=="default"&&{[`&.${Se.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}})},({theme:e,ownerState:t})=>ye({},t.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:xt(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${Se.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:xt(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}},t.clickable&&t.color!=="default"&&{[`&:hover, &.${Se.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}}),({theme:e,ownerState:t})=>ye({},t.variant==="outlined"&&{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${Se.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${Se.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${Se.avatar}`]:{marginLeft:4},[`& .${Se.avatarSmall}`]:{marginLeft:2},[`& .${Se.icon}`]:{marginLeft:4},[`& .${Se.iconSmall}`]:{marginLeft:2},[`& .${Se.deleteIcon}`]:{marginRight:5},[`& .${Se.deleteIconSmall}`]:{marginRight:3}},t.variant==="outlined"&&t.color!=="default"&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:xt(e.palette[t.color].main,.7)}`,[`&.${Se.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:xt(e.palette[t.color].main,e.palette.action.hoverOpacity)},[`&.${Se.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.focusOpacity})`:xt(e.palette[t.color].main,e.palette.action.focusOpacity)},[`& .${Se.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:xt(e.palette[t.color].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].main}}})),lf=It("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:a}=n;return[t.label,t[`label${Re(a)}`]]}})(({ownerState:e})=>ye({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},e.variant==="outlined"&&{paddingLeft:11,paddingRight:11},e.size==="small"&&{paddingLeft:8,paddingRight:8},e.size==="small"&&e.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function rs(e){return e.key==="Backspace"||e.key==="Delete"}const cf=h.forwardRef(function(t,n){const a=Ya({props:t,name:"MuiChip"}),{avatar:r,className:s,clickable:l,color:u="default",component:c,deleteIcon:m,disabled:f=!1,icon:g,label:_,onClick:I,onDelete:E,onKeyDown:w,onKeyUp:S,size:C="medium",variant:v="filled",tabIndex:T,skipFocusWhenDisabled:R=!1}=a,A=In(a,af),G=h.useRef(null),B=Na(G,n),b=q=>{q.stopPropagation(),E&&E(q)},y=q=>{q.currentTarget===q.target&&rs(q)&&q.preventDefault(),w&&w(q)},W=q=>{q.currentTarget===q.target&&(E&&rs(q)?E(q):q.key==="Escape"&&G.current&&G.current.blur()),S&&S(q)},V=l!==!1&&I?!0:l,P=V||E?Yo:c||"div",z=ye({},a,{component:P,disabled:f,size:C,color:u,iconColor:h.isValidElement(g)&&g.props.color||u,onDelete:!!E,clickable:V,variant:v}),k=of(z),ne=P===Yo?ye({component:c||"div",focusVisibleClassName:k.focusVisible},E&&{disableRipple:!0}):{};let x=null;E&&(x=m&&h.isValidElement(m)?h.cloneElement(m,{className:Vt(m.props.className,k.deleteIcon),onClick:b}):Ne.jsx(tf,{className:Vt(k.deleteIcon),onClick:b}));let U=null;r&&h.isValidElement(r)&&(U=h.cloneElement(r,{className:Vt(k.avatar,r.props.className)}));let j=null;return g&&h.isValidElement(g)&&(j=h.cloneElement(g,{className:Vt(k.icon,g.props.className)})),Ne.jsxs(sf,ye({as:P,className:Vt(k.root,s),disabled:V&&f?!0:void 0,onClick:I,onKeyDown:y,onKeyUp:W,ref:B,tabIndex:R&&f?-1:T,ownerState:z},ne,A,{children:[U||j,Ne.jsx(lf,{className:Vt(k.label),ownerState:z,children:_}),x]}))}),uf=cf,df=pl(Ne.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");function pf(e){return $i("MuiAutocomplete",e)}const ff=Ui("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]),be=ff;var as,is;const mf=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionKey","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],gf=["ref"],hf=["key"],vf=["key"],Ef=e=>{const{classes:t,disablePortal:n,expanded:a,focused:r,fullWidth:s,hasClearIcon:l,hasPopupIcon:u,inputFocused:c,popupOpen:m,size:f}=e,g={root:["root",a&&"expanded",r&&"focused",s&&"fullWidth",l&&"hasClearIcon",u&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",c&&"inputFocused"],tag:["tag",`tagSize${Re(f)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",m&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return Ha(g,pf,t)},bf=It("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{fullWidth:a,hasClearIcon:r,hasPopupIcon:s,inputFocused:l,size:u}=n;return[{[`& .${be.tag}`]:t.tag},{[`& .${be.tag}`]:t[`tagSize${Re(u)}`]},{[`& .${be.inputRoot}`]:t.inputRoot},{[`& .${be.input}`]:t.input},{[`& .${be.input}`]:l&&t.inputFocused},t.root,a&&t.fullWidth,s&&t.hasPopupIcon,r&&t.hasClearIcon]}})({[`&.${be.focused} .${be.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${be.clearIndicator}`]:{visibility:"visible"}},[`& .${be.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${be.inputRoot}`]:{[`.${be.hasPopupIcon}&, .${be.hasClearIcon}&`]:{paddingRight:26+4},[`.${be.hasPopupIcon}.${be.hasClearIcon}&`]:{paddingRight:52+4},[`& .${be.input}`]:{width:0,minWidth:30}},[`& .${si.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${si.root}.${jn.sizeSmall}`]:{[`& .${si.input}`]:{padding:"2px 4px 3px 0"}},[`& .${Wo.root}`]:{padding:9,[`.${be.hasPopupIcon}&, .${be.hasClearIcon}&`]:{paddingRight:26+4+9},[`.${be.hasPopupIcon}.${be.hasClearIcon}&`]:{paddingRight:52+4+9},[`& .${be.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${be.endAdornment}`]:{right:9}},[`& .${Wo.root}.${jn.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${be.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${hr.root}`]:{paddingTop:19,paddingLeft:8,[`.${be.hasPopupIcon}&, .${be.hasClearIcon}&`]:{paddingRight:26+4+9},[`.${be.hasPopupIcon}.${be.hasClearIcon}&`]:{paddingRight:52+4+9},[`& .${hr.input}`]:{padding:"7px 4px"},[`& .${be.endAdornment}`]:{right:9}},[`& .${hr.root}.${jn.sizeSmall}`]:{paddingBottom:1,[`& .${hr.input}`]:{padding:"2.5px 4px"}},[`& .${jn.hiddenLabel}`]:{paddingTop:8},[`& .${hr.root}.${jn.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${be.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${hr.root}.${jn.hiddenLabel}.${jn.sizeSmall}`]:{[`& .${be.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${be.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${be.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${be.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${be.inputRoot}`]:{flexWrap:"wrap"}}}]}),yf=It("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(e,t)=>t.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),If=It(fl,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(e,t)=>t.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),Tf=It(fl,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:e},t)=>ye({},t.popupIndicator,e.popupOpen&&t.popupIndicatorOpen)})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),_f=It(xl,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${be.option}`]:t.option},t.popper,n.disablePortal&&t.popperDisablePortal]}})(({theme:e})=>({zIndex:(e.vars||e).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]})),Df=It(ml,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(e,t)=>t.paper})(({theme:e})=>ye({},e.typography.body1,{overflow:"auto"})),wf=It("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(e,t)=>t.loading})(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"})),Of=It("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(e,t)=>t.noOptions})(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"})),Sf=It("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(e,t)=>t.listbox})(({theme:e})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${be.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${be.focused}`]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${be.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:xt(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${be.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:xt(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${be.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:xt(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}}})),Rf=It(ef,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(e,t)=>t.groupLabel})(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,top:-8})),Pf=It("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(e,t)=>t.groupUl})({padding:0,[`& .${be.option}`]:{paddingLeft:24}}),Mf=h.forwardRef(function(t,n){var a,r,s,l;const u=Ya({props:t,name:"MuiAutocomplete"}),{autoComplete:c=!1,autoHighlight:m=!1,autoSelect:f=!1,blurOnSelect:g=!1,ChipProps:_,className:I,clearIcon:E=as||(as=Ne.jsx(df,{fontSize:"small"})),clearOnBlur:w=!u.freeSolo,clearOnEscape:S=!1,clearText:C="Clear",closeText:v="Close",componentsProps:T={},defaultValue:R=u.multiple?[]:null,disableClearable:A=!1,disableCloseOnSelect:G=!1,disabled:B=!1,disabledItemsFocusable:b=!1,disableListWrap:y=!1,disablePortal:W=!1,filterSelectedOptions:V=!1,forcePopupIcon:P="auto",freeSolo:z=!1,fullWidth:k=!1,getLimitTagsText:ne=K=>`+${K}`,getOptionLabel:x,groupBy:U,handleHomeEndKeys:j=!u.freeSolo,includeInputInList:q=!1,limitTags:ie=-1,ListboxComponent:de="ul",ListboxProps:ke,loading:Ue=!1,loadingText:me="Loading…",multiple:Ie=!1,noOptionsText:oe="No options",openOnFocus:Te=!1,openText:re="Open",PaperComponent:ae=ml,PopperComponent:_e=xl,popupIcon:st=is||(is=Ne.jsx(od,{})),readOnly:Ye=!1,renderGroup:gt,renderInput:lt,renderOption:Be,renderTags:te,selectOnFocus:Ce=!u.freeSolo,size:ve="medium",slotProps:ht={}}=u,Qe=In(u,mf),{getRootProps:Ae,getInputProps:_t,getInputLabelProps:Je,getPopupIndicatorProps:ze,getClearProps:qt,getTagProps:Dt,getListboxProps:zt,getOptionProps:Ge,value:Oe,dirty:ft,expanded:Kt,id:rn,popupOpen:le,focused:$,focusedTag:J,anchorEl:ge,setAnchorEl:ce,inputValue:Ee,groupedOptions:Pe}=Up(ye({},u,{componentName:"Autocomplete"})),Ve=!A&&!B&&ft&&!Ye,vt=(!z||P===!0)&&P!==!1,{onMouseDown:tt}=_t(),{ref:We}=ke??{},ct=zt(),{ref:Xt}=ct,wn=In(ct,gf),Zt=Na(Xt,We),Ke=x||(K=>{var se;return(se=K.label)!=null?se:K}),xe=ye({},u,{disablePortal:W,expanded:Kt,focused:$,fullWidth:k,getOptionLabel:Ke,hasClearIcon:Ve,hasPopupIcon:vt,inputFocused:J===-1,popupOpen:le,size:ve}),$e=Ef(xe);let ut;if(Ie&&Oe.length>0){const K=se=>ye({className:$e.tag,disabled:B},Dt(se));te?ut=te(Oe,K,xe):ut=Oe.map((se,Me)=>{const Le=K({index:Me}),{key:nt}=Le,cr=In(Le,hf);return Ne.jsx(uf,ye({label:Ke(se),size:ve},cr,_),nt)})}if(ie>-1&&Array.isArray(ut)){const K=ut.length-ie;!$&&K>0&&(ut=ut.splice(0,ie),ut.push(Ne.jsx("span",{className:$e.tag,children:ne(K)},ut.length)))}const sr=gt||(K=>Ne.jsxs("li",{children:[Ne.jsx(Rf,{className:$e.groupLabel,ownerState:xe,component:"div",children:K.group}),Ne.jsx(Pf,{className:$e.groupUl,ownerState:xe,children:K.children})]},K.key)),Nr=Be||((K,se)=>{const{key:Me}=K,Le=In(K,vf);return Ne.jsx("li",ye({},Le,{children:Ke(se)}),Me)}),Un=(K,se)=>{const Me=Ge({option:K,index:se});return Nr(ye({},Me,{className:$e.option}),K,{selected:Me["aria-selected"],index:se,inputValue:Ee},xe)},Sn=(a=ht.clearIndicator)!=null?a:T.clearIndicator,mn=(r=ht.paper)!=null?r:T.paper,mt=(s=ht.popper)!=null?s:T.popper,F=(l=ht.popupIndicator)!=null?l:T.popupIndicator,L=K=>Ne.jsx(_f,ye({as:_e,disablePortal:W,style:{width:ge?ge.clientWidth:null},ownerState:xe,role:"presentation",anchorEl:ge,open:le},mt,{className:Vt($e.popper,mt==null?void 0:mt.className),children:Ne.jsx(Df,ye({ownerState:xe,as:ae},mn,{className:Vt($e.paper,mn==null?void 0:mn.className),children:K}))}));let Z=null;return Pe.length>0?Z=L(Ne.jsx(Sf,ye({as:de,className:$e.listbox,ownerState:xe},wn,ke,{ref:Zt,children:Pe.map((K,se)=>U?sr({key:K.key,group:K.group,children:K.options.map((Me,Le)=>Un(Me,K.index+Le))}):Un(K,se))}))):Ue&&Pe.length===0?Z=L(Ne.jsx(wf,{className:$e.loading,ownerState:xe,children:me})):Pe.length===0&&!z&&!Ue&&(Z=L(Ne.jsx(Of,{className:$e.noOptions,ownerState:xe,role:"presentation",onMouseDown:K=>{K.preventDefault()},children:oe}))),Ne.jsxs(h.Fragment,{children:[Ne.jsx(bf,ye({ref:n,className:Vt($e.root,I),ownerState:xe},Ae(Qe),{children:lt({id:rn,disabled:B,fullWidth:!0,size:ve==="small"?"small":void 0,InputLabelProps:Je(),InputProps:ye({ref:ce,className:$e.inputRoot,startAdornment:ut,onClick:K=>{K.target===K.currentTarget&&tt(K)}},(Ve||vt)&&{endAdornment:Ne.jsxs(yf,{className:$e.endAdornment,ownerState:xe,children:[Ve?Ne.jsx(If,ye({},qt(),{"aria-label":C,title:C,ownerState:xe},Sn,{className:Vt($e.clearIndicator,Sn==null?void 0:Sn.className),children:E})):null,vt?Ne.jsx(Tf,ye({},ze(),{disabled:B,"aria-label":le?v:re,title:le?v:re,ownerState:xe},F,{className:Vt($e.popupIndicator,F==null?void 0:F.className),children:st})):null]})}),inputProps:ye({className:$e.input,disabled:B,readOnly:Ye},_t())})})),ge?Z:null]})}),Bb=Mf,Fb=async(e,t)=>{const{user:n,token:a}=Fn.getState(),{setGeneralIsLoading:r}=gl.getState();r(!0),Object.fromEntries(t.entries());const s=await fetch(`${Vi}/categories/animals/update`,{method:"PUT",headers:{authorization:`Bearer ${a}`},body:t}),l=await s.json();if(r(!1),!s.ok)throw new Error(l.message);Fn.setState({user:{...n,categories:l.categories}})},Gb=async(e,t)=>{const{user:n,token:a}=Fn.getState(),{setGeneralIsLoading:r}=gl.getState();r(!0);const s=Object.fromEntries(t.entries());Fn.setState({user:{...n,categories:n.categories.map(c=>c._id===e?{...c,animals:[...c.animals,s]}:c)}});const l=await fetch(`${Vi}/categories/animals/add`,{method:"POST",headers:{authorization:`Bearer ${a}`},body:t}),u=await l.json();if(r(!1),!l.ok)throw new Error(u.message);Fn.setState({user:{...n,categories:u.categories}})},$b=async(e,t)=>{try{console.log({categoryId:e,animalId:t});const{user:n,token:a}=Fn.getState();Fn.setState({user:{...n,categories:n.categories.map(c=>c._id===e?{...c,animals:c.animals.filter(m=>m._id!==t)}:c)}});const r=await fetch(`${Vi}/categories/animals/delete`,{method:"DELETE",headers:{"Content-Type":"application/json",authorization:`Bearer ${a}`},body:JSON.stringify({categoryId:e,animalId:t})}),s=await r.json(),{categories:l,error:u}=s;if(!r.ok)throw new Error(s.error);Fn.setState({user:{...n,categories:l}});return}catch(n){ad.error(n.message),console.log(" err deleting animal ==>",{error:n},n)}};function Ti(){return Ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ti.apply(this,arguments)}var Nl=h.memo(h.forwardRef(function(e,t){var n=Mr.getPTI(e);return h.createElement("svg",Ti({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),h.createElement("path",{d:"M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z",fill:"currentColor"}))}));Nl.displayName="SpinnerIcon";function Ba(){return Ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ba.apply(this,arguments)}function Jr(e){"@babel/helpers - typeof";return Jr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jr(e)}function Cf(e,t){if(Jr(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(Jr(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Af(e){var t=Cf(e,"string");return Jr(t)==="symbol"?t:String(t)}function kl(e,t,n){return t=Af(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _i(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function xf(e){if(Array.isArray(e))return _i(e)}function Lf(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Bl(e,t){if(e){if(typeof e=="string")return _i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _i(e,t)}}function Nf(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kf(e){return xf(e)||Lf(e)||Bl(e)||Nf()}function Bf(e){if(Array.isArray(e))return e}function Ff(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,r,s,l,u=[],c=!0,m=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=s.call(n)).done)&&(u.push(a.value),u.length!==t);c=!0);}catch(f){m=!0,r=f}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(m)throw r}}return u}}function Gf(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ur(e,t){return Bf(e)||Ff(e,t)||Bl(e,t)||Gf()}var $f={root:function(t){var n=t.positionState,a=t.classNameState;return Fe("p-tooltip p-component",kl({},"p-tooltip-".concat(n),!0),a)},arrow:"p-tooltip-arrow",text:"p-tooltip-text"},Uf={arrow:function(t){var n=t.context;return{top:n.bottom?"0":n.right||n.left||!n.right&&!n.left&&!n.top&&!n.bottom?"50%":null,bottom:n.top?"0":null,left:n.right||!n.right&&!n.left&&!n.top&&!n.bottom?"0":n.top||n.bottom?"50%":null,right:n.left?"0":null}}},Vf=`
@layer primereact {
    .p-tooltip {
        position: absolute;
        padding: .25em .5rem;
        /* #3687: Tooltip prevent scrollbar flickering */
        top: -9999px;
        left: -9999px;
    }
    
    .p-tooltip.p-tooltip-right,
    .p-tooltip.p-tooltip-left {
        padding: 0 .25rem;
    }
    
    .p-tooltip.p-tooltip-top,
    .p-tooltip.p-tooltip-bottom {
        padding:.25em 0;
    }
    
    .p-tooltip .p-tooltip-text {
       white-space: pre-line;
       word-break: break-word;
    }
    
    .p-tooltip-arrow {
        position: absolute;
        width: 0;
        height: 0;
        border-color: transparent;
        border-style: solid;
    }
    
    .p-tooltip-right .p-tooltip-arrow {
        top: 50%;
        left: 0;
        margin-top: -.25rem;
        border-width: .25em .25em .25em 0;
    }
    
    .p-tooltip-left .p-tooltip-arrow {
        top: 50%;
        right: 0;
        margin-top: -.25rem;
        border-width: .25em 0 .25em .25rem;
    }
    
    .p-tooltip.p-tooltip-top {
        padding: .25em 0;
    }
    
    .p-tooltip-top .p-tooltip-arrow {
        bottom: 0;
        left: 50%;
        margin-left: -.25rem;
        border-width: .25em .25em 0;
    }
    
    .p-tooltip-bottom .p-tooltip-arrow {
        top: 0;
        left: 50%;
        margin-left: -.25rem;
        border-width: 0 .25em .25rem;
    }

    .p-tooltip-target-wrapper {
        display: inline-flex;
    }
}
`,ga=Cr.extend({defaultProps:{__TYPE:"Tooltip",appendTo:null,at:null,autoHide:!0,autoZIndex:!0,baseZIndex:0,className:null,closeOnEscape:!1,content:null,disabled:!1,event:null,hideDelay:0,hideEvent:"mouseleave",id:null,mouseTrack:!1,mouseTrackLeft:5,mouseTrackTop:5,my:null,onBeforeHide:null,onBeforeShow:null,onHide:null,onShow:null,position:"right",showDelay:0,showEvent:"mouseenter",showOnDisabled:!1,style:null,target:null,updateDelay:0,children:void 0},css:{classes:$f,styles:Vf,inlineStyles:Uf}});function os(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,a)}return n}function Hf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?os(Object(n),!0).forEach(function(a){kl(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):os(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}var Zi=h.memo(h.forwardRef(function(e,t){var n=ar(),a=h.useContext(Pr),r=ga.getProps(e,a),s=h.useState(!1),l=Ur(s,2),u=l[0],c=l[1],m=h.useState(r.position||"right"),f=Ur(m,2),g=f[0],_=f[1],I=h.useState(""),E=Ur(I,2),w=E[0],S=E[1],C={props:r,state:{visible:u,position:g,className:w},context:{right:g==="right",left:g==="left",top:g==="top",bottom:g==="bottom"}},v=ga.setMetaData(C),T=v.ptm,R=v.cx,A=v.sx,G=v.isUnstyled;Ar(ga.css.styles,G,{name:"tooltip"}),ld({callback:function(){te()},when:r.closeOnEscape,priority:[cd.TOOLTIP,0]});var B=h.useRef(null),b=h.useRef(null),y=h.useRef(null),W=h.useRef(null),V=h.useRef(!0),P=h.useRef({}),z=h.useRef(null),k=ud({listener:function($){!Q.isTouchDevice()&&te($)}}),ne=Ur(k,2),x=ne[0],U=ne[1],j=dd({target:y.current,listener:function($){te($)},when:u}),q=Ur(j,2),ie=q[0],de=q[1],ke=function($){return!(r.content||re($,"tooltip"))},Ue=function($){return!(r.content||re($,"tooltip")||r.children)},me=function($){return re($,"mousetrack")||r.mouseTrack},Ie=function($){return re($,"disabled")==="true"||ae($,"disabled")||r.disabled},oe=function($){return re($,"showondisabled")||r.showOnDisabled},Te=function(){return re(y.current,"autohide")||r.autoHide},re=function($,J){return ae($,"data-pr-".concat(J))?$.getAttribute("data-pr-".concat(J)):null},ae=function($,J){return $&&$.hasAttribute(J)},_e=function($){var J=[re($,"showevent")||r.showEvent],ge=[re($,"hideevent")||r.hideEvent];if(me($))J=["mousemove"],ge=["mouseleave"];else{var ce=re($,"event")||r.event;ce==="focus"&&(J=["focus"],ge=["blur"]),ce==="both"&&(J=["focus","mouseenter"],ge=["blur","mouseleave"])}return{showEvents:J,hideEvents:ge}},st=function($){return re($,"position")||g},Ye=function($){var J=re($,"mousetracktop")||r.mouseTrackTop,ge=re($,"mousetrackleft")||r.mouseTrackLeft;return{top:J,left:ge}},gt=function($,J){if(b.current){var ge=re($,"tooltip")||r.content;ge?(b.current.innerHTML="",b.current.appendChild(document.createTextNode(ge)),J()):r.children&&J()}},lt=function($){gt(y.current,function(){var J=z.current,ge=J.pageX,ce=J.pageY;r.autoZIndex&&!Bn.get(B.current)&&Bn.set("tooltip",B.current,a&&a.autoZIndex||kn.autoZIndex,r.baseZIndex||a&&a.zIndex.tooltip||kn.zIndex.tooltip),B.current.style.left="",B.current.style.top="",Te()&&(B.current.style.pointerEvents="none");var Ee=me(y.current)||$==="mouse";(Ee&&!W.current||Ee)&&(W.current={width:Q.getOuterWidth(B.current),height:Q.getOuterHeight(B.current)}),Ce(y.current,{x:ge,y:ce},$)})},Be=function($){y.current=$.currentTarget;var J=Ie(y.current),ge=Ue(oe(y.current)&&J?y.current.firstChild:y.current);if(!(ge||J))if(z.current=$,u)Je("updateDelay",lt);else{var ce=ze(r.onBeforeShow,{originalEvent:$,target:y.current});ce&&Je("showDelay",function(){c(!0),ze(r.onShow,{originalEvent:$,target:y.current})})}},te=function($){if(qt(),u){var J=ze(r.onBeforeHide,{originalEvent:$,target:y.current});J&&Je("hideDelay",function(){!Te()&&V.current===!1||(Bn.clear(B.current),Q.removeClass(B.current,"p-tooltip-active"),c(!1),ze(r.onHide,{originalEvent:$,target:y.current}))})}},Ce=function($,J,ge){var ce=0,Ee=0,Pe=ge||g;if((me($)||Pe=="mouse")&&J){var Ve={width:Q.getOuterWidth(B.current),height:Q.getOuterHeight(B.current)};ce=J.x,Ee=J.y;var vt=Ye($),tt=vt.top,We=vt.left;switch(Pe){case"left":ce=ce-(Ve.width+We),Ee=Ee-(Ve.height/2-tt);break;case"right":case"mouse":ce=ce+We,Ee=Ee-(Ve.height/2-tt);break;case"top":ce=ce-(Ve.width/2-We),Ee=Ee-(Ve.height+tt);break;case"bottom":ce=ce-(Ve.width/2-We),Ee=Ee+tt;break}ce<=0||W.current.width>Ve.width?(B.current.style.left="0px",B.current.style.right=window.innerWidth-Ve.width-ce+"px"):(B.current.style.right="",B.current.style.left=ce+"px"),B.current.style.top=Ee+"px",Q.addClass(B.current,"p-tooltip-active")}else{var ct=Q.findCollisionPosition(Pe),Xt=re($,"my")||r.my||ct.my,wn=re($,"at")||r.at||ct.at;B.current.style.padding="0px",Q.flipfitCollision(B.current,$,Xt,wn,function(Zt){var On=Zt.at,Ke=On.x,xe=On.y,$e=Zt.my.x,ut=r.at?Ke!=="center"&&Ke!==$e?Ke:xe:Zt.at["".concat(ct.axis)];B.current.style.padding="",_(ut),ve(ut),Q.addClass(B.current,"p-tooltip-active")})}},ve=function($){if(B.current){var J=getComputedStyle(B.current);$==="left"?B.current.style.left=parseFloat(J.left)-parseFloat(J.paddingLeft)*2+"px":$==="top"&&(B.current.style.top=parseFloat(J.top)-parseFloat(J.paddingTop)*2+"px")}},ht=function(){Te()||(V.current=!1)},Qe=function($){Te()||(V.current=!0,te($))},Ae=function($){if($){var J=_e($),ge=J.showEvents,ce=J.hideEvents,Ee=Dt($);ge.forEach(function(Pe){return Ee==null?void 0:Ee.addEventListener(Pe,Be)}),ce.forEach(function(Pe){return Ee==null?void 0:Ee.addEventListener(Pe,te)})}},_t=function($){if($){var J=_e($),ge=J.showEvents,ce=J.hideEvents,Ee=Dt($);ge.forEach(function(Pe){return Ee==null?void 0:Ee.removeEventListener(Pe,Be)}),ce.forEach(function(Pe){return Ee==null?void 0:Ee.removeEventListener(Pe,te)})}},Je=function($,J){qt();var ge=re(y.current,$.toLowerCase())||r[$];ge?P.current["".concat($)]=setTimeout(function(){return J()},ge):J()},ze=function($){if($){for(var J=arguments.length,ge=new Array(J>1?J-1:0),ce=1;ce<J;ce++)ge[ce-1]=arguments[ce];var Ee=$.apply(void 0,ge);return Ee===void 0&&(Ee=!0),Ee}return!0},qt=function(){Object.values(P.current).forEach(function($){return clearTimeout($)})},Dt=function($){if($){if(oe($)){if(!$.hasWrapper){var J=document.createElement("div"),ge=$.nodeName==="INPUT";return ge?Q.addMultipleClasses(J,"p-tooltip-target-wrapper p-inputwrapper"):Q.addClass(J,"p-tooltip-target-wrapper"),$.parentNode.insertBefore(J,$),J.appendChild($),$.hasWrapper=!0,J}return $.parentElement}else if($.hasWrapper){var ce;(ce=$.parentElement).replaceWith.apply(ce,kf($.parentElement.childNodes)),delete $.hasWrapper}return $}return null},zt=function($){Oe($),Ge($)},Ge=function($){ft($||r.target,Ae)},Oe=function($){ft($||r.target,_t)},ft=function($,J){if($=Rt.getRefElement($),$)if(Q.isElement($))J($);else{var ge=function(Ee){var Pe=Q.find(document,Ee);Pe.forEach(function(Ve){J(Ve)})};$ instanceof Array?$.forEach(function(ce){ge(ce)}):ge($)}};hl(function(){u&&y.current&&Ie(y.current)&&te()}),cn(function(){return Ge(),function(){Oe()}},[Be,te,r.target]),cn(function(){if(u){var le=st(y.current),$=re(y.current,"classname");_(le),S($),lt(le),x(),ie()}else _(r.position||"right"),S(""),y.current=null,W.current=null,V.current=!0;return function(){U(),de()}},[u]),cn(function(){var le=st(y.current);u&&le!=="mouse"&&Je("updateDelay",function(){gt(y.current,function(){Ce(y.current)})})},[r.content]),vl(function(){te(),Bn.clear(B.current)}),h.useImperativeHandle(t,function(){return{props:r,updateTargetEvents:zt,loadTargetEvents:Ge,unloadTargetEvents:Oe,show:Be,hide:te,getElement:function(){return B.current},getTarget:function(){return y.current}}});var Kt=function(){var $=ke(y.current),J=n({id:r.id,className:Fe(r.className,R("root",{positionState:g,classNameState:w})),style:r.style,role:"tooltip","aria-hidden":u,onMouseEnter:function(Pe){return ht()},onMouseLeave:function(Pe){return Qe(Pe)}},ga.getOtherProps(r),T("root")),ge=n({className:R("arrow"),style:A("arrow",Hf({},C))},T("arrow")),ce=n({className:R("text")},T("text"));return h.createElement("div",Ba({ref:B},J),h.createElement("div",ge),h.createElement("div",Ba({ref:b},ce),$&&r.children))};if(u){var rn=Kt();return h.createElement(El,{element:rn,appendTo:r.appendTo,visible:!0})}return null}));Zi.displayName="Tooltip";function zr(){return zr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},zr.apply(this,arguments)}function ea(e){"@babel/helpers - typeof";return ea=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ea(e)}function Yf(e,t){if(ea(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(ea(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wf(e){var t=Yf(e,"string");return ea(t)==="symbol"?t:String(t)}function yn(e,t,n){return t=Wf(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jf={root:function(t){var n=t.props;return Fe("p-badge p-component",yn({"p-badge-no-gutter":Rt.isNotEmpty(n.value)&&String(n.value).length===1,"p-badge-dot":Rt.isEmpty(n.value),"p-badge-lg":n.size==="large","p-badge-xl":n.size==="xlarge"},"p-badge-".concat(n.severity),n.severity!==null))}},qf=`
@layer primereact {
    .p-badge {
        display: inline-block;
        border-radius: 10px;
        text-align: center;
        padding: 0 .5rem;
    }
    
    .p-overlay-badge {
        position: relative;
    }
    
    .p-overlay-badge .p-badge {
        position: absolute;
        top: 0;
        right: 0;
        transform: translate(50%,-50%);
        transform-origin: 100% 0;
        margin: 0;
    }
    
    .p-badge-dot {
        width: .5rem;
        min-width: .5rem;
        height: .5rem;
        border-radius: 50%;
        padding: 0;
    }
    
    .p-badge-no-gutter {
        padding: 0;
        border-radius: 50%;
    }
}
`,ha=Cr.extend({defaultProps:{__TYPE:"Badge",__parentMetadata:null,value:null,severity:null,size:null,style:null,className:null,children:void 0},css:{classes:jf,styles:qf}});function ss(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,a)}return n}function zf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ss(Object(n),!0).forEach(function(a){yn(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ss(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}var Fl=h.memo(h.forwardRef(function(e,t){var n=ar(),a=h.useContext(Pr),r=ha.getProps(e,a),s=ha.setMetaData(zf({props:r},r.__parentMetadata)),l=s.ptm,u=s.cx,c=s.isUnstyled;Ar(ha.css.styles,c,{name:"badge"});var m=h.useRef(null);h.useImperativeHandle(t,function(){return{props:r,getElement:function(){return m.current}}});var f=n({ref:m,style:r.style,className:Fe(r.className,u("root"))},ha.getOtherProps(r),l("root"));return h.createElement("span",f,r.value)}));Fl.displayName="Badge";var Kf={icon:function(t){var n=t.props;return Fe("p-button-icon p-c",yn({},"p-button-icon-".concat(n.iconPos),n.label))},loadingIcon:function(t){var n=t.props,a=t.className;return Fe(a,{"p-button-loading-icon":n.loading})},label:"p-button-label p-c",root:function(t){var n=t.props,a=t.size,r=t.disabled;return Fe("p-button p-component",yn(yn(yn(yn({"p-button-icon-only":(n.icon||n.loading)&&!n.label&&!n.children,"p-button-vertical":(n.iconPos==="top"||n.iconPos==="bottom")&&n.label,"p-disabled":r,"p-button-loading":n.loading,"p-button-outlined":n.outlined,"p-button-raised":n.raised,"p-button-link":n.link,"p-button-text":n.text,"p-button-rounded":n.rounded,"p-button-loading-label-only":n.loading&&!n.icon&&n.label},"p-button-loading-".concat(n.iconPos),n.loading&&n.label),"p-button-".concat(a),a),"p-button-".concat(n.severity),n.severity),"p-button-plain",n.plain))}},va=Cr.extend({defaultProps:{__TYPE:"Button",__parentMetadata:null,badge:null,badgeClassName:null,className:null,children:void 0,disabled:!1,icon:null,iconPos:"left",label:null,link:!1,loading:!1,loadingIcon:null,outlined:!1,plain:!1,raised:!1,rounded:!1,severity:null,size:null,text:!1,tooltip:null,tooltipOptions:null,visible:!0},css:{classes:Kf}});function ls(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,a)}return n}function ci(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ls(Object(n),!0).forEach(function(a){yn(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ls(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}var Ca=h.memo(h.forwardRef(function(e,t){var n=ar(),a=h.useContext(Pr),r=va.getProps(e,a),s=r.disabled||r.loading,l=ci(ci({props:r},r.__parentMetadata),{},{context:{disabled:s}}),u=va.setMetaData(l),c=u.ptm,m=u.cx,f=u.isUnstyled;Ar(va.css.styles,f,{name:"button",styled:!0});var g=h.useRef(t);if(h.useEffect(function(){Rt.combinedRefs(g,t)},[g,t]),r.visible===!1)return null;var _=function(){var y=Fe("p-button-icon p-c",yn({},"p-button-icon-".concat(r.iconPos),r.label)),W=n({className:m("icon")},c("icon"));y=Fe(y,{"p-button-loading-icon":r.loading});var V=n({className:m("loadingIcon",{className:y})},c("loadingIcon")),P=r.loading?r.loadingIcon||h.createElement(Nl,zr({},V,{spin:!0})):r.icon;return Wr.getJSXIcon(P,ci({},W),{props:r})},I=function(){var y=n({className:m("label")},c("label"));return r.label?h.createElement("span",y,r.label):!r.children&&!r.label&&h.createElement("span",zr({},y,{dangerouslySetInnerHTML:{__html:"&nbsp;"}}))},E=function(){if(r.badge){var y=n({className:Fe(r.badgeClassName),value:r.badge,unstyled:r.unstyled,__parentMetadata:{parent:l}},c("badge"));return h.createElement(Fl,y,r.badge)}return null},w=!s||r.tooltipOptions&&r.tooltipOptions.showOnDisabled,S=Rt.isNotEmpty(r.tooltip)&&w,C={large:"lg",small:"sm"},v=C[r.size],T=_(),R=I(),A=E(),G=r.label?r.label+(r.badge?" "+r.badge:""):r["aria-label"],B=n({ref:g,"aria-label":G,"data-pc-autofocus":r.autoFocus,className:Fe(r.className,m("root",{size:v,disabled:s})),disabled:s},va.getOtherProps(r),c("root"));return h.createElement(h.Fragment,null,h.createElement("button",B,T,R,r.children,A,h.createElement(At,null)),S&&h.createElement(Zi,zr({target:g,content:r.tooltip,pt:c("tooltip")},r.tooltipOptions)))}));Ca.displayName="Button";function Di(){return Di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Di.apply(this,arguments)}var Gl=h.memo(h.forwardRef(function(e,t){var n=Mr.getPTI(e);return h.createElement("svg",Di({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),h.createElement("path",{d:"M10.7838 1.51351H9.83783V0.567568C9.83783 0.417039 9.77804 0.272676 9.6716 0.166237C9.56516 0.0597971 9.42079 0 9.27027 0C9.11974 0 8.97538 0.0597971 8.86894 0.166237C8.7625 0.272676 8.7027 0.417039 8.7027 0.567568V1.51351H5.29729V0.567568C5.29729 0.417039 5.2375 0.272676 5.13106 0.166237C5.02462 0.0597971 4.88025 0 4.72973 0C4.5792 0 4.43484 0.0597971 4.3284 0.166237C4.22196 0.272676 4.16216 0.417039 4.16216 0.567568V1.51351H3.21621C2.66428 1.51351 2.13494 1.73277 1.74467 2.12305C1.35439 2.51333 1.13513 3.04266 1.13513 3.59459V11.9189C1.13513 12.4709 1.35439 13.0002 1.74467 13.3905C2.13494 13.7807 2.66428 14 3.21621 14H10.7838C11.3357 14 11.865 13.7807 12.2553 13.3905C12.6456 13.0002 12.8649 12.4709 12.8649 11.9189V3.59459C12.8649 3.04266 12.6456 2.51333 12.2553 2.12305C11.865 1.73277 11.3357 1.51351 10.7838 1.51351ZM3.21621 2.64865H4.16216V3.59459C4.16216 3.74512 4.22196 3.88949 4.3284 3.99593C4.43484 4.10237 4.5792 4.16216 4.72973 4.16216C4.88025 4.16216 5.02462 4.10237 5.13106 3.99593C5.2375 3.88949 5.29729 3.74512 5.29729 3.59459V2.64865H8.7027V3.59459C8.7027 3.74512 8.7625 3.88949 8.86894 3.99593C8.97538 4.10237 9.11974 4.16216 9.27027 4.16216C9.42079 4.16216 9.56516 4.10237 9.6716 3.99593C9.77804 3.88949 9.83783 3.74512 9.83783 3.59459V2.64865H10.7838C11.0347 2.64865 11.2753 2.74831 11.4527 2.92571C11.6301 3.10311 11.7297 3.34371 11.7297 3.59459V5.67568H2.27027V3.59459C2.27027 3.34371 2.36993 3.10311 2.54733 2.92571C2.72473 2.74831 2.96533 2.64865 3.21621 2.64865ZM10.7838 12.8649H3.21621C2.96533 12.8649 2.72473 12.7652 2.54733 12.5878C2.36993 12.4104 2.27027 12.1698 2.27027 11.9189V6.81081H11.7297V11.9189C11.7297 12.1698 11.6301 12.4104 11.4527 12.5878C11.2753 12.7652 11.0347 12.8649 10.7838 12.8649Z",fill:"currentColor"}))}));Gl.displayName="CalendarIcon";function wi(){return wi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},wi.apply(this,arguments)}var $l=h.memo(h.forwardRef(function(e,t){var n=Mr.getPTI(e);return h.createElement("svg",wi({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),h.createElement("path",{d:"M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z",fill:"currentColor"}))}));$l.displayName="ChevronDownIcon";function Oi(){return Oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Oi.apply(this,arguments)}var Ul=h.memo(h.forwardRef(function(e,t){var n=Mr.getPTI(e);return h.createElement("svg",Oi({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),h.createElement("path",{d:"M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z",fill:"currentColor"}))}));Ul.displayName="ChevronLeftIcon";function Si(){return Si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Si.apply(this,arguments)}var Vl=h.memo(h.forwardRef(function(e,t){var n=Mr.getPTI(e);return h.createElement("svg",Si({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),h.createElement("path",{d:"M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z",fill:"currentColor"}))}));Vl.displayName="ChevronRightIcon";function Ri(){return Ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ri.apply(this,arguments)}var Hl=h.memo(h.forwardRef(function(e,t){var n=Mr.getPTI(e);return h.createElement("svg",Ri({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),h.createElement("path",{d:"M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z",fill:"currentColor"}))}));Hl.displayName="ChevronUpIcon";function Pi(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Xf(e){if(Array.isArray(e))return Pi(e)}function Zf(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Qf(e,t){if(e){if(typeof e=="string")return Pi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pi(e,t)}}function Jf(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function em(e){return Xf(e)||Zf(e)||Qf(e)||Jf()}var Er={DEFAULT_MASKS:{pint:/[\d]/,int:/[\d\-]/,pnum:/[\d\.]/,money:/[\d\.\s,]/,num:/[\d\-\.]/,hex:/[0-9a-f]/i,email:/[a-z0-9_\.\-@]/i,alpha:/[a-z_]/i,alphanum:/[a-z0-9_]/i},getRegex:function(t){return Er.DEFAULT_MASKS[t]?Er.DEFAULT_MASKS[t]:t},onBeforeInput:function(t,n,a){a||!Q.isAndroid()||this.validateKey(t,t.data,n)},onKeyPress:function(t,n,a){a||Q.isAndroid()||t.ctrlKey||t.altKey||t.metaKey||this.validateKey(t,t.key,n)},onPaste:function(t,n,a){if(!a){var r=this.getRegex(n),s=t.clipboardData.getData("text");em(s).forEach(function(l){if(!r.test(l))return t.preventDefault(),!1})}},validateKey:function(t,n,a){if(n!=null){var r=n.length<=2;if(r){var s=this.getRegex(a);s.test(n)||t.preventDefault()}}},validate:function(t,n){var a=t.target.value,r=!0,s=this.getRegex(n);return a&&!s.test(a)&&(r=!1),r}};function Fa(){return Fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Fa.apply(this,arguments)}function ta(e){"@babel/helpers - typeof";return ta=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ta(e)}function tm(e,t){if(ta(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(ta(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nm(e){var t=tm(e,"string");return ta(t)==="symbol"?t:String(t)}function rm(e,t,n){return t=nm(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var am={root:function(t){var n=t.props,a=t.isFilled,r=t.context;return Fe("p-inputtext p-component",{"p-disabled":n.disabled,"p-filled":a,"p-invalid":n.invalid,"p-variant-filled":n.variant?n.variant==="filled":r&&r.inputStyle==="filled"})}},Ea=Cr.extend({defaultProps:{__TYPE:"InputText",__parentMetadata:null,children:void 0,className:null,invalid:!1,variant:null,keyfilter:null,onBeforeInput:null,onInput:null,onKeyDown:null,onPaste:null,tooltip:null,tooltipOptions:null,validateOnly:!1},css:{classes:am}});function cs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,a)}return n}function us(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cs(Object(n),!0).forEach(function(a){rm(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cs(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}var Yl=h.memo(h.forwardRef(function(e,t){var n=ar(),a=h.useContext(Pr),r=Ea.getProps(e,a),s=Ea.setMetaData(us(us({props:r},r.__parentMetadata),{},{context:{disabled:r.disabled}})),l=s.ptm,u=s.cx,c=s.isUnstyled;Ar(Ea.css.styles,c,{name:"inputtext",styled:!0});var m=h.useRef(t),f=function(v){r.onKeyDown&&r.onKeyDown(v),r.keyfilter&&Er.onKeyPress(v,r.keyfilter,r.validateOnly)},g=function(v){r.onBeforeInput&&r.onBeforeInput(v),r.keyfilter&&Er.onBeforeInput(v,r.keyfilter,r.validateOnly)},_=function(v){var T=v.target,R=!0;r.keyfilter&&r.validateOnly&&(R=Er.validate(v,r.keyfilter)),r.onInput&&r.onInput(v,R),Rt.isNotEmpty(T.value)?Q.addClass(T,"p-filled"):Q.removeClass(T,"p-filled")},I=function(v){r.onPaste&&r.onPaste(v),r.keyfilter&&Er.onPaste(v,r.keyfilter,r.validateOnly)};h.useEffect(function(){Rt.combinedRefs(m,t)},[m,t]);var E=h.useMemo(function(){return Rt.isNotEmpty(r.value)||Rt.isNotEmpty(r.defaultValue)},[r.value,r.defaultValue]),w=Rt.isNotEmpty(r.tooltip),S=n({className:Fe(r.className,u("root",{context:a,isFilled:E})),onBeforeInput:g,onInput:_,onKeyDown:f,onPaste:I},Ea.getOtherProps(r),l("root"));return h.createElement(h.Fragment,null,h.createElement("input",Fa({ref:m},S)),w&&h.createElement(Zi,Fa({target:m,content:r.tooltip,pt:l("tooltip")},r.tooltipOptions)))}));Yl.displayName="InputText";var ui=pd();function pt(){return pt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},pt.apply(this,arguments)}function Sr(e){"@babel/helpers - typeof";return Sr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sr(e)}function im(e,t){if(Sr(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(Sr(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function om(e){var t=im(e,"string");return Sr(t)==="symbol"?t:String(t)}function Nn(e,t,n){return t=om(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mi(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function sm(e){if(Array.isArray(e))return Mi(e)}function lm(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wl(e,t){if(e){if(typeof e=="string")return Mi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mi(e,t)}}function cm(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ba(e){return sm(e)||lm(e)||Wl(e)||cm()}function um(e){if(Array.isArray(e))return e}function dm(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,r,s,l,u=[],c=!0,m=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=s.call(n)).done)&&(u.push(a.value),u.length!==t);c=!0);}catch(f){m=!0,r=f}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(m)throw r}}return u}}function pm(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sn(e,t){return um(e)||dm(e,t)||Wl(e,t)||pm()}var fm=`
@layer primereact {
    .p-calendar {
        position: relative;
        display: inline-flex;
        max-width: 100%;
    }

    .p-calendar .p-inputtext {
        flex: 1 1 auto;
        width: 1%;
    }

    .p-calendar-w-btn-right .p-inputtext {
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
    }

    .p-calendar-w-btn-right .p-datepicker-trigger {
        border-top-left-radius: 0;
        border-bottom-left-radius: 0;
    }

    .p-calendar-w-btn-left .p-inputtext {
        border-top-left-radius: 0;
        border-bottom-left-radius: 0;
    }

    .p-calendar-w-btn-left .p-datepicker-trigger {
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
    }

    /* Fluid */
    .p-fluid .p-calendar {
        display: flex;
    }

    .p-fluid .p-calendar .p-inputtext {
        width: 1%;
    }

    /* Datepicker */
    .p-calendar .p-datepicker {
        min-width: 100%;
    }

    .p-datepicker {
        width: auto;
        position: absolute;
        top: 0;
        left: 0;
    }

    .p-datepicker-inline {
        display: inline-block;
        position: static;
        overflow-x: auto;
    }

    /* Header */
    .p-datepicker-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    .p-datepicker-header .p-datepicker-title {
        margin: 0 auto;
    }

    .p-datepicker-prev,
    .p-datepicker-next {
        cursor: pointer;
        display: inline-flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
        position: relative;
    }

    /* Multiple Month DatePicker */
    .p-datepicker-multiple-month .p-datepicker-group-container {
        display: flex;
    }

    .p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group {
        flex: 1 1 auto;
    }

    /* Multiple Month DatePicker */
    .p-datepicker-multiple-month .p-datepicker-group-container {
        display: flex;
    }

    /* DatePicker Table */
    .p-datepicker table {
        width: 100%;
        border-collapse: collapse;
    }

    .p-datepicker td > span {
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        margin: 0 auto;
        overflow: hidden;
        position: relative;
    }

    /* Month Picker */
    .p-monthpicker-month {
        width: 33.3%;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        overflow: hidden;
        position: relative;
    }

    /*  Button Bar */
    .p-datepicker-buttonbar {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    /* Time Picker */
    .p-timepicker {
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .p-timepicker button {
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        overflow: hidden;
        position: relative;
    }

    .p-timepicker > div {
        display: flex;
        align-items: center;
        flex-direction: column;
    }

    /* Touch UI */
    .p-datepicker-touch-ui,
    .p-calendar .p-datepicker-touch-ui {
        position: fixed;
        top: 50%;
        left: 50%;
        min-width: 80vw;
        transform: translate(-50%, -50%);
    }

    /* Year Picker */
    .p-yearpicker-year {
        width: 50%;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        overflow: hidden;
        position: relative;
    }
}
`,mm={root:function(t){var n=t.props,a=t.focusedState,r=t.isFilled,s=t.panelVisible;return Fe("p-calendar p-component p-inputwrapper",Nn(Nn(Nn(Nn(Nn(Nn(Nn({},"p-calendar-w-btn p-calendar-w-btn-".concat(n.iconPos),n.showIcon),"p-calendar-disabled",n.disabled),"p-invalid",n.invalid),"p-calendar-timeonly",n.timeOnly),"p-inputwrapper-filled",n.value||r),"p-inputwrapper-focus",a),"p-focus",a||s))},input:function(t){var n=t.props,a=t.context;return Fe("p-inputtext p-component",{"p-variant-filled":n.variant?n.variant==="filled":a&&a.inputStyle==="filled"})},dropdownButton:"p-datepicker-trigger",buttonbar:"p-datepicker-buttonbar",todayButton:"p-button-text",clearButton:"p-button-text",footer:"p-datepicker-footer",yearPicker:"p-yearpicker",year:function(t){var n=t.isYearSelected,a=t.y,r=t.isMonthYearDisabled;return Fe("p-yearpicker-year",{"p-highlight":n(a),"p-disabled":r(-1,a)})},monthPicker:"p-monthpicker",month:function(t){var n=t.isMonthSelected,a=t.isMonthYearDisabled,r=t.i,s=t.currentYear;return Fe("p-monthpicker-month",{"p-highlight":n(r),"p-disabled":a(r,s)})},hourPicker:"p-hour-picker",secondPicker:"p-second-picker",minutePicker:"p-minute-picker",millisecondPicker:"p-millisecond-picker",ampmPicker:"p-ampm-picker",separatorContainer:"p-separator",dayLabel:function(t){var n=t.className;return n},day:function(t){var n=t.date;return Fe({"p-datepicker-other-month":n.otherMonth,"p-datepicker-today":n.today})},panel:function(t){var n=t.panelClassName;return n},previousIcon:"p-datepicker-prev-icon",previousButton:"p-datepicker-prev",nextIcon:"p-datepicker-next-icon",nextButton:"p-datepicker-next",incrementButton:"p-link",decrementButton:"p-link",title:"p-datepicker-title",timePicker:"p-timepicker",monthTitle:"p-datepicker-month p-link",yearTitle:"p-datepicker-year p-link",decadeTitle:"p-datepicker-decade",header:"p-datepicker-header",groupContainer:"p-datepicker-group-container",group:"p-datepicker-group",select:function(t){var n=t.props;return n.monthNavigator&&n.view!=="month"?"p-datepicker-month":n.yearNavigator?"p-datepicker-year":void 0},weekHeader:"p-datepicker-weekheader p-disabled",weekNumber:"p-datepicker-weeknumber",weekLabelContainer:"p-disabled",container:"p-datepicker-calendar-container",table:"p-datepicker-calendar",transition:"p-connected-overlay"},ya=Cr.extend({defaultProps:{__TYPE:"Calendar",appendTo:null,ariaLabelledBy:null,ariaLabel:null,autoZIndex:!0,autoFocus:!1,baseZIndex:0,className:null,clearButtonClassName:"p-button-secondary",dateFormat:null,dateTemplate:null,decadeTemplate:null,decrementIcon:null,disabled:!1,disabledDates:null,disabledDays:null,enabledDates:null,footerTemplate:null,formatDateTime:null,headerTemplate:null,hideOnDateTimeSelect:!1,hideOnRangeSelection:!1,hourFormat:"24",icon:null,iconPos:"right",id:null,incrementIcon:null,inline:!1,inputClassName:null,inputId:null,inputMode:"none",inputRef:null,inputStyle:null,variant:null,invalid:!1,keepInvalid:!1,locale:null,mask:null,maskSlotChar:"_",maxDate:null,maxDateCount:null,minDate:null,monthNavigator:!1,monthNavigatorTemplate:null,name:null,nextIcon:null,numberOfMonths:1,onBlur:null,onChange:null,onClearButtonClick:null,onFocus:null,onHide:null,onInput:null,onMonthChange:null,onSelect:null,onShow:null,onTodayButtonClick:null,onViewDateChange:null,onVisibleChange:null,panelClassName:null,panelStyle:null,parseDateTime:null,placeholder:null,prevIcon:null,readOnlyInput:!1,required:!1,selectOtherMonths:!1,selectionMode:"single",shortYearCutoff:"+10",showButtonBar:!1,showIcon:!1,showMillisec:!1,showMinMaxRange:!1,showOnFocus:!0,showOtherMonths:!0,showSeconds:!1,showTime:!1,showWeek:!1,stepHour:1,stepMillisec:1,stepMinute:1,stepSecond:1,style:null,tabIndex:null,timeOnly:!1,todayButtonClassName:"p-button-secondary",tooltip:null,tooltipOptions:null,touchUI:!1,transitionOptions:null,value:null,view:"date",viewDate:null,visible:!1,yearNavigator:!1,yearNavigatorTemplate:null,yearRange:null,children:void 0},css:{classes:mm,styles:fm}}),jl=h.forwardRef(function(e,t){var n=e.cx,a=ar(),r=function(){var u=a({className:n("panel",{panelClassName:e.className}),style:e.style,role:e.inline?null:"dialog",id:e.id,"aria-label":ln("chooseDate",e.locale),"aria-modal":e.inline?null:"true",onClick:e.onClick,onMouseUp:e.onMouseUp},e.ptm("panel",{hostName:e.hostName})),c=a({classNames:n("transition"),in:e.in,timeout:{enter:120,exit:100},options:e.transitionOptions,unmountOnExit:!0,onEnter:e.onEnter,onEntered:e.onEntered,onExit:e.onExit,onExited:e.onExited},e.ptm("transition",{hostName:e.hostName}));return h.createElement(hd,pt({nodeRef:t},c),h.createElement("div",pt({ref:t},u),e.children))},s=r();return e.inline?s:h.createElement(El,{element:s,appendTo:e.appendTo})});jl.displayName="CalendarPanel";function ds(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,a)}return n}function vr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ds(Object(n),!0).forEach(function(a){Nn(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ds(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function ps(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=gm(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(m){throw m},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,l=!1,u;return{s:function(){n=n.call(e)},n:function(){var m=n.next();return s=m.done,m},e:function(m){l=!0,u=m},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(l)throw u}}}}function gm(e,t){if(e){if(typeof e=="string")return fs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fs(e,t)}}function fs(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var hm=h.memo(h.forwardRef(function(e,t){var n=ar(),a=h.useContext(Pr),r=ya.getProps(e,a),s=h.useState(!1),l=sn(s,2),u=l[0],c=l[1],m=h.useState(!1),f=sn(m,2),g=f[0],_=f[1],I=h.useState(null),E=sn(I,2),w=E[0],S=E[1],C=h.useState(r.id),v=sn(C,2),T=v[0],R=v[1],A=h.useRef(!1),G={props:r,state:{focused:u,overlayVisible:g,viewDate:w}},B=ya.setMetaData(G),b=B.ptm,y=B.cx,W=B.isUnstyled;Ar(ya.css.styles,W,{name:"calendar"});var V=h.useRef(null),P=h.useRef(null),z=h.useRef(r.inputRef),k=h.useRef(null),ne=h.useRef(!1),x=h.useRef(null),U=h.useRef(!1),j=h.useRef(null),q=h.useRef(null),ie=h.useRef(null),de=h.useRef(!1),ke=h.useRef(!1),Ue=h.useRef(!1),me=h.useRef(!1),Ie=h.useRef(null),oe=h.useRef(!1),Te=h.useState("date"),re=sn(Te,2),ae=re[0],_e=re[1],st=h.useState(null),Ye=sn(st,2),gt=Ye[0],lt=Ye[1],Be=h.useState(null),te=sn(Be,2),Ce=te[0],ve=te[1],ht=h.useState([]),Qe=sn(ht,2),Ae=Qe[0],_t=Qe[1],Je=fd(r.value),ze=r.inline||(r.onVisibleChange?r.visible:g),qt=li(),Dt=T+"_panel",zt=md({target:V,overlay:P,listener:function(i,o){var d=o.type,p=o.valid;p&&(d==="outside"?!de.current&&!Io(i.target)&&wt("outside"):wt()),de.current=!1},when:!(r.touchUI||r.inline)&&ze,type:"mousedown"}),Ge=sn(zt,2),Oe=Ge[0],ft=Ge[1],Kt=function(){return r.dateFormat||ln("dateFormat",r.locale)},rn=function(i){ne.current?(c(!0),ne.current=!1):(r.showOnFocus&&!ze&&sa(),c(!0),r.onFocus&&r.onFocus(i))},le=function(i){Mn(r.value),r.onBlur&&r.onBlur(i),c(!1)},$=function(i){switch(i.code){case"ArrowDown":{g?(On(),i.preventDefault()):sa();break}case"Escape":{wt(),r.touchUI&&dr();break}case"Tab":{P&&P.current&&(Q.getFocusableElements(P.current).forEach(function(o){return o.tabIndex="-1"}),wt(),r.touchUI&&dr());break}}},J=function(i){ge(i,i.target.value),r.onInput&&r.onInput(i)},ge=function(i,o,d){try{var p=mu(r.timeOnly?o.replace("_",""):o);Ee(p)&&(A.current=!0,vn(i,p),hn(i,p.length?p[0]:p))}catch{if(d)d();else{var O=r.keepInvalid?o:null;vn(i,O)}}},ce=function(){!r.inline&&z.current&&(ne.current=!0,Q.focus(z.current))},Ee=function(i){var o=!0;return Vn()?Pn(i.getDate(),i.getMonth(),i.getFullYear(),!1)&&wo(i)||(o=!1):i.every(function(d){return Pn(d.getDate(),d.getMonth(),d.getFullYear(),!1)&&wo(d)})&&an()&&(o=i.length>1&&i[1]>i[0]),o},Pe=function(){ze?wt():sa()},Ve=function(i){k.current={backward:!0,button:!0},Ke(i)},vt=function(i){k.current={backward:!1,button:!0},xe(i)},tt=function(i){switch(i.code){case"Tab":!r.inline&&Xt(i);break;case"Escape":wt(null,ce),i.preventDefault();break}},We=function(i,o,d){if(i.key==="Enter"||i.key==="Space"){mt(i,o,d),i.preventDefault();return}tt(i)},ct=function(i){if(i.key==="Enter"||i.key==="Space"){F(),i.preventDefault();return}},Xt=function(i){i==null||i.preventDefault();var o=Q.getFocusableElements(P.current);if(o&&o.length>0)if(!document.activeElement)o[0].focus();else{var d=o.indexOf(document.activeElement);i!=null&&i.shiftKey?d===-1||d===0?o[o.length-1].focus():o[d-1].focus():d===-1||d===o.length-1?o[0].focus():o[d+1].focus()}},wn=function(){if(k.current){if(k.current.button)Zt(),k.current.backward?ke.current.focus():Ue.current.focus();else{var i;if(k.current.backward){var o=Q.find(P.current,'table td span:not([data-p-disabled="true"])');i=o[o.length-1]}else i=Q.findSingle(P.current,'table td span:not([data-p-disabled="true"])');i&&(i.tabIndex="0",i.focus())}k.current=null}else Zt()},Zt=function(){var i;if(ae==="month"){var o=Q.find(P.current,'[data-pc-section="monthpicker"] [data-pc-section="month"]'),d=Q.findSingle(P.current,'[data-pc-section="monthpicker"] [data-pc-section="month"][data-p-highlight="true"]');o.forEach(function(O){return O.tabIndex=-1}),i=d||o[0]}else if(i=Q.findSingle(P.current,'span[data-p-highlight="true"]'),!i){var p=Q.findSingle(P.current,"td.p-datepicker-today span:not(.p-disabled)");i=p||Q.findSingle(P.current,'table td span:not([data-p-disabled="true"])')}i&&(i.tabIndex="0")},On=function(){if(ae){var i;if(ae==="date"){if(i=Q.findSingle(P.current,'span[data-p-highlight="true"]'),!i){var o=Q.findSingle(P.current,"td.p-datepicker-today span:not(.p-disabled)");i=o||Q.findSingle(P.current,'table td span:not([data-p-disabled="true"])')}}else(ae==="month"||ae==="year")&&(i=Q.findSingle(P.current,'span[data-p-highlight="true"]'),i||(i=Q.findSingle(P.current,'[data-pc-section="'.concat(ae,'picker"] [data-pc-section="').concat(ae,'"]:not([data-p-disabled="true"])'))));i&&(i.tabIndex="0",i&&i.focus())}},Ke=function(i){if(r.disabled){i.preventDefault();return}var o=Ct(kt());if(o.setDate(1),ae==="date")if(o.getMonth()===0){var d=ut();o.setMonth(11),o.setFullYear(d),r.onMonthChange&&r.onMonthChange({month:11,year:d}),lt(11)}else o.setMonth(o.getMonth()-1),r.onMonthChange&&r.onMonthChange({month:gt-1,year:Ce}),lt(function(M){return M-1});else if(ae==="month"){var p=o.getFullYear()-1;if(r.yearNavigator){var O=parseInt(r.yearRange.split(":")[0],10);p<O&&(p=O)}o.setFullYear(p)}ae==="month"?o.setFullYear(ut()):ae==="year"&&o.setFullYear(zc()),hn(i,o),i.preventDefault()},xe=function(i){if(r.disabled){i.preventDefault();return}var o=Ct(kt());if(o.setDate(1),ae==="date")if(o.getMonth()===11){var d=Lr();o.setMonth(0),o.setFullYear(d),r.onMonthChange&&r.onMonthChange({month:0,year:d}),lt(0)}else o.setMonth(o.getMonth()+1),r.onMonthChange&&r.onMonthChange({month:gt+1,year:Ce}),lt(function(M){return M+1});else if(ae==="month"){var p=o.getFullYear()+1;if(r.yearNavigator){var O=parseInt(r.yearRange.split(":")[1],10);p>O&&(p=O)}o.setFullYear(p)}ae==="month"?o.setFullYear(Lr()):ae==="year"&&o.setFullYear(Kc()),hn(i,o),i.preventDefault()},$e=function(i,o){for(var d=[],p=i;p<=o;p++)Ae.push(p);_t(d)},ut=function(){var i=Ce-1;if(ve(i),r.yearNavigator&&i<Ae[0]){var o=Ae[Ae.length-1]-Ae[0];$e(Ae[0]-o,Ae[Ae.length-1]-o)}return i},Lr=function(){var i=Ce+1;if(ve(i),r.yearNavigator&&i.current>Ae[Ae.length-1]){var o=Ae[Ae.length-1]-Ae[0];$e(Ae[0]+o,Ae[Ae.length-1]+o)}return i},sr=function(i,o){var d=kt(),p=Ct(d);p.setDate(1),p.setMonth(parseInt(o,10)),hn(i,p)},lr=function(i,o){var d=kt(),p=Ct(d);p.setFullYear(parseInt(o,10)),hn(i,p)},Nr=function(i){var o=new Date,d={day:o.getDate(),month:o.getMonth(),year:o.getFullYear(),today:!0,selectable:!0},p={hours:o.getHours(),minutes:o.getMinutes(),seconds:o.getSeconds(),milliseconds:o.getMilliseconds()};hn(i,o),ur(i,d,p),r.onTodayButtonClick&&r.onTodayButtonClick(i)},Un=function(i){oe.current=!0,vn(i,null),Mn(null),wt(),r.onClearButtonClick&&r.onClearButtonClick(i)},Sn=function(i){r.inline||ui.emit("overlay-click",{originalEvent:i,target:V.current})},mn=function(i){Sn(i)},mt=function(i,o,d){r.disabled||(Z(i,null,o,d),i.preventDefault())},F=function(){r.disabled||K()},L=function(){r.disabled||K()},Z=function D(i,o,d,p){switch(K(),x.current=setTimeout(function(){D(i,100,d,p)},o||500),d){case 0:p===1?Me(i):Le(i);break;case 1:p===1?cr(i):Bc(i);break;case 2:p===1?Fc(i):Gc(i);break;case 3:p===1?$c(i):Uc(i);break}},K=function(){x.current&&clearTimeout(x.current)},se=function(i){return r.stepMinute?Math.round(i/r.stepMinute)*r.stepMinute:i},Me=function(i){var o=rt(),d=o.getHours(),p=d+r.stepHour;p=p>=24?p-24:p,Ja(p,o)&&(r.maxDate&&r.maxDate.toDateString()===o.toDateString()&&r.maxDate.getHours()===p&&(r.maxDate.getMinutes()<o.getMinutes()||r.maxDate.getMinutes()===o.getMinutes())?r.maxDate.getSeconds()<o.getSeconds()?r.maxDate.getMilliseconds()<o.getMilliseconds()?De(i,p,r.maxDate.getMinutes(),r.maxDate.getSeconds(),r.maxDate.getMilliseconds()):De(i,p,r.maxDate.getMinutes(),r.maxDate.getSeconds(),o.getMilliseconds()):De(i,p,r.maxDate.getMinutes(),o.getSeconds(),o.getMilliseconds()):De(i,p,se(o.getMinutes()),o.getSeconds(),o.getMilliseconds())),i.preventDefault()},Le=function(i){var o=rt(),d=o.getHours(),p=d-r.stepHour;p=p<0?p+24:p,Ja(p,o)&&(r.minDate&&r.minDate.toDateString()===o.toDateString()&&r.minDate.getHours()===p&&(r.minDate.getMinutes()>o.getMinutes()||r.minDate.getMinutes()===o.getMinutes())?r.minDate.getSeconds()>o.getSeconds()?r.minDate.getMilliseconds()>o.getMilliseconds()?De(i,p,r.minDate.getMinutes(),r.minDate.getSeconds(),r.minDate.getMilliseconds()):De(i,p,r.minDate.getMinutes(),r.minDate.getSeconds(),o.getMilliseconds()):De(i,p,r.minDate.getMinutes(),o.getSeconds(),o.getMilliseconds()):De(i,p,se(o.getMinutes()),o.getSeconds(),o.getMilliseconds())),i.preventDefault()},nt=function(i,o){return r.stepMinute<=1?o?i+o:i:!o&&(o=r.stepMinute,i%o===0)?i:Math.floor((i+o)/o)*o},cr=function(i){var o=rt(),d=o.getMinutes(),p=nt(d,r.stepMinute);p=p>59?p-60:p,fo(p,o)&&(r.maxDate&&r.maxDate.toDateString()===o.toDateString()&&r.maxDate.getMinutes()===p&&r.maxDate.getSeconds()<o.getSeconds()?r.maxDate.getMilliseconds()<o.getMilliseconds()?De(i,o.getHours(),p,r.maxDate.getSeconds(),r.maxDate.getMilliseconds()):De(i,o.getHours(),p,r.maxDate.getSeconds(),o.getMilliseconds()):De(i,o.getHours(),p,o.getSeconds(),o.getMilliseconds())),i.preventDefault()},Bc=function(i){var o=rt(),d=o.getMinutes(),p=nt(d,-r.stepMinute);p=p<0?p+60:p,fo(p,o)&&(r.minDate&&r.minDate.toDateString()===o.toDateString()&&r.minDate.getMinutes()===p&&r.minDate.getSeconds()>o.getSeconds()?r.minDate.getMilliseconds()>o.getMilliseconds()?De(i,o.getHours(),p,r.minDate.getSeconds(),r.minDate.getMilliseconds()):De(i,o.getHours(),p,r.minDate.getSeconds(),o.getMilliseconds()):De(i,o.getHours(),p,o.getSeconds(),o.getMilliseconds())),i.preventDefault()},Fc=function(i){var o=rt(),d=o.getSeconds(),p=d+r.stepSecond;p=p>59?p-60:p,mo(p,o)&&(r.maxDate&&r.maxDate.toDateString()===o.toDateString()&&r.maxDate.getSeconds()===p&&r.maxDate.getMilliseconds()<o.getMilliseconds()?De(i,o.getHours(),o.getMinutes(),p,r.maxDate.getMilliseconds()):De(i,o.getHours(),o.getMinutes(),p,o.getMilliseconds())),i.preventDefault()},Gc=function(i){var o=rt(),d=o.getSeconds(),p=d-r.stepSecond;p=p<0?p+60:p,mo(p,o)&&(r.minDate&&r.minDate.toDateString()===o.toDateString()&&r.minDate.getSeconds()===p&&r.minDate.getMilliseconds()>o.getMilliseconds()?De(i,o.getHours(),o.getMinutes(),p,r.minDate.getMilliseconds()):De(i,o.getHours(),o.getMinutes(),p,o.getMilliseconds())),i.preventDefault()},$c=function(i){var o=rt(),d=o.getMilliseconds(),p=d+r.stepMillisec;p=p>999?p-1e3:p,go(p,o)&&De(i,o.getHours(),o.getMinutes(),o.getSeconds(),p),i.preventDefault()},Uc=function(i){var o=rt(),d=o.getMilliseconds(),p=d-r.stepMillisec;p=p<0?p+999:p,go(p,o)&&De(i,o.getHours(),o.getMinutes(),o.getSeconds(),p),i.preventDefault()},po=function(i){var o=rt(),d=o.getHours(),p=d>=12?d-12:d+12;Ja(Vc(p,d>11),o)&&De(i,p,o.getMinutes(),o.getSeconds(),o.getMilliseconds()),i.preventDefault()},kt=function(i){var o=r.value,d=i||(r.onViewDateChange?r.viewDate:w);return Array.isArray(o)&&(o=o[0]),d&&gn(d)?d:o&&gn(o)?o:new Date},rt=function(){if(Vn())return r.value&&r.value instanceof Date?Ct(r.value):kt();if(on()){if(r.value&&r.value.length)return Ct(r.value[r.value.length-1])}else if(an()&&r.value&&r.value.length){var i=Ct(r.value[0]),o=Ct(r.value[1]);return o||i}return new Date},Ct=function(i){return gn(i)?new Date(i.valueOf()):i},gn=function(i){return i instanceof Date&&!isNaN(i)},Vc=function(i,o){return r.hourFormat==="12"?i===12?o?12:0:o?i+12:i:i},Ja=function(i,o){var d=!0,p=o?o.toDateString():null;return r.minDate&&p&&r.minDate.toDateString()===p&&r.minDate.getHours()>i&&(d=!1),r.maxDate&&p&&r.maxDate.toDateString()===p&&r.maxDate.getHours()<i&&(d=!1),d},fo=function(i,o){var d=!0,p=o?o.toDateString():null;return r.minDate&&p&&r.minDate.toDateString()===p&&o.getHours()===r.minDate.getHours()&&r.minDate.getMinutes()>i&&(d=!1),r.maxDate&&p&&r.maxDate.toDateString()===p&&o.getHours()===r.maxDate.getHours()&&r.maxDate.getMinutes()<i&&(d=!1),d},mo=function(i,o){var d=!0,p=o?o.toDateString():null;return r.minDate&&p&&r.minDate.toDateString()===p&&o.getHours()===r.minDate.getHours()&&o.getMinutes()===r.minDate.getMinutes()&&r.minDate.getSeconds()>i&&(d=!1),r.maxDate&&p&&r.maxDate.toDateString()===p&&o.getHours()===r.maxDate.getHours()&&o.getMinutes()===r.maxDate.getMinutes()&&r.maxDate.getSeconds()<i&&(d=!1),d},go=function(i,o){var d=!0,p=o?o.toDateString():null;return r.minDate&&p&&r.minDate.toDateString()===p&&o.getHours()===r.minDate.getHours()&&o.getSeconds()===r.minDate.getSeconds()&&o.getMinutes()===r.minDate.getMinutes()&&r.minDate.getMilliseconds()>i&&(d=!1),r.maxDate&&p&&r.maxDate.toDateString()===p&&o.getHours()===r.maxDate.getHours()&&o.getSeconds()===r.maxDate.getSeconds()&&o.getMinutes()===r.maxDate.getMinutes()&&r.maxDate.getMilliseconds()<i&&(d=!1),d},oa=function(i){if(r.yearNavigator){var o=i.getFullYear(),d=r.yearRange?parseInt(r.yearRange.split(":")[0],10):null,p=r.yearRange?parseInt(r.yearRange.split(":")[1],10):null,O=r.minDate&&d!=null?Math.max(r.minDate.getFullYear(),d):r.minDate||d,M=r.maxDate&&p!=null?Math.min(r.maxDate.getFullYear(),p):r.maxDate||p;O&&O>o&&(o=O),M&&M<o&&(o=M),i.setFullYear(o)}if(Bo(0)){var N=i.getMonth(),H=parseInt(Ao(i)&&Math.max(r.minDate.getMonth(),N).toString()||xo(i)&&Math.min(r.maxDate.getMonth(),N).toString()||N);i.setMonth(H)}},De=function(i,o,d,p,O){var M=rt();if(M.setHours(o),M.setMinutes(d),M.setSeconds(p),M.setMilliseconds(O),on())if(r.value&&r.value.length){var N=ba(r.value);N[N.length-1]=M,M=N}else M=[M];else if(an())if(r.value&&r.value.length){var H=r.value[0],ee=r.value[1];M=ee?[H,M]:[M,null]}else M=[M,null];vn(i,M),r.onSelect&&r.onSelect({originalEvent:i,value:M}),Mn(M)},hn=function(i,o){if(oa(o),r.onViewDateChange&&i?r.onViewDateChange({originalEvent:i,value:o}):(U.current=!0,S(o)),o||Un(i),o&&r.onSelect){var d=o.getDate(),p=o.getMonth(),O=o.getFullYear();ur(i,{day:d,month:p,year:O,selectable:Pn(d,p,O)})}},Hc=function(i){if(!(!i||!r.showMinMaxRange||r.view!=="date"||!P.current)){var o=Q.findSingle(P.current,'[data-pc-section="previousbutton"]'),d=Q.findSingle(P.current,'[data-pc-section="nextbutton"]');if(r.disabled){!W()&&Q.addClass(o,"p-disabled"),o.setAttribute("data-p-disabled",!0),!W()&&Q.addClass(d,"p-disabled"),d.setAttribute("data-p-disabled",!0);return}if(r.minDate){var p=Ct(i);p.getMonth()===0?(p.setMonth(11,1),p.setFullYear(p.getFullYear()-1)):p.setMonth(p.getMonth(),1),p.setHours(0),p.setMinutes(0),p.setSeconds(0),r.minDate>p?Q.addClass(o,"p-disabled"):Q.removeClass(o,"p-disabled")}if(r.maxDate){var O=Ct(i);O.getMonth()===11?(O.setMonth(0,1),O.setFullYear(O.getFullYear()+1)):O.setMonth(O.getMonth()+1,1),O.setHours(0),O.setMinutes(0),O.setSeconds(0),O.setSeconds(-1),r.maxDate<O?Q.addClass(d,"p-disabled"):Q.removeClass(d,"p-disabled")}}},Yc=function(i,o,d){var p=i.currentTarget,O=p.parentElement,M=Q.index(O);switch(i.code){case"ArrowDown":{p.tabIndex="-1";var N=O.parentElement.nextElementSibling;if(N){var H=Q.index(O.parentElement),ee=Array.from(O.parentElement.parentElement.children),pe=ee.slice(H+1),fe=pe.find(function(En){var bn=En.children[M].children[0];return!Q.getAttribute(bn,"data-p-disabled")});if(fe){var X=fe.children[M].children[0];X.tabIndex="0",X.focus()}else k.current={backward:!1},xe(i)}else k.current={backward:!1},xe(i);i.preventDefault();break}case"ArrowUp":{if(p.tabIndex="-1",i.altKey)wt(null,ce);else{var ue=O.parentElement.previousElementSibling;if(ue){var et=Q.index(O.parentElement),at=Array.from(O.parentElement.parentElement.children),dt=at.slice(0,et).reverse(),Et=dt.find(function(En){var bn=En.children[M].children[0];return!Q.getAttribute(bn,"data-p-disabled")});if(Et){var we=Et.children[M].children[0];we.tabIndex="0",we.focus()}else k.current={backward:!0},Ke(i)}else k.current={backward:!0},Ke(i)}i.preventDefault();break}case"ArrowLeft":{p.tabIndex="-1";var Bt=O.previousElementSibling;if(Bt){var ai=Array.from(O.parentElement.children),ii=ai.slice(0,M).reverse(),da=ii.find(function(En){var bn=En.children[0];return!Q.getAttribute(bn,"data-p-disabled")});if(da){var mr=da.children[0];mr.tabIndex="0",mr.focus()}else Rn(!0,d,i)}else Rn(!0,d,i);i.preventDefault();break}case"ArrowRight":{p.tabIndex="-1";var Ft=O.nextElementSibling;if(Ft){var Cn=Array.from(O.parentElement.children),gr=Cn.slice(M+1),An=gr.find(function(En){var bn=En.children[0];return!Q.getAttribute(bn,"data-p-disabled")});if(An){var Hn=An.children[0];Hn.tabIndex="0",Hn.focus()}else Rn(!1,d,i)}else Rn(!1,d,i);i.preventDefault();break}case"Enter":case"NumpadEnter":case"Space":{ur(i,o),i.preventDefault();break}case"Escape":{wt(null,ce),i.preventDefault();break}case"Tab":{r.inline||Xt(i);break}case"Home":{p.tabIndex="-1";var Qt=O.parentElement,xn=Qt.children[0].children[0];Q.getAttribute(xn,"data-p-disabled")?Rn(d,!0,i):(xn.tabIndex="0",xn.focus()),i.preventDefault();break}case"End":{p.tabIndex="-1";var Yn=O.parentElement,Wn=Yn.children[Yn.children.length-1].children[0];Q.getAttribute(Wn,"data-p-disabled")?Rn(d,!1,i):(Wn.tabIndex="0",Wn.focus()),i.preventDefault();break}case"PageUp":{p.tabIndex="-1",i.shiftKey?(k.current={backward:!0},Ke(i)):Rn(d,!0,i),i.preventDefault();break}case"PageDown":{p.tabIndex="-1",i.shiftKey?(k.current={backward:!1},xe(i)):Rn(d,!1,i),i.preventDefault();break}}},Rn=function(i,o,d){if(i)if(r.numberOfMonths===1||o===0)k.current={backward:!0},Ke(d);else{var p=P.current.children[o-1],O=Q.find(p,'table td span:not([data-p-disabled="true"])'),M=O[O.length-1];M.tabIndex="0",M.focus()}else if(r.numberOfMonths===1||o===r.numberOfMonths-1)k.current={backward:!1},xe(d);else{var N=P.current.children[o+1],H=Q.findSingle(N,'table td span:not([data-p-disabled="true"])');H.tabIndex="0",H.focus()}},Wc=function(i,o){var d=i.currentTarget;switch(i.code){case"ArrowUp":case"ArrowDown":{d.tabIndex="-1";var p=d.parentElement.children,O=Q.index(d),M=p[i.which===40?O+3:O-3];M&&(M.tabIndex="0",M.focus()),i.preventDefault();break}case"ArrowLeft":{d.tabIndex="-1";var N=d.previousElementSibling;N?(N.tabIndex="0",N.focus()):(k.current={backward:!0},Ke(i)),i.preventDefault();break}case"ArrowRight":{d.tabIndex="-1";var H=d.nextElementSibling;H?(H.tabIndex="0",H.focus()):(k.current={backward:!1},xe(i)),i.preventDefault();break}case"PageUp":{if(i.shiftKey)return;k.current={backward:!0},Ke(i);break}case"PageDown":{if(i.shiftKey)return;k.current={backward:!1},xe(i);break}case"Enter":case"NumpadEnter":case"Space":{r.view!=="month"&&(me.current=!0),vo(i,o),i.preventDefault();break}case"Escape":{wt(null,ce),i.preventDefault();break}case"Tab":{Xt(i);break}}},jc=function(i,o){var d=i.currentTarget;switch(i.code){case"ArrowUp":case"ArrowDown":{d.tabIndex="-1";var p=d.parentElement.children,O=Q.index(d),M=p[i.code==="ArrowDown"?O+2:O-2];M&&(M.tabIndex="0",M.focus()),i.preventDefault();break}case"ArrowLeft":{d.tabIndex="-1";var N=d.previousElementSibling;N?(N.tabIndex="0",N.focus()):(k.current={backward:!0},Ke(i)),i.preventDefault();break}case"ArrowRight":{d.tabIndex="-1";var H=d.nextElementSibling;H?(H.tabIndex="0",H.focus()):(k.current={backward:!1},xe(i)),i.preventDefault();break}case"PageUp":{if(i.shiftKey)return;k.current={backward:!0},Ke(i);break}case"PageDown":{if(i.shiftKey)return;k.current={backward:!1},xe(i);break}case"Enter":case"NumpadEnter":case"Space":{r.view!=="year"&&(me.current=!0),Eo(i,o),i.preventDefault();break}case"Escape":{wt(null,ce),i.preventDefault();break}case"Tab":{Xt(i);break}}},ur=function(i,o,d){if(i){if(r.disabled||!o.selectable){i.preventDefault();return}if(Q.find(P.current,'table td span:not([data-p-disabled="true"])').forEach(function(O){return O.tabIndex=-1}),i.currentTarget.focus(),on())if(ti(o)){var p=r.value.filter(function(O){return!pr(O,o)});vn(i,p),Mn(p)}else(!r.maxDateCount||!r.value||r.maxDateCount>r.value.length)&&ho(i,o,d);else ho(i,o,d);!r.inline&&Vn()&&(!r.showTime||r.hideOnDateTimeSelect)&&(setTimeout(function(){wt("dateselect")},100),j.current&&dr()),i.preventDefault()}},qc=function(i,o){if(r.showTime){var d,p,O,M;if(o)d=o.hours,p=o.minutes,O=o.seconds,M=o.milliseconds;else{var N=rt(),H=[N.getHours(),N.getMinutes(),N.getSeconds(),N.getMilliseconds()];d=H[0],p=H[1],O=H[2],M=H[3]}i.setHours(d),i.setMinutes(nt(p)),i.setSeconds(O),i.setMilliseconds(M)}},ho=function(i,o,d){var p=new Date(o.year,o.month,o.day);qc(p,d),r.minDate&&r.minDate>p&&(p=r.minDate),r.maxDate&&r.maxDate<p&&(p=r.maxDate);var O=p;if(Vn())vn(i,p);else if(on())O=r.value?[].concat(ba(r.value),[p]):[p],vn(i,O);else if(an())if(r.value&&r.value.length){var M=r.value[0],N=r.value[1];N?(M=p,N=null):p.getTime()>=M.getTime()?N=p:(N=M,M=p),O=[M,N],vn(i,O),r.hideOnRangeSelection&&N!==null&&setTimeout(function(){_(!1)},150)}else O=[p,null],vn(i,O);r.onSelect&&r.onSelect({originalEvent:i,value:p}),Mn(O)},zc=function(){var i=Ce-10;return ve(i),i},Kc=function(){var i=Ce+10;return ve(i),i},Xc=function(i){i&&i.code&&(i.code==="Enter"||i.code==="NumpadEnter"||i.code==="Space")&&(me.current=!0),_e("month"),i.preventDefault()},Zc=function(i){i&&i.code&&(i.code==="Enter"||i.code==="NumpadEnter"||i.code==="Space")&&(me.current=!0),_e("year"),i.preventDefault()},vo=function(i,o){if(r.view==="month")ur(i,{year:Ce,month:o,day:1,selectable:!0}),i.preventDefault();else{lt(o),Do(o,Ce);var d=Ct(rt());d.setDate(1),d.setMonth(o),d.setYear(Ce),S(d),_e("date"),r.onMonthChange&&r.onMonthChange({month:o+1,year:Ce}),hn(i,d)}},Eo=function(i,o){r.view==="year"?ur(i,{year:o,month:0,day:1,selectable:!0}):(ve(o),_e("month"),r.onMonthChange&&r.onMonthChange({month:gt+1,year:o}))},vn=function(i,o){if(r.onChange){var d=Ct(o);U.current=!0,Ie.current({originalEvent:i,value:d,stopPropagation:function(){i==null||i.stopPropagation()},preventDefault:function(){i==null||i.preventDefault()},target:{name:r.name,id:r.id,value:d}})}},sa=function(i){r.onVisibleChange?r.onVisibleChange({visible:!0,type:i}):(_(!0),q.current=function(o){ru(o)||(de.current=!0)},ui.on("overlay-click",q.current))},wt=function(i,o){var d=function(){U.current=!1,ne.current=!1,de.current=!1,o&&o(),ui.off("overlay-click",q.current),q.current=null};r.touchUI&&dr(),r.onVisibleChange?r.onVisibleChange({visible:i!=="dateselect",type:i,callback:d}):(_(!1),d())},Qc=function(){var i=r.touchUI?{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}:r.inline?void 0:{position:"absolute",top:"0",left:"0"};if(Q.addStyles(P.current,i),r.autoZIndex){var o=r.touchUI?"modal":"overlay";Bn.set(o,P.current,a&&a.autoZIndex||kn.autoZIndex,r.baseZIndex||a&&a.zIndex[o]||kn.zIndex[o])}if(!r.touchUI&&P&&P.current&&z&&z.current&&!bo()){var d=Q.getOuterWidth(z.current);d<220&&(d=220),r.view==="date"?P.current.style.width=Q.getOuterWidth(P.current)+"px":P.current.style.width=d+"px",W()||(P.current.style.minWidth=d+"px")}yo()},Jc=function(){Oe(),r.onShow&&r.onShow(),c(!1)},eu=function(){ft()},tu=function(){Bn.clear(P.current),r.onHide&&r.onHide()},bo=function(){var i=r.appendTo||a&&a.appendTo||kn.appendTo;return i==="self"||r.inline},yo=function(){r.touchUI?nu():P&&P.current&&z&&z.current&&(Q.alignOverlay(P.current,z.current,r.appendTo||a&&a.appendTo||kn.appendTo),bo()?Q.relativePosition(P.current,z.current):Q.absolutePosition(P.current,z.current))},nu=function(){j.current||(j.current=document.createElement("div"),j.current.style.zIndex=String(Bn.get(P.current)-1),!W()&&Q.addMultipleClasses(j.current,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay-enter"),ie.current=function(){dr(),wt()},j.current.addEventListener("click",ie.current),document.body.appendChild(j.current),Q.blockBodyScroll())},dr=function(){j.current&&(W?ei():(!W()&&Q.addClass(j.current,"p-component-overlay-leave"),Q.hasCSSAnimation(j.current)>0?j.current.addEventListener("animationend",function(){ei()}):ei()))},ei=function(){j.current&&(j.current.removeEventListener("click",ie.current),ie.current=null,document.body.removeChild(j.current),j.current=null);for(var i=document.body.children,o,d=0;d<i.length;d++){var p=i[d];if(Q.hasClass(p,"p-datepicker-mask-scrollblocker")){o=!0;break}}o||Q.unblockBodyScroll()},ru=function(i){return V.current&&!(V.current.isSameNode(i.target)||Io(i.target)||V.current.contains(i.target)||P.current&&P.current.contains(i.target))},Io=function(i){return ke.current&&(ke.current.isSameNode(i)||ke.current.contains(i))||Ue.current&&(Ue.current.isSameNode(i)||Ue.current.contains(i))},au=function(i,o){var d=new Date;d.setDate(1),d.setMonth(i),d.setFullYear(o);var p=d.getDay()+su();return p>=7?p-7:p},kr=function(i,o){return 32-To(new Date(o,i,32)).getDate()},iu=function(i,o){var d=_o(i,o);return kr(d.month,d.year)},To=function(i){return i?(i.setHours(i.getHours()>12?i.getHours()+2:0),i):null},_o=function(i,o){var d,p;return i===0?(d=11,p=o-1):(d=i-1,p=o),{month:d,year:p}},ou=function(i,o){var d,p;return i===11?(d=0,p=o+1):(d=i+1,p=o),{month:d,year:p}},su=function(){var i=ln("firstDayOfWeek",r.locale);return i>0?7-i:0},lu=function(){for(var i=[],o=Jt(r.locale),d=o.firstDayOfWeek,p=o.dayNamesMin,O=0;O<7;O++)i.push(p[d]),d=d===6?0:++d;return i},Do=function(i,o){for(var d=[],p=0;p<r.numberOfMonths;p++){var O=i+p,M=o;O>11&&(O=O%11-1,M=o+1),d.push(cu(O,M))}return d},cu=function(i,o){for(var d=[],p=au(i,o),O=kr(i,o),M=iu(i,o),N=1,H=new Date,ee=[],pe=Math.ceil((O+p)/7),fe=0;fe<pe;fe++){var X=[];if(fe===0){for(var ue=M-p+1;ue<=M;ue++){var et=_o(i,o);X.push({day:ue,month:et.month,year:et.year,otherMonth:!0,today:la(H,ue,et.month,et.year),selectable:Pn(ue,et.month,et.year,!0)})}for(var at=7-X.length,dt=0;dt<at;dt++)X.push({day:N,month:i,year:o,today:la(H,N,i,o),selectable:Pn(N,i,o,!1)}),N++}else for(var Et=0;Et<7;Et++){if(N>O){var we=ou(i,o);X.push({day:N-O,month:we.month,year:we.year,otherMonth:!0,today:la(H,N-O,we.month,we.year),selectable:Pn(N-O,we.month,we.year,!0)})}else X.push({day:N,month:i,year:o,today:la(H,N,i,o),selectable:Pn(N,i,o,!1)});N++}r.showWeek&&ee.push(uu(new Date(X[0].year,X[0].month,X[0].day))),d.push(X)}return{month:i,year:o,dates:d,weekNumbers:ee}},uu=function(i){var o=Ct(i);o.setDate(o.getDate()+4-(o.getDay()||7));var d=o.getTime();return o.setMonth(0),o.setDate(1),Math.floor(Math.round((d-o.getTime())/864e5)/7)+1},Pn=function(i,o,d,p){var O=!0,M=!0,N=!0,H=!0,ee=!0;return r.minDate&&(r.minDate.getFullYear()>d||r.minDate.getFullYear()===d&&(o>-1&&r.minDate.getMonth()>o||o>-1&&r.minDate.getMonth()===o&&i>0&&r.minDate.getDate()>i))&&(O=!1),r.maxDate&&(r.maxDate.getFullYear()<d||r.maxDate.getFullYear()===d&&(o>-1&&r.maxDate.getMonth()<o||o>-1&&r.maxDate.getMonth()===o&&i>0&&r.maxDate.getDate()<i))&&(M=!1),(r.disabledDates||r.enabledDates||r.disabledDays)&&(H=!pu(i,o,d)),r.selectOtherMonths===!1&&p&&(ee=!1),O&&M&&N&&H&&ee},wo=function(i){var o=!0,d=!0;return r.minDate&&r.minDate.toDateString()===i.toDateString()&&(r.minDate.getHours()>i.getHours()||r.minDate.getHours()===i.getHours()&&(r.minDate.getMinutes()>i.getMinutes()||r.minDate.getMinutes()===i.getMinutes()&&(r.minDate.getSeconds()>i.getSeconds()||r.minDate.getSeconds()===i.getSeconds()&&r.minDate.getMilliseconds()>i.getMilliseconds())))&&(o=!1),r.maxDate&&r.maxDate.toDateString()===i.toDateString()&&(r.maxDate.getHours()<i.getHours()||r.maxDate.getHours()===i.getHours()&&(r.maxDate.getMinutes()<i.getMinutes()||r.maxDate.getMinutes()===i.getMinutes()&&(r.maxDate.getSeconds()<i.getSeconds()||r.maxDate.getSeconds()===i.getSeconds()&&r.maxDate.getMilliseconds()<i.getMilliseconds())))&&(d=!1),o&&d},ti=function(i){if(r.value){if(Vn())return pr(r.value,i);if(on()){var o=!1,d=ps(r.value),p;try{for(d.s();!(p=d.n()).done;){var O=p.value;if(o=pr(O,i),o)break}}catch(M){d.e(M)}finally{d.f()}return o}else if(an())return r.value[1]?pr(r.value[0],i)||pr(r.value[1],i)||du(r.value[0],r.value[1],i):pr(r.value[0],i)}else return!1},Oo=function(){return r.value!=null&&typeof r.value!="string"},So=function(i){if(!Oo())return!1;if(on())return r.value.some(function(X){return X.getMonth()===i&&X.getFullYear()===Ce});if(an()){var o=sn(r.value,2),d=o[0],p=o[1],O=d?d.getFullYear():null,M=p?p.getFullYear():null,N=d?d.getMonth():null,H=p?p.getMonth():null;if(p){var ee=new Date(Ce,i,1),pe=new Date(O,N,1),fe=new Date(M,H,1);return ee>=pe&&ee<=fe}else return O===Ce&&N===i}else return r.value.getMonth()===i&&r.value.getFullYear()===Ce},ni=function(i){if(!Oo())return!1;if(on())return r.value.some(function(p){return p.getFullYear()===i});if(an()){var o=r.value[0]?r.value[0].getFullYear():null,d=r.value[1]?r.value[1].getFullYear():null;return o===i||d===i||o<i&&d>i}else return r.value.getFullYear()===i},Ro=function(){return r.numberOfMonths>1||r.disabled},pr=function(i,o){return i&&i instanceof Date?i.getDate()===o.day&&i.getMonth()===o.month&&i.getFullYear()===o.year:!1},du=function(i,o,d){var p=!1;if(i&&o){var O=new Date(d.year,d.month,d.day);return i.getTime()<=O.getTime()&&o.getTime()>=O.getTime()}return p},Vn=function(){return r.selectionMode==="single"},an=function(){return r.selectionMode==="range"},on=function(){return r.selectionMode==="multiple"},la=function(i,o,d,p){return i.getDate()===o&&i.getMonth()===d&&i.getFullYear()===p},pu=function(i,o,d){var p=!1;if(r.disabledDates&&r.disabledDates.some(function(H){return H.getFullYear()===d&&H.getMonth()===o&&H.getDate()===i})&&(p=!0),!p&&r.disabledDays&&ae==="date"){var O=new Date(d,o,i),M=O.getDay();r.disabledDays.indexOf(M)!==-1&&(p=!0)}if(r.enabledDates){var N=r.enabledDates.some(function(H){return H.getFullYear()===d&&H.getMonth()===o&&H.getDate()===i});N?p=!1:!r.disabledDays&&!r.disabledDates&&(p=!0)}return p},fr=function(i,o){for(var d=i===-1?new Array(12).fill(0).map(function(ee,pe){return kr(pe,o)}):[kr(i,o)],p=0;p<d.length;p++)for(var O=d[p],M=i===-1?p:i,N=1;N<=O;N++){var H=Pn(N,M,o);if(H)return!1}return!0},Mn=function(i){if(z.current){var o="";if(i)try{if(Vn())o=gn(i)?ca(i):r.keepInvalid?i:"";else if(on())for(var d=0;d<i.length;d++){var p=i[d],O=gn(p)?ca(p):"";o=o+O,d!==i.length-1&&(o=o+", ")}else if(an()&&i&&i.length){var M=i[0],N=i[1];o=gn(M)?ca(M):"",N&&(o=o+(gn(N)?" - "+ca(N):""))}}catch{o=i}z.current.value=o}},ca=function(i){if(r.formatDateTime)return r.formatDateTime(i);var o=null;return i&&(r.timeOnly?o=Po(i):(o=fu(i,Kt()),r.showTime&&(o=o+(" "+Po(i))))),o},fu=function(i,o){if(!i)return"";var d,p=function(at){var dt=d+1<o.length&&o.charAt(d+1)===at;return dt&&d++,dt},O=function(at,dt,Et){var we=""+dt;if(p(at))for(;we.length<Et;)we="0"+we;return we},M=function(at,dt,Et,we){return p(at)?we[dt]:Et[dt]},N="",H=!1,ee=Jt(r.locale),pe=ee.dayNamesShort,fe=ee.dayNames,X=ee.monthNamesShort,ue=ee.monthNames;if(i)for(d=0;d<o.length;d++)if(H)o.charAt(d)==="'"&&!p("'")?H=!1:N=N+o.charAt(d);else switch(o.charAt(d)){case"d":N=N+O("d",i.getDate(),2);break;case"D":N=N+M("D",i.getDay(),pe,fe);break;case"o":N=N+O("o",Math.round((new Date(i.getFullYear(),i.getMonth(),i.getDate()).getTime()-new Date(i.getFullYear(),0,0).getTime())/864e5),3);break;case"m":N=N+O("m",i.getMonth()+1,2);break;case"M":N=N+M("M",i.getMonth(),X,ue);break;case"y":N=N+(p("y")?i.getFullYear():(i.getFullYear()%100<10?"0":"")+i.getFullYear()%100);break;case"@":N=N+i.getTime();break;case"!":N=N+(i.getTime()*1e4+ticksTo1970);break;case"'":p("'")?N=N+"'":H=!0;break;default:N=N+o.charAt(d)}return N},Po=function(i){if(!i)return"";var o="",d=i.getHours(),p=i.getMinutes(),O=i.getSeconds(),M=i.getMilliseconds();return r.hourFormat==="12"&&d>11&&d!==12&&(d=d-12),r.hourFormat==="12"?o=o+(d===0?12:d<10?"0"+d:d):o=o+(d<10?"0"+d:d),o=o+":",o=o+(p<10?"0"+p:p),r.showSeconds&&(o=o+":",o=o+(O<10?"0"+O:O)),r.showMillisec&&(o=o+".",o=o+(M<100?(M<10?"00":"0")+M:M)),r.hourFormat==="12"&&(o=o+(i.getHours()>11?" PM":" AM")),o},mu=function(i){if(!i||i.trim().length===0)return null;var o;if(Vn())o=ri(i);else if(on()){var d=i.split(",");o=[];var p=ps(d),O;try{for(p.s();!(O=p.n()).done;){var M=O.value;o.push(ri(M.trim()))}}catch(ee){p.e(ee)}finally{p.f()}}else if(an()){var N=i.split(" - ");o=[];for(var H=0;H<N.length;H++)o[H]=ri(N[H].trim())}return o},ri=function(i){if(r.parseDateTime)return r.parseDateTime(i);var o,d=i.split(" ");return r.timeOnly?(o=new Date,Mo(o,d[0],d[1])):r.showTime?(o=Co(d[0],Kt()),Mo(o,d[1],d[2])):o=Co(i,Kt()),o},Mo=function(i,o,d){if(r.hourFormat==="12"&&d!=="PM"&&d!=="AM")throw new Error("Invalid Time");var p=gu(o,d);i.setHours(p.hour),i.setMinutes(p.minute),i.setSeconds(p.second),i.setMilliseconds(p.millisecond)},gu=function(i,o){i=r.showMillisec?i.replace(".",":"):i;var d=i.split(":"),p=r.showSeconds?3:2;if(p=r.showMillisec?p+1:p,d.length!==p||d[0].length!==2||d[1].length!==2||r.showSeconds&&d[2].length!==2||r.showMillisec&&d[3].length!==3)throw new Error("Invalid time");var O=parseInt(d[0],10),M=parseInt(d[1],10),N=r.showSeconds?parseInt(d[2],10):null,H=r.showMillisec?parseInt(d[3],10):null;if(isNaN(O)||isNaN(M)||O>23||M>59||r.hourFormat==="12"&&O>12||r.showSeconds&&(isNaN(N)||N>59)||r.showMillisec&&(isNaN(N)||N>1e3))throw new Error("Invalid time");return r.hourFormat==="12"&&(O!==12&&o==="PM"&&(O=O+12),O===12&&o==="AM"&&(O=O-12)),{hour:O,minute:M,second:N,millisecond:H}},Co=function(i,o){if(o==null||i==null)throw new Error("Invalid arguments");if(i=Sr(i)==="object"?i.toString():i+"",i==="")return null;var d,p,O,M=0,N=typeof r.shortYearCutoff!="string"?r.shortYearCutoff:new Date().getFullYear()%100+parseInt(r.shortYearCutoff,10),H=-1,ee=-1,pe=-1,fe=-1,X=!1,ue,et=function(Ft){var Cn=d+1<o.length&&o.charAt(d+1)===Ft;return Cn&&d++,Cn},at=function(Ft){var Cn=et(Ft),gr=Ft==="@"?14:Ft==="!"?20:Ft==="y"&&Cn?4:Ft==="o"?3:2,An=Ft==="y"?gr:1,Hn=new RegExp("^\\d{"+An+","+gr+"}"),Qt=i.substring(M).match(Hn);if(!Qt)throw new Error("Missing number at position "+M);return M=M+Qt[0].length,parseInt(Qt[0],10)},dt=function(Ft,Cn,gr){for(var An=-1,Hn=et(Ft)?gr:Cn,Qt=[],xn=0;xn<Hn.length;xn++)Qt.push([xn,Hn[xn]]);Qt.sort(function(En,bn){return-(En[1].length-bn[1].length)});for(var Yn=0;Yn<Qt.length;Yn++){var Wn=Qt[Yn][1];if(i.substr(M,Wn.length).toLowerCase()===Wn.toLowerCase()){An=Qt[Yn][0],M=M+Wn.length;break}}if(An!==-1)return An+1;throw new Error("Unknown name at position "+M)},Et=function(){if(i.charAt(M)!==o.charAt(d))throw new Error("Unexpected literal at position "+M);M++};r.view==="month"&&(pe=1),r.view==="year"&&(pe=1,ee=1);var we=Jt(r.locale),Bt=we.dayNamesShort,ai=we.dayNames,ii=we.monthNamesShort,da=we.monthNames;for(d=0;d<o.length;d++)if(X)o.charAt(d)==="'"&&!et("'")?X=!1:Et();else switch(o.charAt(d)){case"d":pe=at("d");break;case"D":dt("D",Bt,ai);break;case"o":fe=at("o");break;case"m":ee=at("m");break;case"M":ee=dt("M",ii,da);break;case"y":H=at("y");break;case"@":ue=new Date(at("@")),H=ue.getFullYear(),ee=ue.getMonth()+1,pe=ue.getDate();break;case"!":ue=new Date((at("!")-ticksTo1970)/1e4),H=ue.getFullYear(),ee=ue.getMonth()+1,pe=ue.getDate();break;case"'":et("'")?Et():X=!0;break;default:Et()}if(M<i.length&&(O=i.substr(M),!/^\s+/.test(O)))throw new Error("Extra/unparsed characters found in date: "+O);if(H===-1?H=new Date().getFullYear():H<100&&(H=H+(new Date().getFullYear()-new Date().getFullYear()%100+(H<=N?0:-100))),fe>-1){ee=1,pe=fe;do{if(p=kr(H,ee-1),pe<=p)break;ee++,pe=pe-p}while(!0)}if(ue=To(new Date(H,ee-1,pe)),ue.getFullYear()!==H||ue.getMonth()+1!==ee||ue.getDate()!==pe)throw new Error("Invalid date");return ue},Ao=function(i){return r.minDate&&r.minDate.getFullYear()===i.getFullYear()},xo=function(i){return r.maxDate&&r.maxDate.getFullYear()===i.getFullYear()};h.useEffect(function(){Rt.combinedRefs(z,r.inputRef)},[z,r.inputRef]),hl(function(){var D=kt(r.viewDate);if(oa(D),S(D),lt(D.getMonth()),ve(D.getFullYear()),_e(r.view),!T){var i=li();!T&&R(i)}r.inline&&(P&&P.current.setAttribute(qt,""),r.disabled||(Zt(),r.numberOfMonths===1&&(P.current.style.width=Q.getOuterWidth(P.current)+"px"))),r.value&&(Mn(r.value),Lo(r.value)),r.autoFocus&&setTimeout(function(){return Q.focus(z.current,r.autoFocus)},200)}),h.useEffect(function(){Ie.current=r.onChange},[r.onChange]),h.useEffect(function(){var D=null;return r.mask&&(D=gd(z.current,{mask:r.mask,slotChar:r.maskSlotChar,readOnly:r.readOnlyInput||r.disabled,onChange:function(o){ge(o.originalEvent,o.value,function(){return!1})},onBlur:function(o){ge(o,o.target.value)}}).unbindEvents),function(){r.mask&&D&&D()}},[r.disabled,r.mask,r.readOnlyInput]),cn(function(){me.current&&_e(r.view),me.current=!1},[r.view]),cn(function(){On()},[ae]),cn(function(){!r.onViewDateChange&&!U.current&&Lo(r.value),r.viewDate&&hn(null,kt(r.viewDate))},[r.onViewDateChange,r.value,r.viewDate]),cn(function(){(g||r.visible)&&setTimeout(function(){yo()})},[ae,g,r.visible]),cn(function(){var D=r.value;if(Je!==D){if(A.current||Mn(D),A.current=!1,!D)return;var i=D;if(on())D.length&&(i=D[D.length-1]);else if(an()&&D.length){var o=D[0],d=D[1];i=d||o}i instanceof Date&&(oa(i),S(i),lt(i.getMonth()),ve(i.getFullYear()))}},[r.value,ze]),cn(function(){Mn(r.value)},[r.dateFormat,r.hourFormat,r.timeOnly,r.showSeconds,r.showMillisec,r.showTime,r.locale]),cn(function(){P.current&&(Hc(w),wn())}),vl(function(){j.current&&(dr(),j.current=null),Bn.clear(P.current)}),h.useImperativeHandle(t,function(){return{props:r,show:sa,hide:wt,getCurrentDateTime:rt,getViewDate:kt,updateViewDate:hn,focus:function(){return Q.focus(z.current)},getElement:function(){return V.current},getOverlay:function(){return P.current},getInput:function(){return z.current}}});var Lo=function(i){Array.isArray(i)&&(i=i[0]);var o=Je;Array.isArray(o)&&(o=o[0]);var d=r.viewDate&&gn(r.viewDate)?r.viewDate:i&&gn(i)?i:new Date;oe.current&&r.showTime&&(d.setHours(0,0,0),oe.current=!1),(!o&&i||i&&i instanceof Date&&i.getTime()!==o.getTime())&&oa(d),S(d),U.current=!0},No=function(i){var o=i?{onClick:Ve,onKeyDown:function(ue){return tt(ue)}}:{style:{visibility:"hidden"}},d=n({className:y("previousIcon")},b("previousIcon")),p=r.prevIcon||h.createElement(Ul,d),O=Wr.getJSXIcon(p,vr({},d),{props:r}),M=Jt(r.locale),N=M.prevDecade,H=M.prevYear,ee=M.prevMonth,pe=ae==="year"?N:ae==="month"?H:ee,fe=n(vr({type:"button",className:y("previousButton"),"aria-label":pe},o),b("previousButton"));return h.createElement("button",pt({ref:ke},fe),O,h.createElement(At,null))},ko=function(i){var o=i?{onClick:vt,onKeyDown:function(ue){return tt(ue)}}:{style:{visibility:"hidden"}},d=n({className:y("nextIcon")},b("nextIcon")),p=r.nextIcon||h.createElement(Vl,d),O=Wr.getJSXIcon(p,vr({},d),{props:r}),M=Jt(r.locale),N=M.nextDecade,H=M.nextYear,ee=M.nextMonth,pe=ae==="year"?N:ae==="month"?H:ee,fe=n(vr({type:"button",className:y("nextButton"),"aria-label":pe},o),b("nextButton"));return h.createElement("button",pt({ref:Ue},fe),O,h.createElement(At,null))},Bo=function(i){return r.monthNavigator&&r.view!=="month"&&(r.numberOfMonths===1||i===0)},hu=function(i,o){var d=ln("monthNames",r.locale);if(Bo(o)){var p=kt(),O=p.getMonth(),M=d.map(function(X,ue){return(!Ao(p)||ue>=r.minDate.getMonth())&&(!xo(p)||ue<=r.maxDate.getMonth())?{label:X,value:ue,index:ue}:null}).filter(function(X){return!!X}),N=M.map(function(X){return X.label}),H=n({className:y("select"),onChange:function(ue){return sr(ue,ue.target.value)},value:O},b("select")),ee=h.createElement("select",H,M.map(function(X){var ue=n({value:X.value},b("option"));return h.createElement("option",pt({},ue,{key:X.label}),X.label)}));if(r.monthNavigatorTemplate){var pe={onChange:sr,className:"p-datepicker-month",value:O,names:N,options:M,element:ee,props:r};return Rt.getJSXElement(r.monthNavigatorTemplate,pe)}return ee}var fe=n({className:y("monthTitle"),onKeyDown:tt,"aria-label":ln("chooseMonth",r.locale),onClick:Xc,disabled:Ro()},b("monthTitle"));return ae==="date"&&h.createElement("button",fe,d[i])},Fo=function(i){var o=kt(),d=o.getFullYear(),p=r.numberOfMonths>1?i:Ce;if(r.yearNavigator){var O=[];if(r.yearRange)for(var M=r.yearRange.split(":"),N=parseInt(M[0],10),H=parseInt(M[1],10),ee=N;ee<=H;ee++)O.push(ee);else for(var pe=d-d%10,fe=0;fe<10;fe++)O.push(pe+fe);var X=O.filter(function(we){return!(r.minDate&&r.minDate.getFullYear()>we)&&!(r.maxDate&&r.maxDate.getFullYear()<we)}),ue=n({className:y("select"),onChange:function(Bt){return lr(Bt,Bt.target.value)},value:p},b("select")),et=h.createElement("select",ue,X.map(function(we){var Bt=n({value:we},b("option"));return h.createElement("option",pt({},Bt,{key:we}),we)}));if(r.yearNavigatorTemplate){var at=X.map(function(we,Bt){return{label:we,value:we,index:Bt}}),dt={onChange:lr,className:"p-datepicker-year",value:d,names:X,options:at,element:et,props:r};return Rt.getJSXElement(r.yearNavigatorTemplate,dt)}return et}var Et=n({className:y("yearTitle"),"aria-label":ln("chooseYear",r.locale),onClick:function(Bt){return Zc(Bt)},disabled:Ro()},b("yearTitle"));return ae!=="year"&&h.createElement("button",Et,p)},Go=function(){var i=Br(),o=n({className:y("decadeTitle")},b("decadeTitle"));if(ae==="year"){var d=n(b("decadeTitleText"));return h.createElement("span",o,r.decadeTemplate?r.decadeTemplate(i):h.createElement("span",d,"".concat(Br()[0]," - ").concat(Br()[Br().length-1])))}return null},vu=function(i,o){var d=hu(i.month,o),p=Fo(i.year),O=Go(),M=n({className:y("title")},b("title")),N=ln("showMonthAfterYear",r.locale);return h.createElement("div",M,N?p:d,N?d:p,O)},Eu=function(i){var o=n(b("weekDay")),d=n({scope:"col"},b("tableHeaderCell")),p=i.map(function(H,ee){return h.createElement("th",pt({},d,{key:"".concat(H,"-").concat(ee)}),h.createElement("span",o,H))});if(r.showWeek){var O=n({scope:"col",className:y("weekHeader"),"data-p-disabled":r.showWeek},b("weekHeader",{context:{disabled:r.showWeek}})),M=n(b("weekLabel")),N=h.createElement("th",pt({},O,{key:"wn"}),h.createElement("span",M,ln("weekHeader",r.locale)));return[N].concat(ba(p))}return p},bu=function(i,o,d){var p=r.dateTemplate?r.dateTemplate(i):i.day,O=ti(i),M=n({className:y("dayLabel",{className:o}),"aria-selected":O,"aria-disabled":!i.selectable,onClick:function(H){return ur(H,i)},onKeyDown:function(H){return Yc(H,i,d)},"data-p-highlight":O,"data-p-disabled":!i.selectable},b("dayLabel",{context:{selected:O,disabled:!i.selectable}}));return h.createElement("span",M,p,O&&h.createElement("div",{"aria-live":"polite",className:"p-hidden-accessible","data-p-hidden-accessible":!0,pt:b("hiddenSelectedDay")}))},yu=function(i,o,d){var p=i.map(function(H){var ee=ti(H),pe=Fe({"p-highlight":ee,"p-disabled":!H.selectable}),fe=H.otherMonth&&!r.showOtherMonths?null:bu(H,pe,d),X=n({className:y("day",{date:H}),"aria-label":H.day,"data-p-today":H.today,"data-p-other-month":H.otherMonth},b("day",{context:{date:H,today:H.today,otherMonth:H.otherMonth}}));return h.createElement("td",pt({},X,{key:H.day}),fe)});if(r.showWeek){var O=n({className:y("weekNumber")},b("weekNumber")),M=n({className:y("weekLabelContainer"),"data-p-disabled":r.showWeek},b("weekLabelContainer",{context:{disabled:r.showWeek}})),N=h.createElement("td",pt({},O,{key:"wn"+o}),h.createElement("span",M,o));return[N].concat(ba(p))}return p},Iu=function(i,o){var d=n(b("tableBodyRowProps"));return i.dates.map(function(p,O){return h.createElement("tr",pt({},d,{key:O}),yu(p,i.weekNumbers[O],o))})},Tu=function(i,o,d){var p=Eu(o),O=Iu(i,d),M=n({className:y("container"),key:li("calendar_container_")},b("container")),N=n({role:"grid",className:y("table")},b("table")),H=n(b("tableHeader")),ee=n(b("tableHeaderRow")),pe=n(b("tableBody"));return ae==="date"&&h.createElement("div",M,h.createElement("table",N,h.createElement("thead",H,h.createElement("tr",ee,p)),h.createElement("tbody",pe,O)))},_u=function(i,o){var d=lu(),p=No(o===0),O=ko(r.numberOfMonths===1||o===r.numberOfMonths-1),M=vu(i,o),N=Tu(i,d,o),H=r.headerTemplate?r.headerTemplate():null,ee=i.month+"-"+i.year,pe=n({className:y("group")},b("group")),fe=n({className:y("header"),key:o},b("header"));return h.createElement("div",pt({},pe,{key:ee}),h.createElement("div",fe,H,p,M,O),N)},Du=function(i){var o=i.map(_u),d=n({className:y("groupContainer")},b("groupContainer"));return h.createElement("div",d,o)},wu=function(){var i=kt(),o=Do(i.getMonth(),i.getFullYear()),d=Du(o);return d},Ou=function(){for(var i=[],o=ln("monthNamesShort",r.locale),d=0;d<=11;d++)i.push(o[d]);return i},Br=function(){for(var i=[],o=Ce-Ce%10,d=0;d<10;d++)i.push(o+d);return i},Su=function(){var i=No(!0),o=ko(!0),d=Fo(kt().getFullYear()),p=Go(),O=n({className:y("groupContainer")},b("groupContainer")),M=n({className:y("group")},b("group")),N=n({className:y("header")},b("header")),H=n({className:y("title")},b("title"));return h.createElement(h.Fragment,null,h.createElement("div",O,h.createElement("div",M,h.createElement("div",N,i,h.createElement("div",H,d,p),o))))},Ru=function(){return r.timeOnly?null:r.view==="date"?wu():Su()},$o=n(b("incrementIcon")),Uo=n(b("decrementIcon")),Fr=Wr.getJSXIcon(r.incrementIcon||h.createElement(Hl,$o),vr({},$o),{props:r}),Gr=Wr.getJSXIcon(r.decrementIcon||h.createElement($l,Uo),vr({},Uo),{props:r}),Pu=function(){var i=rt(),o=nt(i.getMinutes()),d=i.getHours();d=o>59?d+1:d,r.hourFormat==="12"&&(d===0?d=12:d>11&&d!==12&&(d=d-12));var p=n(b("hour")),O=Jt(r.locale),M=O.nextHour,N=O.prevHour,H=d<10?"0"+d:d,ee=n({className:y("hourPicker")},b("hourPicker")),pe=n({type:"button",className:y("incrementButton"),"aria-label":M,onMouseDown:function(ue){return mt(ue,0,1)},onMouseUp:F,onMouseLeave:L,onKeyDown:function(ue){return We(ue,0,1)},onKeyUp:ct},b("incrementButton")),fe=n({type:"button",className:y("decrementButton"),"aria-label":N,onMouseDown:function(ue){return mt(ue,0,-1)},onMouseUp:F,onMouseLeave:L,onKeyDown:function(ue){return We(ue,0,-1)},onKeyUp:ct},b("decrementButton"));return h.createElement("div",ee,h.createElement("button",pe,Fr,h.createElement(At,null)),h.createElement("span",p,H),h.createElement("button",fe,Gr,h.createElement(At,null)))},Mu=function(){var i=rt(),o=nt(i.getMinutes());o=o>59?o-60:o;var d=n(b("minute")),p=Jt(r.locale),O=p.nextMinute,M=p.prevMinute,N=o<10?"0"+o:o,H=n({className:y("minutePicker")},b("minutePicker")),ee=n({type:"button",className:y("incrementButton"),"aria-label":O,onMouseDown:function(X){return mt(X,1,1)},onMouseUp:F,onMouseLeave:L,onKeyDown:function(X){return We(X,1,1)},onKeyUp:ct},b("incrementButton")),pe=n({type:"button",className:y("decrementButton"),"aria-label":M,onMouseDown:function(X){return mt(X,1,-1)},onMouseUp:F,onMouseLeave:L,onKeyDown:function(X){return We(X,1,-1)},onKeyUp:ct},b("decrementButton"));return h.createElement("div",H,h.createElement("button",ee,Fr,h.createElement(At,null)),h.createElement("span",d,N),h.createElement("button",pe,Gr,h.createElement(At,null)))},Cu=function(){if(r.showSeconds){var i=rt(),o=Jt(r.locale),d=o.nextSecond,p=o.prevSecond,O=n(b("second")),M=i.getSeconds(),N=M<10?"0"+M:M,H=n({className:y("secondPicker")},b("secondPicker")),ee=n({type:"button",className:y("incrementButton"),"aria-label":d,onMouseDown:function(X){return mt(X,2,1)},onMouseUp:F,onMouseLeave:L,onKeyDown:function(X){return We(X,2,1)},onKeyUp:ct},b("incrementButton")),pe=n({type:"button",className:y("decrementButton"),"aria-label":p,onMouseDown:function(X){return mt(X,2,-1)},onMouseUp:F,onMouseLeave:L,onKeyDown:function(X){return We(X,2,-1)},onKeyUp:ct},b("decrementButton"));return h.createElement("div",H,h.createElement("button",ee,Fr,h.createElement(At,null)),h.createElement("span",O,N),h.createElement("button",pe,Gr,h.createElement(At,null)))}return null},Au=function(){if(r.showMillisec){var i=rt(),o=Jt(r.locale),d=o.nextMilliSecond,p=o.prevMilliSecond,O=n(b("millisecond")),M=i.getMilliseconds(),N=M<100?(M<10?"00":"0")+M:M,H=n({className:y("millisecondPicker")},b("millisecondPicker")),ee=n({type:"button",className:y("incrementButton"),"aria-label":d,onMouseDown:function(X){return mt(X,3,1)},onMouseUp:F,onMouseLeave:L,onKeyDown:function(X){return We(X,3,1)},onKeyUp:ct},b("incrementButton")),pe=n({type:"button",className:y("decrementButton"),"aria-label":p,onMouseDown:function(X){return mt(X,3,-1)},onMouseUp:F,onMouseLeave:L,onKeyDown:function(X){return We(X,3,-1)},onKeyUp:ct},b("decrementButton"));return h.createElement("div",H,h.createElement("button",ee,Fr,h.createElement(At,null)),h.createElement("span",O,N),h.createElement("button",pe,Gr,h.createElement(At,null)))}return null},xu=function(){if(r.hourFormat==="12"){var i=rt(),o=Jt(r.locale),d=o.am,p=o.pm,O=i.getHours(),M=O>11?"PM":"AM",N=n(b("ampm")),H=n({className:y("ampmPicker")},b("ampmPicker")),ee=n({type:"button",className:y("incrementButton"),"aria-label":d,onClick:function(X){return po(X)}},b("incrementButton")),pe=n({type:"button",className:y("decrementButton"),"aria-label":p,onClick:function(X){return po(X)}},b("decrementButton"));return h.createElement("div",H,h.createElement("button",ee,Fr,h.createElement(At,null)),h.createElement("span",N,M),h.createElement("button",pe,Gr,h.createElement(At,null)))}return null},ua=function(i){var o=n({className:y("separatorContainer")},b("separatorContainer")),d=n(b("separator"));return h.createElement("div",o,h.createElement("span",d,i))},Lu=function(){if((r.showTime||r.timeOnly)&&ae==="date"){var i=n({className:y("timePicker")},b("timePicker"));return h.createElement("div",i,Pu(),ua(":"),Mu(),r.showSeconds&&ua(":"),Cu(),r.showMillisec&&ua("."),Au(),r.hourFormat==="12"&&ua(":"),xu())}return null},Nu=function(){return r.inline?null:h.createElement(Yl,{ref:z,id:r.inputId,name:r.name,type:"text",role:"combobox",className:Fe(r.inputClassName,y("input",{context:a})),style:r.inputStyle,readOnly:r.readOnlyInput,disabled:r.disabled,required:r.required,autoComplete:"off",placeholder:r.placeholder,tabIndex:r.tabIndex,onInput:J,onFocus:rn,onBlur:le,onKeyDown:$,"aria-expanded":g,"aria-autocomplete":"none","aria-haspopup":"dialog","aria-controls":Dt,"aria-labelledby":r.ariaLabelledBy,"aria-label":r.ariaLabel,inputMode:r.inputMode,tooltip:r.tooltip,tooltipOptions:r.tooltipOptions,pt:b("input"),__parentMetadata:{parent:G}})},ku=function(){return r.showIcon?h.createElement(Ca,{type:"button",icon:r.icon||h.createElement(Gl,null),onClick:Pe,tabIndex:"-1",disabled:r.disabled,"aria-haspopup":"dialog","aria-label":ln("chooseDate",r.locale),"aria-expanded":g,"aria-controls":Dt,className:y("dropdownButton"),pt:b("dropdownButton"),__parentMetadata:{parent:G}}):null},Bu=function(){var i=Nu(),o=ku();return r.iconPos==="left"?h.createElement(h.Fragment,null,o,i):h.createElement(h.Fragment,null,i,o)},Fu=function(){if(r.showButtonBar){var i=Jt(r.locale),o=i.today,d=i.clear,p=i.now,O=new Date,M=r.minDate&&r.minDate>O||r.maxDate&&r.maxDate<O,N=n({className:y("buttonbar")},b("buttonbar"));return h.createElement("div",N,h.createElement(Ca,{type:"button",label:r.showTime?p:o,onClick:Nr,onKeyDown:function(ee){return tt(ee)},className:Fe(r.todayButtonClassName,y("todayButton")),pt:b("todayButton"),style:M?{visibility:"hidden"}:void 0}),h.createElement(Ca,{type:"button",label:d,onClick:Un,onKeyDown:function(ee){return tt(ee)},className:Fe(r.clearButtonClassName,y("clearButton")),pt:b("clearButton")}))}return null},Gu=function(){if(r.footerTemplate){var i=r.footerTemplate(),o=n({className:y("footer")},b("footer"));return h.createElement("div",o,i)}return null},$u=function(){if(ae==="month"){var i=n({className:y("monthPicker")},b("monthPicker"));return h.createElement("div",i,Ou().map(function(o,d){var p=So(d),O=n({className:y("month",{isMonthSelected:So,isMonthYearDisabled:fr,i:d,currentYear:Ce}),onClick:function(N){return vo(N,d)},onKeyDown:function(N){return Wc(N,d)},"data-p-disabled":fr(d,Ce),"data-p-highlight":p},b("month",{context:{month:o,monthIndex:d,selected:p,disabled:fr(d,Ce)}}));return h.createElement("span",pt({},O,{key:"month".concat(d+1)}),o,p&&h.createElement("div",{"aria-live":"polite",className:"p-hidden-accessible","data-p-hidden-accessible":!0,pt:b("hiddenMonth")},o))}))}return null},Uu=function(){if(ae==="year"){var i=n({className:y("yearPicker")},b("yearPicker"));return h.createElement("div",i,Br().map(function(o,d){var p=ni(o),O=n({className:y("year",{isYearSelected:ni,isMonthYearDisabled:fr,y:o}),onClick:function(N){return Eo(N,o)},onKeyDown:function(N){return jc(N,o)},"data-p-highlight":ni(o),"data-p-disabled":fr(-1,o)},b("year",{context:{year:o,yearIndex:d,selected:p,disabled:fr(-1,o)}}));return h.createElement("span",pt({},O,{key:"year".concat(d+1)}),o,p&&h.createElement("div",{"aria-live":"polite",className:"p-hidden-accessible","data-p-hidden-accessible":!0,pt:b("hiddenYear")},o))}))}return null},Vu=Fe("p-datepicker p-component",r.panelClassName,{"p-datepicker-inline":r.inline,"p-disabled":r.disabled,"p-datepicker-timeonly":r.timeOnly,"p-datepicker-multiple-month":r.numberOfMonths>1,"p-datepicker-monthpicker":ae==="month","p-datepicker-touch-ui":r.touchUI,"p-input-filled":a&&a.inputStyle==="filled"||kn.inputStyle==="filled","p-ripple-disabled":a&&a.ripple===!1||kn.ripple===!1}),Hu=Bu(),Yu=Ru(),Wu=Lu(),ju=Fu(),qu=Gu(),zu=$u(),Ku=Uu(),Xu=Q.hasClass(z.current,"p-filled")&&z.current.value!=="",Zu=n({id:r.id,className:Fe(r.className,y("root",{focusedState:u,isFilled:Xu,panelVisible:ze})),style:r.style},ya.getOtherProps(r),b("root"));return h.createElement("span",pt({ref:V},Zu),Hu,h.createElement(jl,{hostName:"Calendar",id:Dt,locale:r.locale,ref:P,className:Vu,style:r.panelStyle,appendTo:r.appendTo,inline:r.inline,onClick:Sn,onMouseUp:mn,in:ze,onEnter:Qc,onEntered:Jc,onExit:eu,onExited:tu,transitionOptions:r.transitionOptions,ptm:b,cx:y},Yu,Wu,zu,Ku,ju,qu))}));hm.displayName="Calendar";var vm={root:"p-float-label"},Em=`
@layer primereact {
    .p-float-label {
        display: block;
        position: relative;
    }
    
    .p-float-label label {
        position: absolute;
        pointer-events: none;
        top: 50%;
        margin-top: -.5rem;
        transition-property: all;
        transition-timing-function: ease;
        line-height: 1;
    }
    
    .p-float-label:has(textarea) label {
        top: 1rem;
    }
    
    .p-float-label:has(input:focus) label,
    .p-float-label:has(input.p-filled) label,
    .p-float-label:has(input:-webkit-autofill) label,
    .p-float-label:has(textarea:focus) label,
    .p-float-label:has(textarea.p-filled) label,
    .p-float-label:has(.p-inputwrapper-focus) label,
    .p-float-label:has(.p-inputwrapper-filled) label {
        top: -.75rem;
        font-size: 12px;
    }
    
    .p-float-label .p-placeholder,
    .p-float-label input::placeholder,
    .p-float-label .p-inputtext::placeholder {
        opacity: 0;
        transition-property: all;
        transition-timing-function: ease;
    }
    
    .p-float-label .p-focus .p-placeholder,
    .p-float-label input:focus::placeholder,
    .p-float-label .p-inputtext:focus::placeholder {
        opacity: 1;
        transition-property: all;
        transition-timing-function: ease;
    }
}`,Ia=Cr.extend({defaultProps:{__TYPE:"FloatLabel",children:void 0},css:{classes:vm,styles:Em}}),bm=h.memo(h.forwardRef(function(e,t){var n=ar(),a=h.useContext(Pr),r=Ia.getProps(e,a),s=h.useRef(t),l=Ia.setMetaData({props:r}),u=l.ptm,c=l.cx,m=l.isUnstyled;Ar(Ia.css.styles,m,{name:"floatlabel"}),h.useEffect(function(){Rt.combinedRefs(s,t)},[s,t]);var f=n({ref:s,className:Fe(c("root"))},Ia.getOtherProps(r),u("root"));return h.createElement("span",f,r.children)}));bm.displayName="FloatLabel";/*!
 * FilePond 4.31.1
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const ym=e=>e instanceof HTMLElement,Im=(e,t=[],n=[])=>{const a={...e},r=[],s=[],l=()=>({...a}),u=()=>{const E=[...r];return r.length=0,E},c=()=>{const E=[...s];s.length=0,E.forEach(({type:w,data:S})=>{m(w,S)})},m=(E,w,S)=>{if(S&&!document.hidden){s.push({type:E,data:w});return}I[E]&&I[E](w),r.push({type:E,data:w})},f=(E,...w)=>_[E]?_[E](...w):null,g={getState:l,processActionQueue:u,processDispatchQueue:c,dispatch:m,query:f};let _={};t.forEach(E=>{_={...E(a),..._}});let I={};return n.forEach(E=>{I={...E(m,f,a),...I}}),g},Tm=(e,t,n)=>{if(typeof n=="function"){e[t]=n;return}Object.defineProperty(e,t,{...n})},He=(e,t)=>{for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])},Gn=e=>{const t={};return He(e,n=>{Tm(t,n,e[n])}),t},Xe=(e,t,n=null)=>{if(n===null)return e.getAttribute(t)||e.hasAttribute(t);e.setAttribute(t,n)},_m="http://www.w3.org/2000/svg",Dm=["svg","path"],ms=e=>Dm.includes(e),Ga=(e,t,n={})=>{typeof t=="object"&&(n=t,t=null);const a=ms(e)?document.createElementNS(_m,e):document.createElement(e);return t&&(ms(e)?Xe(a,"class",t):a.className=t),He(n,(r,s)=>{Xe(a,r,s)}),a},wm=e=>(t,n)=>{typeof n<"u"&&e.children[n]?e.insertBefore(t,e.children[n]):e.appendChild(t)},Om=(e,t)=>(n,a)=>(typeof a<"u"?t.splice(a,0,n):t.push(n),n),Sm=(e,t)=>n=>(t.splice(t.indexOf(n),1),n.element.parentNode&&e.removeChild(n.element),n),Rm=(()=>typeof window<"u"&&typeof window.document<"u")(),ql=()=>Rm,Pm=ql()?Ga("svg"):{},Mm="children"in Pm?e=>e.children.length:e=>e.childNodes.length,zl=(e,t,n,a)=>{const r=n[0]||e.left,s=n[1]||e.top,l=r+e.width,u=s+e.height*(a[1]||1),c={element:{...e},inner:{left:e.left,top:e.top,right:e.right,bottom:e.bottom},outer:{left:r,top:s,right:l,bottom:u}};return t.filter(m=>!m.isRectIgnored()).map(m=>m.rect).forEach(m=>{gs(c.inner,{...m.inner}),gs(c.outer,{...m.outer})}),hs(c.inner),c.outer.bottom+=c.element.marginBottom,c.outer.right+=c.element.marginRight,hs(c.outer),c},gs=(e,t)=>{t.top+=e.top,t.right+=e.left,t.bottom+=e.top,t.left+=e.left,t.bottom>e.bottom&&(e.bottom=t.bottom),t.right>e.right&&(e.right=t.right)},hs=e=>{e.width=e.right-e.left,e.height=e.bottom-e.top},Kn=e=>typeof e=="number",Cm=(e,t,n,a=.001)=>Math.abs(e-t)<a&&Math.abs(n)<a,Am=({stiffness:e=.5,damping:t=.75,mass:n=10}={})=>{let a=null,r=null,s=0,l=!1;const m=Gn({interpolate:(f,g)=>{if(l)return;if(!(Kn(a)&&Kn(r))){l=!0,s=0;return}const _=-(r-a)*e;s+=_/n,r+=s,s*=t,Cm(r,a,s)||g?(r=a,s=0,l=!0,m.onupdate(r),m.oncomplete(r)):m.onupdate(r)},target:{set:f=>{if(Kn(f)&&!Kn(r)&&(r=f),a===null&&(a=f,r=f),a=f,r===a||typeof a>"u"){l=!0,s=0,m.onupdate(r),m.oncomplete(r);return}l=!1},get:()=>a},resting:{get:()=>l},onupdate:f=>{},oncomplete:f=>{}});return m},xm=e=>e<.5?2*e*e:-1+(4-2*e)*e,Lm=({duration:e=500,easing:t=xm,delay:n=0}={})=>{let a=null,r,s,l=!0,u=!1,c=null;const f=Gn({interpolate:(g,_)=>{l||c===null||(a===null&&(a=g),!(g-a<n)&&(r=g-a-n,r>=e||_?(r=1,s=u?0:1,f.onupdate(s*c),f.oncomplete(s*c),l=!0):(s=r/e,f.onupdate((r>=0?t(u?1-s:s):0)*c))))},target:{get:()=>u?0:c,set:g=>{if(c===null){c=g,f.onupdate(g),f.oncomplete(g);return}g<c?(c=1,u=!0):(u=!1,c=g),l=!1,a=null}},resting:{get:()=>l},onupdate:g=>{},oncomplete:g=>{}});return f},vs={spring:Am,tween:Lm},Nm=(e,t,n)=>{const a=e[t]&&typeof e[t][n]=="object"?e[t][n]:e[t]||e,r=typeof a=="string"?a:a.type,s=typeof a=="object"?{...a}:{};return vs[r]?vs[r](s):null},Qi=(e,t,n,a=!1)=>{t=Array.isArray(t)?t:[t],t.forEach(r=>{e.forEach(s=>{let l=s,u=()=>n[s],c=m=>n[s]=m;typeof s=="object"&&(l=s.key,u=s.getter||u,c=s.setter||c),!(r[l]&&!a)&&(r[l]={get:u,set:c})})})},km=({mixinConfig:e,viewProps:t,viewInternalAPI:n,viewExternalAPI:a})=>{const r={...t},s=[];return He(e,(l,u)=>{const c=Nm(u);if(!c)return;c.onupdate=f=>{t[l]=f},c.target=r[l],Qi([{key:l,setter:f=>{c.target!==f&&(c.target=f)},getter:()=>t[l]}],[n,a],t,!0),s.push(c)}),{write:l=>{let u=document.hidden,c=!0;return s.forEach(m=>{m.resting||(c=!1),m.interpolate(l,u)}),c},destroy:()=>{}}},Bm=e=>(t,n)=>{e.addEventListener(t,n)},Fm=e=>(t,n)=>{e.removeEventListener(t,n)},Gm=({mixinConfig:e,viewProps:t,viewInternalAPI:n,viewExternalAPI:a,viewState:r,view:s})=>{const l=[],u=Bm(s.element),c=Fm(s.element);return a.on=(m,f)=>{l.push({type:m,fn:f}),u(m,f)},a.off=(m,f)=>{l.splice(l.findIndex(g=>g.type===m&&g.fn===f),1),c(m,f)},{write:()=>!0,destroy:()=>{l.forEach(m=>{c(m.type,m.fn)})}}},$m=({mixinConfig:e,viewProps:t,viewExternalAPI:n})=>{Qi(e,n,t)},bt=e=>e!=null,Um={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},Vm=({mixinConfig:e,viewProps:t,viewInternalAPI:n,viewExternalAPI:a,view:r})=>{const s={...t},l={};Qi(e,[n,a],t);const u=()=>[t.translateX||0,t.translateY||0],c=()=>[t.scaleX||0,t.scaleY||0],m=()=>r.rect?zl(r.rect,r.childViews,u(),c()):null;return n.rect={get:m},a.rect={get:m},e.forEach(f=>{t[f]=typeof s[f]>"u"?Um[f]:s[f]}),{write:()=>{if(Hm(l,t))return Ym(r.element,t),Object.assign(l,{...t}),!0},destroy:()=>{}}},Hm=(e,t)=>{if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const n in t)if(t[n]!==e[n])return!0;return!1},Ym=(e,{opacity:t,perspective:n,translateX:a,translateY:r,scaleX:s,scaleY:l,rotateX:u,rotateY:c,rotateZ:m,originX:f,originY:g,width:_,height:I})=>{let E="",w="";(bt(f)||bt(g))&&(w+=`transform-origin: ${f||0}px ${g||0}px;`),bt(n)&&(E+=`perspective(${n}px) `),(bt(a)||bt(r))&&(E+=`translate3d(${a||0}px, ${r||0}px, 0) `),(bt(s)||bt(l))&&(E+=`scale3d(${bt(s)?s:1}, ${bt(l)?l:1}, 1) `),bt(m)&&(E+=`rotateZ(${m}rad) `),bt(u)&&(E+=`rotateX(${u}rad) `),bt(c)&&(E+=`rotateY(${c}rad) `),E.length&&(w+=`transform:${E};`),bt(t)&&(w+=`opacity:${t};`,t===0&&(w+="visibility:hidden;"),t<1&&(w+="pointer-events:none;")),bt(I)&&(w+=`height:${I}px;`),bt(_)&&(w+=`width:${_}px;`);const S=e.elementCurrentStyle||"";(w.length!==S.length||w!==S)&&(e.style.cssText=w,e.elementCurrentStyle=w)},Wm={styles:Vm,listeners:Gm,animations:km,apis:$m},Es=(e={},t={},n={})=>(t.layoutCalculated||(e.paddingTop=parseInt(n.paddingTop,10)||0,e.marginTop=parseInt(n.marginTop,10)||0,e.marginRight=parseInt(n.marginRight,10)||0,e.marginBottom=parseInt(n.marginBottom,10)||0,e.marginLeft=parseInt(n.marginLeft,10)||0,t.layoutCalculated=!0),e.left=t.offsetLeft||0,e.top=t.offsetTop||0,e.width=t.offsetWidth||0,e.height=t.offsetHeight||0,e.right=e.left+e.width,e.bottom=e.top+e.height,e.scrollTop=t.scrollTop,e.hidden=t.offsetParent===null,e),Ze=({tag:e="div",name:t=null,attributes:n={},read:a=()=>{},write:r=()=>{},create:s=()=>{},destroy:l=()=>{},filterFrameActionsForChild:u=(I,E)=>E,didCreateView:c=()=>{},didWriteView:m=()=>{},ignoreRect:f=!1,ignoreRectUpdate:g=!1,mixins:_=[]}={})=>(I,E={})=>{const w=Ga(e,`filepond--${t}`,n),S=window.getComputedStyle(w,null),C=Es();let v=null,T=!1;const R=[],A=[],G={},B={},b=[r],y=[a],W=[l],V=()=>w,P=()=>R.concat(),z=()=>G,k=oe=>(Te,re)=>Te(oe,re),ne=()=>v||(v=zl(C,R,[0,0],[1,1]),v),x=()=>S,U=()=>{v=null,R.forEach(re=>re._read()),!(g&&C.width&&C.height)&&Es(C,w,S);const Te={root:me,props:E,rect:C};y.forEach(re=>re(Te))},j=(oe,Te,re)=>{let ae=Te.length===0;return b.forEach(_e=>{_e({props:E,root:me,actions:Te,timestamp:oe,shouldOptimize:re})===!1&&(ae=!1)}),A.forEach(_e=>{_e.write(oe)===!1&&(ae=!1)}),R.filter(_e=>!!_e.element.parentNode).forEach(_e=>{_e._write(oe,u(_e,Te),re)||(ae=!1)}),R.forEach((_e,st)=>{_e.element.parentNode||(me.appendChild(_e.element,st),_e._read(),_e._write(oe,u(_e,Te),re),ae=!1)}),T=ae,m({props:E,root:me,actions:Te,timestamp:oe}),ae},q=()=>{A.forEach(oe=>oe.destroy()),W.forEach(oe=>{oe({root:me,props:E})}),R.forEach(oe=>oe._destroy())},ie={element:{get:V},style:{get:x},childViews:{get:P}},de={...ie,rect:{get:ne},ref:{get:z},is:oe=>t===oe,appendChild:wm(w),createChildView:k(I),linkView:oe=>(R.push(oe),oe),unlinkView:oe=>{R.splice(R.indexOf(oe),1)},appendChildView:Om(w,R),removeChildView:Sm(w,R),registerWriter:oe=>b.push(oe),registerReader:oe=>y.push(oe),registerDestroyer:oe=>W.push(oe),invalidateLayout:()=>w.layoutCalculated=!1,dispatch:I.dispatch,query:I.query},ke={element:{get:V},childViews:{get:P},rect:{get:ne},resting:{get:()=>T},isRectIgnored:()=>f,_read:U,_write:j,_destroy:q},Ue={...ie,rect:{get:()=>C}};Object.keys(_).sort((oe,Te)=>oe==="styles"?1:Te==="styles"?-1:0).forEach(oe=>{const Te=Wm[oe]({mixinConfig:_[oe],viewProps:E,viewState:B,viewInternalAPI:de,viewExternalAPI:ke,view:Gn(Ue)});Te&&A.push(Te)});const me=Gn(de);s({root:me,props:E});const Ie=Mm(w);return R.forEach((oe,Te)=>{me.appendChild(oe.element,Ie+Te)}),c(me),Gn(ke)},jm=(e,t,n=60)=>{const a="__framePainter";if(window[a]){window[a].readers.push(e),window[a].writers.push(t);return}window[a]={readers:[e],writers:[t]};const r=window[a],s=1e3/n;let l=null,u=null,c=null,m=null;const f=()=>{document.hidden?(c=()=>window.setTimeout(()=>g(performance.now()),s),m=()=>window.clearTimeout(u)):(c=()=>window.requestAnimationFrame(g),m=()=>window.cancelAnimationFrame(u))};document.addEventListener("visibilitychange",()=>{m&&m(),f(),g(performance.now())});const g=_=>{u=c(g),l||(l=_);const I=_-l;I<=s||(l=_-I%s,r.readers.forEach(E=>E()),r.writers.forEach(E=>E(_)))};return f(),g(performance.now()),{pause:()=>{m(u)}}},Tt=(e,t)=>({root:n,props:a,actions:r=[],timestamp:s,shouldOptimize:l})=>{r.filter(u=>e[u.type]).forEach(u=>e[u.type]({root:n,props:a,action:u.data,timestamp:s,shouldOptimize:l})),t&&t({root:n,props:a,actions:r,timestamp:s,shouldOptimize:l})},bs=(e,t)=>t.parentNode.insertBefore(e,t),ys=(e,t)=>t.parentNode.insertBefore(e,t.nextSibling),ja=e=>Array.isArray(e),_n=e=>e==null,qm=e=>e.trim(),qa=e=>""+e,zm=(e,t=",")=>_n(e)?[]:ja(e)?e:qa(e).split(t).map(qm).filter(n=>n.length),Kl=e=>typeof e=="boolean",Xl=e=>Kl(e)?e:e==="true",yt=e=>typeof e=="string",Zl=e=>Kn(e)?e:yt(e)?qa(e).replace(/[a-z]+/gi,""):0,Aa=e=>parseInt(Zl(e),10),Is=e=>parseFloat(Zl(e)),xr=e=>Kn(e)&&isFinite(e)&&Math.floor(e)===e,Ts=(e,t=1e3)=>{if(xr(e))return e;let n=qa(e).trim();return/MB$/i.test(n)?(n=n.replace(/MB$i/,"").trim(),Aa(n)*t*t):/KB/i.test(n)?(n=n.replace(/KB$i/,"").trim(),Aa(n)*t):Aa(n)},Xn=e=>typeof e=="function",Km=e=>{let t=self,n=e.split("."),a=null;for(;a=n.shift();)if(t=t[a],!t)return null;return t},_s={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},Xm=e=>{const t={};return t.url=yt(e)?e:e.url||"",t.timeout=e.timeout?parseInt(e.timeout,10):0,t.headers=e.headers?e.headers:{},He(_s,n=>{t[n]=Zm(n,e[n],_s[n],t.timeout,t.headers)}),t.process=e.process||yt(e)||e.url?t.process:null,t.remove=e.remove||null,delete t.headers,t},Zm=(e,t,n,a,r)=>{if(t===null)return null;if(typeof t=="function")return t;const s={url:n==="GET"||n==="PATCH"?`?${e}=`:"",method:n,headers:r,withCredentials:!1,timeout:a,onload:null,ondata:null,onerror:null};if(yt(t))return s.url=t,s;if(Object.assign(s,t),yt(s.headers)){const l=s.headers.split(/:(.+)/);s.headers={header:l[0],value:l[1]}}return s.withCredentials=Xl(s.withCredentials),s},Qm=e=>Xm(e),Jm=e=>e===null,ot=e=>typeof e=="object"&&e!==null,eg=e=>ot(e)&&yt(e.url)&&ot(e.process)&&ot(e.revert)&&ot(e.restore)&&ot(e.fetch),Ci=e=>ja(e)?"array":Jm(e)?"null":xr(e)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(e)?"bytes":eg(e)?"api":typeof e,tg=e=>e.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'),ng={array:zm,boolean:Xl,int:e=>Ci(e)==="bytes"?Ts(e):Aa(e),number:Is,float:Is,bytes:Ts,string:e=>Xn(e)?e:qa(e),function:e=>Km(e),serverapi:Qm,object:e=>{try{return JSON.parse(tg(e))}catch{return null}}},rg=(e,t)=>ng[t](e),Ql=(e,t,n)=>{if(e===t)return e;let a=Ci(e);if(a!==n){const r=rg(e,n);if(a=Ci(r),r===null)throw`Trying to assign value with incorrect type to "${option}", allowed type: "${n}"`;e=r}return e},ag=(e,t)=>{let n=e;return{enumerable:!0,get:()=>n,set:a=>{n=Ql(a,e,t)}}},ig=e=>{const t={};return He(e,n=>{const a=e[n];t[n]=ag(a[0],a[1])}),Gn(t)},og=e=>({items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:ig(e)}),za=(e,t="-")=>e.split(/(?=[A-Z])/).map(n=>n.toLowerCase()).join(t),sg=(e,t)=>{const n={};return He(t,a=>{n[a]={get:()=>e.getState().options[a],set:r=>{e.dispatch(`SET_${za(a,"_").toUpperCase()}`,{value:r})}}}),n},lg=e=>(t,n,a)=>{const r={};return He(e,s=>{const l=za(s,"_").toUpperCase();r[`SET_${l}`]=u=>{try{a.options[s]=u.value}catch{}t(`DID_SET_${l}`,{value:a.options[s]})}}),r},cg=e=>t=>{const n={};return He(e,a=>{n[`GET_${za(a,"_").toUpperCase()}`]=r=>t.options[a]}),n},Ht={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},Ji=()=>Math.random().toString(36).substring(2,11),eo=(e,t)=>e.splice(t,1),ug=(e,t)=>{t?e():document.hidden?Promise.resolve(1).then(e):setTimeout(e,0)},Ka=()=>{const e=[],t=(a,r)=>{eo(e,e.findIndex(s=>s.event===a&&(s.cb===r||!r)))},n=(a,r,s)=>{e.filter(l=>l.event===a).map(l=>l.cb).forEach(l=>ug(()=>l(...r),s))};return{fireSync:(a,...r)=>{n(a,r,!0)},fire:(a,...r)=>{n(a,r,!1)},on:(a,r)=>{e.push({event:a,cb:r})},onOnce:(a,r)=>{e.push({event:a,cb:(...s)=>{t(a,r),r(...s)}})},off:t}},Jl=(e,t,n)=>{Object.getOwnPropertyNames(e).filter(a=>!n.includes(a)).forEach(a=>Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a)))},dg=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],Ot=e=>{const t={};return Jl(e,t,dg),t},pg=e=>{e.forEach((t,n)=>{t.released&&eo(e,n)})},he={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},it={INPUT:1,LIMBO:2,LOCAL:3},ec=e=>/[^0-9]+/.exec(e),tc=()=>ec(1.1.toLocaleString())[0],fg=()=>{const e=tc(),t=1e3.toLocaleString(),n=1e3.toString();return t!==n?ec(t)[0]:e==="."?",":"."},Y={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},to=[],en=(e,t,n)=>new Promise((a,r)=>{const s=to.filter(u=>u.key===e).map(u=>u.cb);if(s.length===0){a(t);return}const l=s.shift();s.reduce((u,c)=>u.then(m=>c(m,n)),l(t,n)).then(u=>a(u)).catch(u=>r(u))}),ir=(e,t,n)=>to.filter(a=>a.key===e).map(a=>a.cb(t,n)),mg=(e,t)=>to.push({key:e,cb:t}),gg=e=>Object.assign(br,e),$a=()=>({...br}),hg=e=>{He(e,(t,n)=>{br[t]&&(br[t][0]=Ql(n,br[t][0],br[t][1]))})},br={id:[null,Y.STRING],name:["filepond",Y.STRING],disabled:[!1,Y.BOOLEAN],className:[null,Y.STRING],required:[!1,Y.BOOLEAN],captureMethod:[null,Y.STRING],allowSyncAcceptAttribute:[!0,Y.BOOLEAN],allowDrop:[!0,Y.BOOLEAN],allowBrowse:[!0,Y.BOOLEAN],allowPaste:[!0,Y.BOOLEAN],allowMultiple:[!1,Y.BOOLEAN],allowReplace:[!0,Y.BOOLEAN],allowRevert:[!0,Y.BOOLEAN],allowRemove:[!0,Y.BOOLEAN],allowProcess:[!0,Y.BOOLEAN],allowReorder:[!1,Y.BOOLEAN],allowDirectoriesOnly:[!1,Y.BOOLEAN],storeAsFile:[!1,Y.BOOLEAN],forceRevert:[!1,Y.BOOLEAN],maxFiles:[null,Y.INT],checkValidity:[!1,Y.BOOLEAN],itemInsertLocationFreedom:[!0,Y.BOOLEAN],itemInsertLocation:["before",Y.STRING],itemInsertInterval:[75,Y.INT],dropOnPage:[!1,Y.BOOLEAN],dropOnElement:[!0,Y.BOOLEAN],dropValidation:[!1,Y.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],Y.ARRAY],instantUpload:[!0,Y.BOOLEAN],maxParallelUploads:[2,Y.INT],allowMinimumUploadDuration:[!0,Y.BOOLEAN],chunkUploads:[!1,Y.BOOLEAN],chunkForce:[!1,Y.BOOLEAN],chunkSize:[5e6,Y.INT],chunkRetryDelays:[[500,1e3,3e3],Y.ARRAY],server:[null,Y.SERVER_API],fileSizeBase:[1e3,Y.INT],labelFileSizeBytes:["bytes",Y.STRING],labelFileSizeKilobytes:["KB",Y.STRING],labelFileSizeMegabytes:["MB",Y.STRING],labelFileSizeGigabytes:["GB",Y.STRING],labelDecimalSeparator:[tc(),Y.STRING],labelThousandsSeparator:[fg(),Y.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',Y.STRING],labelInvalidField:["Field contains invalid files",Y.STRING],labelFileWaitingForSize:["Waiting for size",Y.STRING],labelFileSizeNotAvailable:["Size not available",Y.STRING],labelFileCountSingular:["file in list",Y.STRING],labelFileCountPlural:["files in list",Y.STRING],labelFileLoading:["Loading",Y.STRING],labelFileAdded:["Added",Y.STRING],labelFileLoadError:["Error during load",Y.STRING],labelFileRemoved:["Removed",Y.STRING],labelFileRemoveError:["Error during remove",Y.STRING],labelFileProcessing:["Uploading",Y.STRING],labelFileProcessingComplete:["Upload complete",Y.STRING],labelFileProcessingAborted:["Upload cancelled",Y.STRING],labelFileProcessingError:["Error during upload",Y.STRING],labelFileProcessingRevertError:["Error during revert",Y.STRING],labelTapToCancel:["tap to cancel",Y.STRING],labelTapToRetry:["tap to retry",Y.STRING],labelTapToUndo:["tap to undo",Y.STRING],labelButtonRemoveItem:["Remove",Y.STRING],labelButtonAbortItemLoad:["Abort",Y.STRING],labelButtonRetryItemLoad:["Retry",Y.STRING],labelButtonAbortItemProcessing:["Cancel",Y.STRING],labelButtonUndoItemProcessing:["Undo",Y.STRING],labelButtonRetryItemProcessing:["Retry",Y.STRING],labelButtonProcessItem:["Upload",Y.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',Y.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',Y.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',Y.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',Y.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',Y.STRING],oninit:[null,Y.FUNCTION],onwarning:[null,Y.FUNCTION],onerror:[null,Y.FUNCTION],onactivatefile:[null,Y.FUNCTION],oninitfile:[null,Y.FUNCTION],onaddfilestart:[null,Y.FUNCTION],onaddfileprogress:[null,Y.FUNCTION],onaddfile:[null,Y.FUNCTION],onprocessfilestart:[null,Y.FUNCTION],onprocessfileprogress:[null,Y.FUNCTION],onprocessfileabort:[null,Y.FUNCTION],onprocessfilerevert:[null,Y.FUNCTION],onprocessfile:[null,Y.FUNCTION],onprocessfiles:[null,Y.FUNCTION],onremovefile:[null,Y.FUNCTION],onpreparefile:[null,Y.FUNCTION],onupdatefiles:[null,Y.FUNCTION],onreorderfiles:[null,Y.FUNCTION],beforeDropFile:[null,Y.FUNCTION],beforeAddFile:[null,Y.FUNCTION],beforeRemoveFile:[null,Y.FUNCTION],beforePrepareFile:[null,Y.FUNCTION],stylePanelLayout:[null,Y.STRING],stylePanelAspectRatio:[null,Y.STRING],styleItemPanelAspectRatio:[null,Y.STRING],styleButtonRemoveItemPosition:["left",Y.STRING],styleButtonProcessItemPosition:["right",Y.STRING],styleLoadIndicatorPosition:["right",Y.STRING],styleProgressIndicatorPosition:["right",Y.STRING],styleButtonRemoveItemAlign:[!1,Y.BOOLEAN],files:[[],Y.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],Y.ARRAY]},Zn=(e,t)=>_n(t)?e[0]||null:xr(t)?e[t]||null:(typeof t=="object"&&(t=t.id),e.find(n=>n.id===t)||null),nc=e=>{if(_n(e))return e;if(/:/.test(e)){const t=e.split(":");return t[1]/t[0]}return parseFloat(e)},tn=e=>e.filter(t=>!t.archived),vg={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4};let Ta=null;const Eg=()=>{if(Ta===null)try{const e=new DataTransfer;e.items.add(new File(["hello world"],"This_Works.txt"));const t=document.createElement("input");t.setAttribute("type","file"),t.files=e.files,Ta=t.files.length===1}catch{Ta=!1}return Ta},bg=[he.LOAD_ERROR,he.PROCESSING_ERROR,he.PROCESSING_REVERT_ERROR],yg=[he.LOADING,he.PROCESSING,he.PROCESSING_QUEUED,he.INIT],Ig=[he.PROCESSING_COMPLETE],Tg=e=>bg.includes(e.status),_g=e=>yg.includes(e.status),Dg=e=>Ig.includes(e.status),Ds=e=>ot(e.options.server)&&(ot(e.options.server.process)||Xn(e.options.server.process)),wg=e=>({GET_STATUS:()=>{const t=tn(e.items),{EMPTY:n,ERROR:a,BUSY:r,IDLE:s,READY:l}=vg;return t.length===0?n:t.some(Tg)?a:t.some(_g)?r:t.some(Dg)?l:s},GET_ITEM:t=>Zn(e.items,t),GET_ACTIVE_ITEM:t=>Zn(tn(e.items),t),GET_ACTIVE_ITEMS:()=>tn(e.items),GET_ITEMS:()=>e.items,GET_ITEM_NAME:t=>{const n=Zn(e.items,t);return n?n.filename:null},GET_ITEM_SIZE:t=>{const n=Zn(e.items,t);return n?n.fileSize:null},GET_STYLES:()=>Object.keys(e.options).filter(t=>/^style/.test(t)).map(t=>({name:t,value:e.options[t]})),GET_PANEL_ASPECT_RATIO:()=>/circle/.test(e.options.stylePanelLayout)?1:nc(e.options.stylePanelAspectRatio),GET_ITEM_PANEL_ASPECT_RATIO:()=>e.options.styleItemPanelAspectRatio,GET_ITEMS_BY_STATUS:t=>tn(e.items).filter(n=>n.status===t),GET_TOTAL_ITEMS:()=>tn(e.items).length,SHOULD_UPDATE_FILE_INPUT:()=>e.options.storeAsFile&&Eg()&&!Ds(e),IS_ASYNC:()=>Ds(e),GET_FILE_SIZE_LABELS:t=>({labelBytes:t("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:t("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:t("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:t("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0})}),Og=e=>{const t=tn(e.items).length;if(!e.options.allowMultiple)return t===0;const n=e.options.maxFiles;return n===null||t<n},rc=(e,t,n)=>Math.max(Math.min(n,e),t),Sg=(e,t,n)=>e.splice(t,0,n),Rg=(e,t,n)=>_n(t)?null:typeof n>"u"?(e.push(t),t):(n=rc(n,0,e.length),Sg(e,n,t),t),Ai=e=>/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(e),ia=e=>`${e}`.split("/").pop().split("?").shift(),Xa=e=>e.split(".").pop(),Pg=e=>{if(typeof e!="string")return"";const t=e.split("/").pop();return/svg/.test(t)?"svg":/zip|compressed/.test(t)?"zip":/plain/.test(t)?"txt":/msword/.test(t)?"doc":/[a-z]+/.test(t)?t==="jpeg"?"jpg":t:""},Vr=(e,t="")=>(t+e).slice(-t.length),ac=(e=new Date)=>`${e.getFullYear()}-${Vr(e.getMonth()+1,"00")}-${Vr(e.getDate(),"00")}_${Vr(e.getHours(),"00")}-${Vr(e.getMinutes(),"00")}-${Vr(e.getSeconds(),"00")}`,Rr=(e,t,n=null,a=null)=>{const r=typeof n=="string"?e.slice(0,e.size,n):e.slice(0,e.size,e.type);return r.lastModifiedDate=new Date,e._relativePath&&(r._relativePath=e._relativePath),yt(t)||(t=ac()),t&&a===null&&Xa(t)?r.name=t:(a=a||Pg(r.type),r.name=t+(a?"."+a:"")),r},Mg=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,ic=(e,t)=>{const n=Mg();if(n){const a=new n;return a.append(e),a.getBlob(t)}return new Blob([e],{type:t})},Cg=(e,t)=>{const n=new ArrayBuffer(e.length),a=new Uint8Array(n);for(let r=0;r<e.length;r++)a[r]=e.charCodeAt(r);return ic(n,t)},oc=e=>(/^data:(.+);/.exec(e)||[])[1]||null,Ag=e=>e.split(",")[1].replace(/\s/g,""),xg=e=>atob(Ag(e)),Lg=e=>{const t=oc(e),n=xg(e);return Cg(n,t)},Ng=(e,t,n)=>Rr(Lg(e),t,null,n),kg=e=>{if(!/^content-disposition:/i.test(e))return null;const t=e.split(/filename=|filename\*=.+''/).splice(1).map(n=>n.trim().replace(/^["']|[;"']{0,2}$/g,"")).filter(n=>n.length);return t.length?decodeURI(t[t.length-1]):null},Bg=e=>{if(/content-length:/i.test(e)){const t=e.match(/[0-9]+/)[0];return t?parseInt(t,10):null}return null},Fg=e=>/x-content-transfer-id:/i.test(e)&&(e.split(":")[1]||"").trim()||null,no=e=>{const t={source:null,name:null,size:null},n=e.split(`
`);for(let a of n){const r=kg(a);if(r){t.name=r;continue}const s=Bg(a);if(s){t.size=s;continue}const l=Fg(a);if(l){t.source=l;continue}}return t},Gg=e=>{const t={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},n=()=>t.progress,a=()=>{t.request&&t.request.abort&&t.request.abort()},r=()=>{const u=t.source;l.fire("init",u),u instanceof File?l.fire("load",u):u instanceof Blob?l.fire("load",Rr(u,u.name)):Ai(u)?l.fire("load",Ng(u)):s(u)},s=u=>{if(!e){l.fire("error",{type:"error",body:"Can't load URL",code:400});return}t.timestamp=Date.now(),t.request=e(u,c=>{t.duration=Date.now()-t.timestamp,t.complete=!0,c instanceof Blob&&(c=Rr(c,c.name||ia(u))),l.fire("load",c instanceof Blob?c:c?c.body:null)},c=>{l.fire("error",typeof c=="string"?{type:"error",code:0,body:c}:c)},(c,m,f)=>{if(f&&(t.size=f),t.duration=Date.now()-t.timestamp,!c){t.progress=null;return}t.progress=m/f,l.fire("progress",t.progress)},()=>{l.fire("abort")},c=>{const m=no(typeof c=="string"?c:c.headers);l.fire("meta",{size:t.size||m.size,filename:m.name,source:m.source})})},l={...Ka(),setSource:u=>t.source=u,getProgress:n,abort:a,load:r};return l},ws=e=>/GET|HEAD/.test(e),Jn=(e,t,n)=>{const a={onheaders:()=>{},onprogress:()=>{},onload:()=>{},ontimeout:()=>{},onerror:()=>{},onabort:()=>{},abort:()=>{r=!0,l.abort()}};let r=!1,s=!1;n={method:"POST",headers:{},withCredentials:!1,...n},t=encodeURI(t),ws(n.method)&&e&&(t=`${t}${encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))}`);const l=new XMLHttpRequest,u=ws(n.method)?l:l.upload;return u.onprogress=c=>{r||a.onprogress(c.lengthComputable,c.loaded,c.total)},l.onreadystatechange=()=>{l.readyState<2||l.readyState===4&&l.status===0||s||(s=!0,a.onheaders(l))},l.onload=()=>{l.status>=200&&l.status<300?a.onload(l):a.onerror(l)},l.onerror=()=>a.onerror(l),l.onabort=()=>{r=!0,a.onabort()},l.ontimeout=()=>a.ontimeout(l),l.open(n.method,t,!0),xr(n.timeout)&&(l.timeout=n.timeout),Object.keys(n.headers).forEach(c=>{const m=unescape(encodeURIComponent(n.headers[c]));l.setRequestHeader(c,m)}),n.responseType&&(l.responseType=n.responseType),n.withCredentials&&(l.withCredentials=!0),l.send(e),a},je=(e,t,n,a)=>({type:e,code:t,body:n,headers:a}),er=e=>t=>{e(je("error",0,"Timeout",t.getAllResponseHeaders()))},Os=e=>/\?/.test(e),Kr=(...e)=>{let t="";return e.forEach(n=>{t+=Os(t)&&Os(n)?n.replace(/\?/,"&"):n}),t},di=(e="",t)=>{if(typeof t=="function")return t;if(!t||!yt(t.url))return null;const n=t.onload||(r=>r),a=t.onerror||(r=>null);return(r,s,l,u,c,m)=>{const f=Jn(r,Kr(e,t.url),{...t,responseType:"blob"});return f.onload=g=>{const _=g.getAllResponseHeaders(),I=no(_).name||ia(r);s(je("load",g.status,t.method==="HEAD"?null:Rr(n(g.response),I),_))},f.onerror=g=>{l(je("error",g.status,a(g.response)||g.statusText,g.getAllResponseHeaders()))},f.onheaders=g=>{m(je("headers",g.status,null,g.getAllResponseHeaders()))},f.ontimeout=er(l),f.onprogress=u,f.onabort=c,f}},Gt={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},$g=(e,t,n,a,r,s,l,u,c,m,f)=>{const g=[],{chunkTransferId:_,chunkServer:I,chunkSize:E,chunkRetryDelays:w}=f,S={serverId:_,aborted:!1},C=t.ondata||(k=>k),v=t.onload||((k,ne)=>ne==="HEAD"?k.getResponseHeader("Upload-Offset"):k.response),T=t.onerror||(k=>null),R=k=>{const ne=new FormData;ot(r)&&ne.append(n,JSON.stringify(r));const x=typeof t.headers=="function"?t.headers(a,r):{...t.headers,"Upload-Length":a.size},U={...t,headers:x},j=Jn(C(ne),Kr(e,t.url),U);j.onload=q=>k(v(q,U.method)),j.onerror=q=>l(je("error",q.status,T(q.response)||q.statusText,q.getAllResponseHeaders())),j.ontimeout=er(l)},A=k=>{const ne=Kr(e,I.url,S.serverId),U={headers:typeof t.headers=="function"?t.headers(S.serverId):{...t.headers},method:"HEAD"},j=Jn(null,ne,U);j.onload=q=>k(v(q,U.method)),j.onerror=q=>l(je("error",q.status,T(q.response)||q.statusText,q.getAllResponseHeaders())),j.ontimeout=er(l)},G=Math.floor(a.size/E);for(let k=0;k<=G;k++){const ne=k*E,x=a.slice(ne,ne+E,"application/offset+octet-stream");g[k]={index:k,size:x.size,offset:ne,data:x,file:a,progress:0,retries:[...w],status:Gt.QUEUED,error:null,request:null,timeout:null}}const B=()=>s(S.serverId),b=k=>k.status===Gt.QUEUED||k.status===Gt.ERROR,y=k=>{if(S.aborted)return;if(k=k||g.find(b),!k){g.every(ie=>ie.status===Gt.COMPLETE)&&B();return}k.status=Gt.PROCESSING,k.progress=null;const ne=I.ondata||(ie=>ie),x=I.onerror||(ie=>null),U=Kr(e,I.url,S.serverId),j=typeof I.headers=="function"?I.headers(k):{...I.headers,"Content-Type":"application/offset+octet-stream","Upload-Offset":k.offset,"Upload-Length":a.size,"Upload-Name":a.name},q=k.request=Jn(ne(k.data),U,{...I,headers:j});q.onload=()=>{k.status=Gt.COMPLETE,k.request=null,P()},q.onprogress=(ie,de,ke)=>{k.progress=ie?de:null,V()},q.onerror=ie=>{k.status=Gt.ERROR,k.request=null,k.error=x(ie.response)||ie.statusText,W(k)||l(je("error",ie.status,x(ie.response)||ie.statusText,ie.getAllResponseHeaders()))},q.ontimeout=ie=>{k.status=Gt.ERROR,k.request=null,W(k)||er(l)(ie)},q.onabort=()=>{k.status=Gt.QUEUED,k.request=null,c()}},W=k=>k.retries.length===0?!1:(k.status=Gt.WAITING,clearTimeout(k.timeout),k.timeout=setTimeout(()=>{y(k)},k.retries.shift()),!0),V=()=>{const k=g.reduce((x,U)=>x===null||U.progress===null?null:x+U.progress,0);if(k===null)return u(!1,0,0);const ne=g.reduce((x,U)=>x+U.size,0);u(!0,k,ne)},P=()=>{g.filter(ne=>ne.status===Gt.PROCESSING).length>=1||y()},z=()=>{g.forEach(k=>{clearTimeout(k.timeout),k.request&&k.request.abort()})};return S.serverId?A(k=>{S.aborted||(g.filter(ne=>ne.offset<k).forEach(ne=>{ne.status=Gt.COMPLETE,ne.progress=ne.size}),P())}):R(k=>{S.aborted||(m(k),S.serverId=k,P())}),{abort:()=>{S.aborted=!0,z()}}},Ug=(e,t,n,a)=>(r,s,l,u,c,m,f)=>{if(!r)return;const g=a.chunkUploads,_=g&&r.size>a.chunkSize,I=g&&(_||a.chunkForce);if(r instanceof Blob&&I)return $g(e,t,n,r,s,l,u,c,m,f,a);const E=t.ondata||(A=>A),w=t.onload||(A=>A),S=t.onerror||(A=>null),C=typeof t.headers=="function"?t.headers(r,s)||{}:{...t.headers},v={...t,headers:C};var T=new FormData;ot(s)&&T.append(n,JSON.stringify(s)),(r instanceof Blob?[{name:null,file:r}]:r).forEach(A=>{T.append(n,A.file,A.name===null?A.file.name:`${A.name}${A.file.name}`)});const R=Jn(E(T),Kr(e,t.url),v);return R.onload=A=>{l(je("load",A.status,w(A.response),A.getAllResponseHeaders()))},R.onerror=A=>{u(je("error",A.status,S(A.response)||A.statusText,A.getAllResponseHeaders()))},R.ontimeout=er(u),R.onprogress=c,R.onabort=m,R},Vg=(e="",t,n,a)=>typeof t=="function"?(...r)=>t(n,...r,a):!t||!yt(t.url)?null:Ug(e,t,n,a),Hr=(e="",t)=>{if(typeof t=="function")return t;if(!t||!yt(t.url))return(r,s)=>s();const n=t.onload||(r=>r),a=t.onerror||(r=>null);return(r,s,l)=>{const u=Jn(r,e+t.url,t);return u.onload=c=>{s(je("load",c.status,n(c.response),c.getAllResponseHeaders()))},u.onerror=c=>{l(je("error",c.status,a(c.response)||c.statusText,c.getAllResponseHeaders()))},u.ontimeout=er(l),u}},sc=(e=0,t=1)=>e+Math.random()*(t-e),Hg=(e,t=1e3,n=0,a=25,r=250)=>{let s=null;const l=Date.now(),u=()=>{let c=Date.now()-l,m=sc(a,r);c+m>t&&(m=c+m-t);let f=c/t;if(f>=1||document.hidden){e(1);return}e(f),s=setTimeout(u,m)};return t>0&&u(),{clear:()=>{clearTimeout(s)}}},Yg=(e,t)=>{const n={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},{allowMinimumUploadDuration:a}=t,r=(f,g)=>{const _=()=>{n.duration===0||n.progress===null||m.fire("progress",m.getProgress())},I=()=>{n.complete=!0,m.fire("load-perceived",n.response.body)};m.fire("start"),n.timestamp=Date.now(),n.perceivedPerformanceUpdater=Hg(E=>{n.perceivedProgress=E,n.perceivedDuration=Date.now()-n.timestamp,_(),n.response&&n.perceivedProgress===1&&!n.complete&&I()},a?sc(750,1500):0),n.request=e(f,g,E=>{n.response=ot(E)?E:{type:"load",code:200,body:`${E}`,headers:{}},n.duration=Date.now()-n.timestamp,n.progress=1,m.fire("load",n.response.body),(!a||a&&n.perceivedProgress===1)&&I()},E=>{n.perceivedPerformanceUpdater.clear(),m.fire("error",ot(E)?E:{type:"error",code:0,body:`${E}`})},(E,w,S)=>{n.duration=Date.now()-n.timestamp,n.progress=E?w/S:null,_()},()=>{n.perceivedPerformanceUpdater.clear(),m.fire("abort",n.response?n.response.body:null)},E=>{m.fire("transfer",E)})},s=()=>{n.request&&(n.perceivedPerformanceUpdater.clear(),n.request.abort&&n.request.abort(),n.complete=!0)},l=()=>{s(),n.complete=!1,n.perceivedProgress=0,n.progress=0,n.timestamp=null,n.perceivedDuration=0,n.duration=0,n.request=null,n.response=null},u=a?()=>n.progress?Math.min(n.progress,n.perceivedProgress):null:()=>n.progress||null,c=a?()=>Math.min(n.duration,n.perceivedDuration):()=>n.duration,m={...Ka(),process:r,abort:s,getProgress:u,getDuration:c,reset:l};return m},lc=e=>e.substring(0,e.lastIndexOf("."))||e,Wg=e=>{let t=[e.name,e.size,e.type];return e instanceof Blob||Ai(e)?t[0]=e.name||ac():Ai(e)?(t[1]=e.length,t[2]=oc(e)):yt(e)&&(t[0]=ia(e),t[1]=0,t[2]="application/octet-stream"),{name:t[0],size:t[1],type:t[2]}},tr=e=>!!(e instanceof File||e instanceof Blob&&e.name),cc=e=>{if(!ot(e))return e;const t=ja(e)?[]:{};for(const n in e){if(!e.hasOwnProperty(n))continue;const a=e[n];t[n]=a&&ot(a)?cc(a):a}return t},jg=(e=null,t=null,n=null)=>{const a=Ji(),r={archived:!1,frozen:!1,released:!1,source:null,file:n,serverFileReference:t,transferId:null,processingAborted:!1,status:t?he.PROCESSING_COMPLETE:he.INIT,activeLoader:null,activeProcessor:null};let s=null;const l={},u=b=>r.status=b,c=(b,...y)=>{r.released||r.frozen||G.fire(b,...y)},m=()=>Xa(r.file.name),f=()=>r.file.type,g=()=>r.file.size,_=()=>r.file,I=(b,y,W)=>{if(r.source=b,G.fireSync("init"),r.file){G.fireSync("load-skip");return}r.file=Wg(b),y.on("init",()=>{c("load-init")}),y.on("meta",V=>{r.file.size=V.size,r.file.filename=V.filename,V.source&&(e=it.LIMBO,r.serverFileReference=V.source,r.status=he.PROCESSING_COMPLETE),c("load-meta")}),y.on("progress",V=>{u(he.LOADING),c("load-progress",V)}),y.on("error",V=>{u(he.LOAD_ERROR),c("load-request-error",V)}),y.on("abort",()=>{u(he.INIT),c("load-abort")}),y.on("load",V=>{r.activeLoader=null;const P=k=>{r.file=tr(k)?k:r.file,e===it.LIMBO&&r.serverFileReference?u(he.PROCESSING_COMPLETE):u(he.IDLE),c("load")},z=k=>{r.file=V,c("load-meta"),u(he.LOAD_ERROR),c("load-file-error",k)};if(r.serverFileReference){P(V);return}W(V,P,z)}),y.setSource(b),r.activeLoader=y,y.load()},E=()=>{r.activeLoader&&r.activeLoader.load()},w=()=>{if(r.activeLoader){r.activeLoader.abort();return}u(he.INIT),c("load-abort")},S=(b,y)=>{if(r.processingAborted){r.processingAborted=!1;return}if(u(he.PROCESSING),s=null,!(r.file instanceof Blob)){G.on("load",()=>{S(b,y)});return}b.on("load",P=>{r.transferId=null,r.serverFileReference=P}),b.on("transfer",P=>{r.transferId=P}),b.on("load-perceived",P=>{r.activeProcessor=null,r.transferId=null,r.serverFileReference=P,u(he.PROCESSING_COMPLETE),c("process-complete",P)}),b.on("start",()=>{c("process-start")}),b.on("error",P=>{r.activeProcessor=null,u(he.PROCESSING_ERROR),c("process-error",P)}),b.on("abort",P=>{r.activeProcessor=null,r.serverFileReference=P,u(he.IDLE),c("process-abort"),s&&s()}),b.on("progress",P=>{c("process-progress",P)});const W=P=>{r.archived||b.process(P,{...l})},V=console.error;y(r.file,W,V),r.activeProcessor=b},C=()=>{r.processingAborted=!1,u(he.PROCESSING_QUEUED)},v=()=>new Promise(b=>{if(!r.activeProcessor){r.processingAborted=!0,u(he.IDLE),c("process-abort"),b();return}s=()=>{b()},r.activeProcessor.abort()}),T=(b,y)=>new Promise((W,V)=>{const P=r.serverFileReference!==null?r.serverFileReference:r.transferId;if(P===null){W();return}b(P,()=>{r.serverFileReference=null,r.transferId=null,W()},z=>{if(!y){W();return}u(he.PROCESSING_REVERT_ERROR),c("process-revert-error"),V(z)}),u(he.IDLE),c("process-revert")}),R=(b,y,W)=>{const V=b.split("."),P=V[0],z=V.pop();let k=l;V.forEach(ne=>k=k[ne]),JSON.stringify(k[z])!==JSON.stringify(y)&&(k[z]=y,c("metadata-update",{key:P,value:l[P],silent:W}))},G={id:{get:()=>a},origin:{get:()=>e,set:b=>e=b},serverId:{get:()=>r.serverFileReference},transferId:{get:()=>r.transferId},status:{get:()=>r.status},filename:{get:()=>r.file.name},filenameWithoutExtension:{get:()=>lc(r.file.name)},fileExtension:{get:m},fileType:{get:f},fileSize:{get:g},file:{get:_},relativePath:{get:()=>r.file._relativePath},source:{get:()=>r.source},getMetadata:b=>cc(b?l[b]:l),setMetadata:(b,y,W)=>{if(ot(b)){const V=b;return Object.keys(V).forEach(P=>{R(P,V[P],y)}),b}return R(b,y,W),y},extend:(b,y)=>B[b]=y,abortLoad:w,retryLoad:E,requestProcessing:C,abortProcessing:v,load:I,process:S,revert:T,...Ka(),freeze:()=>r.frozen=!0,release:()=>r.released=!0,released:{get:()=>r.released},archive:()=>r.archived=!0,archived:{get:()=>r.archived},setFile:b=>r.file=b},B=Gn(G);return B},qg=(e,t)=>_n(t)?0:yt(t)?e.findIndex(n=>n.id===t):-1,Ss=(e,t)=>{const n=qg(e,t);if(!(n<0))return e[n]||null},Rs=(e,t,n,a,r,s)=>{const l=Jn(null,e,{method:"GET",responseType:"blob"});return l.onload=u=>{const c=u.getAllResponseHeaders(),m=no(c).name||ia(e);t(je("load",u.status,Rr(u.response,m),c))},l.onerror=u=>{n(je("error",u.status,u.statusText,u.getAllResponseHeaders()))},l.onheaders=u=>{s(je("headers",u.status,null,u.getAllResponseHeaders()))},l.ontimeout=er(n),l.onprogress=a,l.onabort=r,l},Ps=e=>(e.indexOf("//")===0&&(e=location.protocol+e),e.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]),zg=e=>(e.indexOf(":")>-1||e.indexOf("//")>-1)&&Ps(location.href)!==Ps(e),_a=e=>(...t)=>Xn(e)?e(...t):e,Kg=e=>!tr(e.file),pi=(e,t)=>{clearTimeout(t.listUpdateTimeout),t.listUpdateTimeout=setTimeout(()=>{e("DID_UPDATE_ITEMS",{items:tn(t.items)})},0)},Ms=(e,...t)=>new Promise(n=>{if(!e)return n(!0);const a=e(...t);if(a==null)return n(!0);if(typeof a=="boolean")return n(a);typeof a.then=="function"&&a.then(n)}),fi=(e,t)=>{e.items.sort((n,a)=>t(Ot(n),Ot(a)))},$t=(e,t)=>({query:n,success:a=()=>{},failure:r=()=>{},...s}={})=>{const l=Zn(e.items,n);if(!l){r({error:je("error",0,"Item not found"),file:null});return}t(l,a,r,s||{})},Xg=(e,t,n)=>({ABORT_ALL:()=>{tn(n.items).forEach(a=>{a.freeze(),a.abortLoad(),a.abortProcessing()})},DID_SET_FILES:({value:a=[]})=>{const r=a.map(l=>({source:l.source?l.source:l,options:l.options}));let s=tn(n.items);s.forEach(l=>{r.find(u=>u.source===l.source||u.source===l.file)||e("REMOVE_ITEM",{query:l,remove:!1})}),s=tn(n.items),r.forEach((l,u)=>{s.find(c=>c.source===l.source||c.file===l.source)||e("ADD_ITEM",{...l,interactionMethod:Ht.NONE,index:u})})},DID_UPDATE_ITEM_METADATA:({id:a,action:r,change:s})=>{s.silent||(clearTimeout(n.itemUpdateTimeout),n.itemUpdateTimeout=setTimeout(()=>{const l=Ss(n.items,a);if(!t("IS_ASYNC")){en("SHOULD_PREPARE_OUTPUT",!1,{item:l,query:t,action:r,change:s}).then(f=>{const g=t("GET_BEFORE_PREPARE_FILE");g&&(f=g(l,f)),f&&e("REQUEST_PREPARE_OUTPUT",{query:a,item:l,success:_=>{e("DID_PREPARE_OUTPUT",{id:a,file:_})}},!0)});return}l.origin===it.LOCAL&&e("DID_LOAD_ITEM",{id:l.id,error:null,serverFileReference:l.source});const u=()=>{setTimeout(()=>{e("REQUEST_ITEM_PROCESSING",{query:a})},32)},c=f=>{l.revert(Hr(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(f?u:()=>{}).catch(()=>{})},m=f=>{l.abortProcessing().then(f?u:()=>{})};if(l.status===he.PROCESSING_COMPLETE)return c(n.options.instantUpload);if(l.status===he.PROCESSING)return m(n.options.instantUpload);n.options.instantUpload&&u()},0))},MOVE_ITEM:({query:a,index:r})=>{const s=Zn(n.items,a);if(!s)return;const l=n.items.indexOf(s);r=rc(r,0,n.items.length-1),l!==r&&n.items.splice(r,0,n.items.splice(l,1)[0])},SORT:({compare:a})=>{fi(n,a),e("DID_SORT_ITEMS",{items:t("GET_ACTIVE_ITEMS")})},ADD_ITEMS:({items:a,index:r,interactionMethod:s,success:l=()=>{},failure:u=()=>{}})=>{let c=r;if(r===-1||typeof r>"u"){const I=t("GET_ITEM_INSERT_LOCATION"),E=t("GET_TOTAL_ITEMS");c=I==="before"?0:E}const m=t("GET_IGNORED_FILES"),f=I=>tr(I)?!m.includes(I.name.toLowerCase()):!_n(I),_=a.filter(f).map(I=>new Promise((E,w)=>{e("ADD_ITEM",{interactionMethod:s,source:I.source||I,success:E,failure:w,index:c++,options:I.options||{}})}));Promise.all(_).then(l).catch(u)},ADD_ITEM:({source:a,index:r=-1,interactionMethod:s,success:l=()=>{},failure:u=()=>{},options:c={}})=>{if(_n(a)){u({error:je("error",0,"No source"),file:null});return}if(tr(a)&&n.options.ignoredFiles.includes(a.name.toLowerCase()))return;if(!Og(n)){if(n.options.allowMultiple||!n.options.allowMultiple&&!n.options.allowReplace){const v=je("warning",0,"Max files");e("DID_THROW_MAX_FILES",{source:a,error:v}),u({error:v,file:null});return}const C=tn(n.items)[0];if(C.status===he.PROCESSING_COMPLETE||C.status===he.PROCESSING_REVERT_ERROR){const v=t("GET_FORCE_REVERT");if(C.revert(Hr(n.options.server.url,n.options.server.revert),v).then(()=>{v&&e("ADD_ITEM",{source:a,index:r,interactionMethod:s,success:l,failure:u,options:c})}).catch(()=>{}),v)return}e("REMOVE_ITEM",{query:C.id})}const m=c.type==="local"?it.LOCAL:c.type==="limbo"?it.LIMBO:it.INPUT,f=jg(m,m===it.INPUT?null:a,c.file);Object.keys(c.metadata||{}).forEach(C=>{f.setMetadata(C,c.metadata[C])}),ir("DID_CREATE_ITEM",f,{query:t,dispatch:e});const g=t("GET_ITEM_INSERT_LOCATION");n.options.itemInsertLocationFreedom||(r=g==="before"?-1:n.items.length),Rg(n.items,f,r),Xn(g)&&a&&fi(n,g);const _=f.id;f.on("init",()=>{e("DID_INIT_ITEM",{id:_})}),f.on("load-init",()=>{e("DID_START_ITEM_LOAD",{id:_})}),f.on("load-meta",()=>{e("DID_UPDATE_ITEM_META",{id:_})}),f.on("load-progress",C=>{e("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:_,progress:C})}),f.on("load-request-error",C=>{const v=_a(n.options.labelFileLoadError)(C);if(C.code>=400&&C.code<500){e("DID_THROW_ITEM_INVALID",{id:_,error:C,status:{main:v,sub:`${C.code} (${C.body})`}}),u({error:C,file:Ot(f)});return}e("DID_THROW_ITEM_LOAD_ERROR",{id:_,error:C,status:{main:v,sub:n.options.labelTapToRetry}})}),f.on("load-file-error",C=>{e("DID_THROW_ITEM_INVALID",{id:_,error:C.status,status:C.status}),u({error:C.status,file:Ot(f)})}),f.on("load-abort",()=>{e("REMOVE_ITEM",{query:_})}),f.on("load-skip",()=>{f.on("metadata-update",C=>{tr(f.file)&&e("DID_UPDATE_ITEM_METADATA",{id:_,change:C})}),e("COMPLETE_LOAD_ITEM",{query:_,item:f,data:{source:a,success:l}})}),f.on("load",()=>{const C=v=>{if(!v){e("REMOVE_ITEM",{query:_});return}f.on("metadata-update",T=>{e("DID_UPDATE_ITEM_METADATA",{id:_,change:T})}),en("SHOULD_PREPARE_OUTPUT",!1,{item:f,query:t}).then(T=>{const R=t("GET_BEFORE_PREPARE_FILE");R&&(T=R(f,T));const A=()=>{e("COMPLETE_LOAD_ITEM",{query:_,item:f,data:{source:a,success:l}}),pi(e,n)};if(T){e("REQUEST_PREPARE_OUTPUT",{query:_,item:f,success:G=>{e("DID_PREPARE_OUTPUT",{id:_,file:G}),A()}},!0);return}A()})};en("DID_LOAD_ITEM",f,{query:t,dispatch:e}).then(()=>{Ms(t("GET_BEFORE_ADD_FILE"),Ot(f)).then(C)}).catch(v=>{if(!v||!v.error||!v.status)return C(!1);e("DID_THROW_ITEM_INVALID",{id:_,error:v.error,status:v.status})})}),f.on("process-start",()=>{e("DID_START_ITEM_PROCESSING",{id:_})}),f.on("process-progress",C=>{e("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:_,progress:C})}),f.on("process-error",C=>{e("DID_THROW_ITEM_PROCESSING_ERROR",{id:_,error:C,status:{main:_a(n.options.labelFileProcessingError)(C),sub:n.options.labelTapToRetry}})}),f.on("process-revert-error",C=>{e("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:_,error:C,status:{main:_a(n.options.labelFileProcessingRevertError)(C),sub:n.options.labelTapToRetry}})}),f.on("process-complete",C=>{e("DID_COMPLETE_ITEM_PROCESSING",{id:_,error:null,serverFileReference:C}),e("DID_DEFINE_VALUE",{id:_,value:C})}),f.on("process-abort",()=>{e("DID_ABORT_ITEM_PROCESSING",{id:_})}),f.on("process-revert",()=>{e("DID_REVERT_ITEM_PROCESSING",{id:_}),e("DID_DEFINE_VALUE",{id:_,value:null})}),e("DID_ADD_ITEM",{id:_,index:r,interactionMethod:s}),pi(e,n);const{url:I,load:E,restore:w,fetch:S}=n.options.server||{};f.load(a,Gg(m===it.INPUT?yt(a)&&zg(a)&&S?di(I,S):Rs:m===it.LIMBO?di(I,w):di(I,E)),(C,v,T)=>{en("LOAD_FILE",C,{query:t}).then(v).catch(T)})},REQUEST_PREPARE_OUTPUT:({item:a,success:r,failure:s=()=>{}})=>{const l={error:je("error",0,"Item not found"),file:null};if(a.archived)return s(l);en("PREPARE_OUTPUT",a.file,{query:t,item:a}).then(u=>{en("COMPLETE_PREPARE_OUTPUT",u,{query:t,item:a}).then(c=>{if(a.archived)return s(l);r(c)})})},COMPLETE_LOAD_ITEM:({item:a,data:r})=>{const{success:s,source:l}=r,u=t("GET_ITEM_INSERT_LOCATION");if(Xn(u)&&l&&fi(n,u),e("DID_LOAD_ITEM",{id:a.id,error:null,serverFileReference:a.origin===it.INPUT?null:l}),s(Ot(a)),a.origin===it.LOCAL){e("DID_LOAD_LOCAL_ITEM",{id:a.id});return}if(a.origin===it.LIMBO){e("DID_COMPLETE_ITEM_PROCESSING",{id:a.id,error:null,serverFileReference:l}),e("DID_DEFINE_VALUE",{id:a.id,value:a.serverId||l});return}t("IS_ASYNC")&&n.options.instantUpload&&e("REQUEST_ITEM_PROCESSING",{query:a.id})},RETRY_ITEM_LOAD:$t(n,a=>{a.retryLoad()}),REQUEST_ITEM_PREPARE:$t(n,(a,r,s)=>{e("REQUEST_PREPARE_OUTPUT",{query:a.id,item:a,success:l=>{e("DID_PREPARE_OUTPUT",{id:a.id,file:l}),r({file:a,output:l})},failure:s},!0)}),REQUEST_ITEM_PROCESSING:$t(n,(a,r,s)=>{if(!(a.status===he.IDLE||a.status===he.PROCESSING_ERROR)){const u=()=>e("REQUEST_ITEM_PROCESSING",{query:a,success:r,failure:s}),c=()=>document.hidden?u():setTimeout(u,32);a.status===he.PROCESSING_COMPLETE||a.status===he.PROCESSING_REVERT_ERROR?a.revert(Hr(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(c).catch(()=>{}):a.status===he.PROCESSING&&a.abortProcessing().then(c);return}a.status!==he.PROCESSING_QUEUED&&(a.requestProcessing(),e("DID_REQUEST_ITEM_PROCESSING",{id:a.id}),e("PROCESS_ITEM",{query:a,success:r,failure:s},!0))}),PROCESS_ITEM:$t(n,(a,r,s)=>{const l=t("GET_MAX_PARALLEL_UPLOADS");if(t("GET_ITEMS_BY_STATUS",he.PROCESSING).length===l){n.processingQueue.push({id:a.id,success:r,failure:s});return}if(a.status===he.PROCESSING)return;const c=()=>{const f=n.processingQueue.shift();if(!f)return;const{id:g,success:_,failure:I}=f,E=Zn(n.items,g);if(!E||E.archived){c();return}e("PROCESS_ITEM",{query:g,success:_,failure:I},!0)};a.onOnce("process-complete",()=>{r(Ot(a)),c();const f=n.options.server;if(n.options.instantUpload&&a.origin===it.LOCAL&&Xn(f.remove)){const I=()=>{};a.origin=it.LIMBO,n.options.server.remove(a.source,I,I)}t("GET_ITEMS_BY_STATUS",he.PROCESSING_COMPLETE).length===n.items.length&&e("DID_COMPLETE_ITEM_PROCESSING_ALL")}),a.onOnce("process-error",f=>{s({error:f,file:Ot(a)}),c()});const m=n.options;a.process(Yg(Vg(m.server.url,m.server.process,m.name,{chunkTransferId:a.transferId,chunkServer:m.server.patch,chunkUploads:m.chunkUploads,chunkForce:m.chunkForce,chunkSize:m.chunkSize,chunkRetryDelays:m.chunkRetryDelays}),{allowMinimumUploadDuration:t("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(f,g,_)=>{en("PREPARE_OUTPUT",f,{query:t,item:a}).then(I=>{e("DID_PREPARE_OUTPUT",{id:a.id,file:I}),g(I)}).catch(_)})}),RETRY_ITEM_PROCESSING:$t(n,a=>{e("REQUEST_ITEM_PROCESSING",{query:a})}),REQUEST_REMOVE_ITEM:$t(n,a=>{Ms(t("GET_BEFORE_REMOVE_FILE"),Ot(a)).then(r=>{r&&e("REMOVE_ITEM",{query:a})})}),RELEASE_ITEM:$t(n,a=>{a.release()}),REMOVE_ITEM:$t(n,(a,r,s,l)=>{const u=()=>{const m=a.id;Ss(n.items,m).archive(),e("DID_REMOVE_ITEM",{error:null,id:m,item:a}),pi(e,n),r(Ot(a))},c=n.options.server;a.origin===it.LOCAL&&c&&Xn(c.remove)&&l.remove!==!1?(e("DID_START_ITEM_REMOVE",{id:a.id}),c.remove(a.source,()=>u(),m=>{e("DID_THROW_ITEM_REMOVE_ERROR",{id:a.id,error:je("error",0,m,null),status:{main:_a(n.options.labelFileRemoveError)(m),sub:n.options.labelTapToRetry}})})):((l.revert&&a.origin!==it.LOCAL&&a.serverId!==null||n.options.chunkUploads&&a.file.size>n.options.chunkSize||n.options.chunkUploads&&n.options.chunkForce)&&a.revert(Hr(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")),u())}),ABORT_ITEM_LOAD:$t(n,a=>{a.abortLoad()}),ABORT_ITEM_PROCESSING:$t(n,a=>{if(a.serverId){e("REVERT_ITEM_PROCESSING",{id:a.id});return}a.abortProcessing().then(()=>{n.options.instantUpload&&e("REMOVE_ITEM",{query:a.id})})}),REQUEST_REVERT_ITEM_PROCESSING:$t(n,a=>{if(!n.options.instantUpload){e("REVERT_ITEM_PROCESSING",{query:a});return}const r=u=>{u&&e("REVERT_ITEM_PROCESSING",{query:a})},s=t("GET_BEFORE_REMOVE_FILE");if(!s)return r(!0);const l=s(Ot(a));if(l==null)return r(!0);if(typeof l=="boolean")return r(l);typeof l.then=="function"&&l.then(r)}),REVERT_ITEM_PROCESSING:$t(n,a=>{a.revert(Hr(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(()=>{(n.options.instantUpload||Kg(a))&&e("REMOVE_ITEM",{query:a.id})}).catch(()=>{})}),SET_OPTIONS:({options:a})=>{const r=Object.keys(a),s=Zg.filter(u=>r.includes(u));[...s,...Object.keys(a).filter(u=>!s.includes(u))].forEach(u=>{e(`SET_${za(u,"_").toUpperCase()}`,{value:a[u]})})}}),Zg=["server"],ro=e=>e,Dn=e=>document.createElement(e),qe=(e,t)=>{let n=e.childNodes[0];n?t!==n.nodeValue&&(n.nodeValue=t):(n=document.createTextNode(t),e.appendChild(n))},Cs=(e,t,n,a)=>{const r=(a%360-90)*Math.PI/180;return{x:e+n*Math.cos(r),y:t+n*Math.sin(r)}},Qg=(e,t,n,a,r,s)=>{const l=Cs(e,t,n,r),u=Cs(e,t,n,a);return["M",l.x,l.y,"A",n,n,0,s,0,u.x,u.y].join(" ")},Jg=(e,t,n,a,r)=>{let s=1;return r>a&&r-a<=.5&&(s=0),a>r&&a-r>=.5&&(s=0),Qg(e,t,n,Math.min(.9999,a)*360,Math.min(.9999,r)*360,s)},eh=({root:e,props:t})=>{t.spin=!1,t.progress=0,t.opacity=0;const n=Ga("svg");e.ref.path=Ga("path",{"stroke-width":2,"stroke-linecap":"round"}),n.appendChild(e.ref.path),e.ref.svg=n,e.appendChild(n)},th=({root:e,props:t})=>{if(t.opacity===0)return;t.align&&(e.element.dataset.align=t.align);const n=parseInt(Xe(e.ref.path,"stroke-width"),10),a=e.rect.element.width*.5;let r=0,s=0;t.spin?(r=0,s=.5):(r=0,s=t.progress);const l=Jg(a,a,a-n,r,s);Xe(e.ref.path,"d",l),Xe(e.ref.path,"stroke-opacity",t.spin||t.progress>0?1:0)},As=Ze({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:eh,write:th,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),nh=({root:e,props:t})=>{e.element.innerHTML=(t.icon||"")+`<span>${t.label}</span>`,t.isDisabled=!1},rh=({root:e,props:t})=>{const{isDisabled:n}=t,a=e.query("GET_DISABLED")||t.opacity===0;a&&!n?(t.isDisabled=!0,Xe(e.element,"disabled","disabled")):!a&&n&&(t.isDisabled=!1,e.element.removeAttribute("disabled"))},uc=Ze({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:nh,write:rh}),dc=(e,t=".",n=1e3,a={})=>{const{labelBytes:r="bytes",labelKilobytes:s="KB",labelMegabytes:l="MB",labelGigabytes:u="GB"}=a;e=Math.round(Math.abs(e));const c=n,m=n*n,f=n*n*n;return e<c?`${e} ${r}`:e<m?`${Math.floor(e/c)} ${s}`:e<f?`${xs(e/m,1,t)} ${l}`:`${xs(e/f,2,t)} ${u}`},xs=(e,t,n)=>e.toFixed(t).split(".").filter(a=>a!=="0").join(n),ah=({root:e,props:t})=>{const n=Dn("span");n.className="filepond--file-info-main",Xe(n,"aria-hidden","true"),e.appendChild(n),e.ref.fileName=n;const a=Dn("span");a.className="filepond--file-info-sub",e.appendChild(a),e.ref.fileSize=a,qe(a,e.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),qe(n,ro(e.query("GET_ITEM_NAME",t.id)))},xi=({root:e,props:t})=>{qe(e.ref.fileSize,dc(e.query("GET_ITEM_SIZE",t.id),".",e.query("GET_FILE_SIZE_BASE"),e.query("GET_FILE_SIZE_LABELS",e.query))),qe(e.ref.fileName,ro(e.query("GET_ITEM_NAME",t.id)))},Ls=({root:e,props:t})=>{if(xr(e.query("GET_ITEM_SIZE",t.id))){xi({root:e,props:t});return}qe(e.ref.fileSize,e.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},ih=Ze({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:Tt({DID_LOAD_ITEM:xi,DID_UPDATE_ITEM_META:xi,DID_THROW_ITEM_LOAD_ERROR:Ls,DID_THROW_ITEM_INVALID:Ls}),didCreateView:e=>{ir("CREATE_VIEW",{...e,view:e})},create:ah,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),pc=e=>Math.round(e*100),oh=({root:e})=>{const t=Dn("span");t.className="filepond--file-status-main",e.appendChild(t),e.ref.main=t;const n=Dn("span");n.className="filepond--file-status-sub",e.appendChild(n),e.ref.sub=n,fc({root:e,action:{progress:null}})},fc=({root:e,action:t})=>{const n=t.progress===null?e.query("GET_LABEL_FILE_LOADING"):`${e.query("GET_LABEL_FILE_LOADING")} ${pc(t.progress)}%`;qe(e.ref.main,n),qe(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},sh=({root:e,action:t})=>{const n=t.progress===null?e.query("GET_LABEL_FILE_PROCESSING"):`${e.query("GET_LABEL_FILE_PROCESSING")} ${pc(t.progress)}%`;qe(e.ref.main,n),qe(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},lh=({root:e})=>{qe(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING")),qe(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},ch=({root:e})=>{qe(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_ABORTED")),qe(e.ref.sub,e.query("GET_LABEL_TAP_TO_RETRY"))},uh=({root:e})=>{qe(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),qe(e.ref.sub,e.query("GET_LABEL_TAP_TO_UNDO"))},Ns=({root:e})=>{qe(e.ref.main,""),qe(e.ref.sub,"")},Yr=({root:e,action:t})=>{qe(e.ref.main,t.status.main),qe(e.ref.sub,t.status.sub)},dh=Ze({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:Tt({DID_LOAD_ITEM:Ns,DID_REVERT_ITEM_PROCESSING:Ns,DID_REQUEST_ITEM_PROCESSING:lh,DID_ABORT_ITEM_PROCESSING:ch,DID_COMPLETE_ITEM_PROCESSING:uh,DID_UPDATE_ITEM_PROCESS_PROGRESS:sh,DID_UPDATE_ITEM_LOAD_PROGRESS:fc,DID_THROW_ITEM_LOAD_ERROR:Yr,DID_THROW_ITEM_INVALID:Yr,DID_THROW_ITEM_PROCESSING_ERROR:Yr,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:Yr,DID_THROW_ITEM_REMOVE_ERROR:Yr}),didCreateView:e=>{ir("CREATE_VIEW",{...e,view:e})},create:oh,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),Li={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},Ni=[];He(Li,e=>{Ni.push(e)});const Lt=e=>{if(ki(e)==="right")return 0;const t=e.ref.buttonRemoveItem.rect.element;return t.hidden?null:t.width+t.left},ph=e=>e.ref.buttonAbortItemLoad.rect.element.width,Da=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.height/4),fh=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.left/2),mh=e=>e.query("GET_STYLE_LOAD_INDICATOR_POSITION"),gh=e=>e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION"),ki=e=>e.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION"),hh={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:mh},processProgressIndicator:{opacity:0,align:gh},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},ks={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Lt},status:{translateX:Lt}},mi={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},yr={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:Lt},status:{translateX:Lt,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:Lt},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:ki},info:{translateX:Lt},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:ki},buttonRemoveItem:{opacity:1},info:{translateX:Lt},status:{opacity:1,translateX:Lt}},DID_LOAD_ITEM:ks,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:Lt},status:{translateX:Lt}},DID_START_ITEM_PROCESSING:mi,DID_REQUEST_ITEM_PROCESSING:mi,DID_UPDATE_ITEM_PROCESS_PROGRESS:mi,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:Lt}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Lt},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:ks},vh=Ze({create:({root:e})=>{e.element.innerHTML=e.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),Eh=({root:e,props:t})=>{const n=Object.keys(Li).reduce((E,w)=>(E[w]={...Li[w]},E),{}),{id:a}=t,r=e.query("GET_ALLOW_REVERT"),s=e.query("GET_ALLOW_REMOVE"),l=e.query("GET_ALLOW_PROCESS"),u=e.query("GET_INSTANT_UPLOAD"),c=e.query("IS_ASYNC"),m=e.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");let f;c?l&&!r?f=E=>!/RevertItemProcessing/.test(E):!l&&r?f=E=>!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(E):!l&&!r&&(f=E=>!/Process/.test(E)):f=E=>!/Process/.test(E);const g=f?Ni.filter(f):Ni.concat();if(u&&r&&(n.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",n.RevertItemProcessing.icon="GET_ICON_REMOVE"),c&&!r){const E=yr.DID_COMPLETE_ITEM_PROCESSING;E.info.translateX=fh,E.info.translateY=Da,E.status.translateY=Da,E.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(c&&!l&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(E=>{yr[E].status.translateY=Da}),yr.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=ph),m&&r){n.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";const E=yr.DID_COMPLETE_ITEM_PROCESSING;E.info.translateX=Lt,E.status.translateY=Da,E.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}s||(n.RemoveItem.disabled=!0),He(n,(E,w)=>{const S=e.createChildView(uc,{label:e.query(w.label),icon:e.query(w.icon),opacity:0});g.includes(E)&&e.appendChildView(S),w.disabled&&(S.element.setAttribute("disabled","disabled"),S.element.setAttribute("hidden","hidden")),S.element.dataset.align=e.query(`GET_STYLE_${w.align}`),S.element.classList.add(w.className),S.on("click",C=>{C.stopPropagation(),!w.disabled&&e.dispatch(w.action,{query:a})}),e.ref[`button${E}`]=S}),e.ref.processingCompleteIndicator=e.appendChildView(e.createChildView(vh)),e.ref.processingCompleteIndicator.element.dataset.align=e.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),e.ref.info=e.appendChildView(e.createChildView(ih,{id:a})),e.ref.status=e.appendChildView(e.createChildView(dh,{id:a}));const _=e.appendChildView(e.createChildView(As,{opacity:0,align:e.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));_.element.classList.add("filepond--load-indicator"),e.ref.loadProgressIndicator=_;const I=e.appendChildView(e.createChildView(As,{opacity:0,align:e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));I.element.classList.add("filepond--process-indicator"),e.ref.processProgressIndicator=I,e.ref.activeStyles=[]},bh=({root:e,actions:t,props:n})=>{yh({root:e,actions:t,props:n});let a=t.concat().filter(r=>/^DID_/.test(r.type)).reverse().find(r=>yr[r.type]);if(a){e.ref.activeStyles=[];const r=yr[a.type];He(hh,(s,l)=>{const u=e.ref[s];He(l,(c,m)=>{const f=r[s]&&typeof r[s][c]<"u"?r[s][c]:m;e.ref.activeStyles.push({control:u,key:c,value:f})})})}e.ref.activeStyles.forEach(({control:r,key:s,value:l})=>{r[s]=typeof l=="function"?l(e):l})},yh=Tt({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:({root:e,action:t})=>{e.ref.buttonAbortItemProcessing.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:({root:e,action:t})=>{e.ref.buttonAbortItemLoad.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:({root:e,action:t})=>{e.ref.buttonAbortItemRemoval.label=t.value},DID_REQUEST_ITEM_PROCESSING:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:({root:e})=>{e.ref.loadProgressIndicator.spin=!0,e.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:({root:e,action:t})=>{e.ref.loadProgressIndicator.spin=!1,e.ref.loadProgressIndicator.progress=t.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:({root:e,action:t})=>{e.ref.processProgressIndicator.spin=!1,e.ref.processProgressIndicator.progress=t.progress}}),Ih=Ze({create:Eh,write:bh,didCreateView:e=>{ir("CREATE_VIEW",{...e,view:e})},name:"file"}),Th=({root:e,props:t})=>{e.ref.fileName=Dn("legend"),e.appendChild(e.ref.fileName),e.ref.file=e.appendChildView(e.createChildView(Ih,{id:t.id})),e.ref.data=!1},_h=({root:e,props:t})=>{qe(e.ref.fileName,ro(e.query("GET_ITEM_NAME",t.id)))},Dh=Ze({create:Th,ignoreRect:!0,write:Tt({DID_LOAD_ITEM:_h}),didCreateView:e=>{ir("CREATE_VIEW",{...e,view:e})},tag:"fieldset",name:"file-wrapper"}),Bs={type:"spring",damping:.6,mass:7},wh=({root:e,props:t})=>{[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:Bs},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:Bs},styles:["translateY"]}}].forEach(n=>{Oh(e,n,t.name)}),e.element.classList.add(`filepond--${t.name}`),e.ref.scalable=null},Oh=(e,t,n)=>{const a=Ze({name:`panel-${t.name} filepond--${n}`,mixins:t.mixins,ignoreRectUpdate:!0}),r=e.createChildView(a,t.props);e.ref[t.name]=e.appendChildView(r)},Sh=({root:e,props:t})=>{if((e.ref.scalable===null||t.scalable!==e.ref.scalable)&&(e.ref.scalable=Kl(t.scalable)?t.scalable:!0,e.element.dataset.scalable=e.ref.scalable),!t.height)return;const n=e.ref.top.rect.element,a=e.ref.bottom.rect.element,r=Math.max(n.height+a.height,t.height);e.ref.center.translateY=n.height,e.ref.center.scaleY=(r-n.height-a.height)/100,e.ref.bottom.translateY=r-a.height},mc=Ze({name:"panel",read:({root:e,props:t})=>t.heightCurrent=e.ref.bottom.translateY,write:Sh,create:wh,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),Rh=e=>{const t=e.map(a=>a.id);let n;return{setIndex:a=>{n=a},getIndex:()=>n,getItemIndex:a=>t.indexOf(a.id)}},Fs={type:"spring",stiffness:.75,damping:.45,mass:10},Gs="spring",$s={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},Ph=({root:e,props:t})=>{if(e.ref.handleClick=a=>e.dispatch("DID_ACTIVATE_ITEM",{id:t.id}),e.element.id=`filepond--item-${t.id}`,e.element.addEventListener("click",e.ref.handleClick),e.ref.container=e.appendChildView(e.createChildView(Dh,{id:t.id})),e.ref.panel=e.appendChildView(e.createChildView(mc,{name:"item-panel"})),e.ref.panel.height=null,t.markedForRemoval=!1,!e.query("GET_ALLOW_REORDER"))return;e.element.dataset.dragState="idle";const n=a=>{if(!a.isPrimary)return;let r=!1;const s={x:a.pageX,y:a.pageY};t.dragOrigin={x:e.translateX,y:e.translateY},t.dragCenter={x:a.offsetX,y:a.offsetY};const l=Rh(e.query("GET_ACTIVE_ITEMS"));e.dispatch("DID_GRAB_ITEM",{id:t.id,dragState:l});const u=g=>{if(!g.isPrimary)return;g.stopPropagation(),g.preventDefault(),t.dragOffset={x:g.pageX-s.x,y:g.pageY-s.y},t.dragOffset.x*t.dragOffset.x+t.dragOffset.y*t.dragOffset.y>16&&!r&&(r=!0,e.element.removeEventListener("click",e.ref.handleClick)),e.dispatch("DID_DRAG_ITEM",{id:t.id,dragState:l})},c=g=>{g.isPrimary&&(t.dragOffset={x:g.pageX-s.x,y:g.pageY-s.y},f())},m=()=>{f()},f=()=>{document.removeEventListener("pointercancel",m),document.removeEventListener("pointermove",u),document.removeEventListener("pointerup",c),e.dispatch("DID_DROP_ITEM",{id:t.id,dragState:l}),r&&setTimeout(()=>e.element.addEventListener("click",e.ref.handleClick),0)};document.addEventListener("pointercancel",m),document.addEventListener("pointermove",u),document.addEventListener("pointerup",c)};e.element.addEventListener("pointerdown",n)},Mh=Tt({DID_UPDATE_PANEL_HEIGHT:({root:e,action:t})=>{e.height=t.height}}),Ch=Tt({DID_GRAB_ITEM:({root:e,props:t})=>{t.dragOrigin={x:e.translateX,y:e.translateY}},DID_DRAG_ITEM:({root:e})=>{e.element.dataset.dragState="drag"},DID_DROP_ITEM:({root:e,props:t})=>{t.dragOffset=null,t.dragOrigin=null,e.element.dataset.dragState="drop"}},({root:e,actions:t,props:n,shouldOptimize:a})=>{e.element.dataset.dragState==="drop"&&e.scaleX<=1&&(e.element.dataset.dragState="idle");let r=t.concat().filter(l=>/^DID_/.test(l.type)).reverse().find(l=>$s[l.type]);r&&r.type!==n.currentState&&(n.currentState=r.type,e.element.dataset.filepondItemState=$s[n.currentState]||"");const s=e.query("GET_ITEM_PANEL_ASPECT_RATIO")||e.query("GET_PANEL_ASPECT_RATIO");s?a||(e.height=e.rect.element.width*s):(Mh({root:e,actions:t,props:n}),!e.height&&e.ref.container.rect.element.height>0&&(e.height=e.ref.container.rect.element.height)),a&&(e.ref.panel.height=null),e.ref.panel.height=e.height}),Ah=Ze({create:Ph,write:Ch,destroy:({root:e,props:t})=>{e.element.removeEventListener("click",e.ref.handleClick),e.dispatch("RELEASE_ITEM",{query:t.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:Gs,scaleY:Gs,translateX:Fs,translateY:Fs,opacity:{type:"tween",duration:150}}}});var ao=(e,t)=>Math.max(1,Math.floor((e+1)/t));const io=(e,t,n)=>{if(!n)return;const a=e.rect.element.width,r=t.length;let s=null;if(r===0||n.top<t[0].rect.element.top)return-1;const u=t[0].rect.element,c=u.marginLeft+u.marginRight,m=u.width+c,f=ao(a,m);if(f===1){for(let I=0;I<r;I++){const E=t[I],w=E.rect.outer.top+E.rect.element.height*.5;if(n.top<w)return I}return r}const g=u.marginTop+u.marginBottom,_=u.height+g;for(let I=0;I<r;I++){const E=I%f,w=Math.floor(I/f),S=E*m,C=w*_,v=C-u.marginTop,T=S+m,R=C+_+u.marginBottom;if(n.top<R&&n.top>v){if(n.left<T)return I;I!==r-1?s=I:s=null}}return s!==null?s:r},wa={height:0,width:0,get getHeight(){return this.height},set setHeight(e){(this.height===0||e===0)&&(this.height=e)},get getWidth(){return this.width},set setWidth(e){(this.width===0||e===0)&&(this.width=e)},setDimensions:function(e,t){(this.height===0||e===0)&&(this.height=e),(this.width===0||t===0)&&(this.width=t)}},xh=({root:e})=>{Xe(e.element,"role","list"),e.ref.lastItemSpanwDate=Date.now()},Lh=({root:e,action:t})=>{const{id:n,index:a,interactionMethod:r}=t;e.ref.addIndex=a;const s=Date.now();let l=s,u=1;if(r!==Ht.NONE){u=0;const c=e.query("GET_ITEM_INSERT_INTERVAL"),m=s-e.ref.lastItemSpanwDate;l=m<c?s+(c-m):s}e.ref.lastItemSpanwDate=l,e.appendChildView(e.createChildView(Ah,{spawnDate:l,id:n,opacity:u,interactionMethod:r}),a)},Us=(e,t,n,a=0,r=1)=>{e.dragOffset?(e.translateX=null,e.translateY=null,e.translateX=e.dragOrigin.x+e.dragOffset.x,e.translateY=e.dragOrigin.y+e.dragOffset.y,e.scaleX=1.025,e.scaleY=1.025):(e.translateX=t,e.translateY=n,Date.now()>e.spawnDate&&(e.opacity===0&&Nh(e,t,n,a,r),e.scaleX=1,e.scaleY=1,e.opacity=1))},Nh=(e,t,n,a,r)=>{e.interactionMethod===Ht.NONE?(e.translateX=null,e.translateX=t,e.translateY=null,e.translateY=n):e.interactionMethod===Ht.DROP?(e.translateX=null,e.translateX=t-a*20,e.translateY=null,e.translateY=n-r*10,e.scaleX=.8,e.scaleY=.8):e.interactionMethod===Ht.BROWSE?(e.translateY=null,e.translateY=n-30):e.interactionMethod===Ht.API&&(e.translateX=null,e.translateX=t-30,e.translateY=null)},kh=({root:e,action:t})=>{const{id:n}=t,a=e.childViews.find(r=>r.id===n);a&&(a.scaleX=.9,a.scaleY=.9,a.opacity=0,a.markedForRemoval=!0)},gi=e=>e.rect.element.height+e.rect.element.marginBottom*.5+e.rect.element.marginTop*.5,Bh=e=>e.rect.element.width+e.rect.element.marginLeft*.5+e.rect.element.marginRight*.5,Fh=({root:e,action:t})=>{const{id:n,dragState:a}=t,r=e.query("GET_ITEM",{id:n}),s=e.childViews.find(S=>S.id===n),l=e.childViews.length,u=a.getItemIndex(r);if(!s)return;const c={x:s.dragOrigin.x+s.dragOffset.x+s.dragCenter.x,y:s.dragOrigin.y+s.dragOffset.y+s.dragCenter.y},m=gi(s),f=Bh(s);let g=Math.floor(e.rect.outer.width/f);g>l&&(g=l);const _=Math.floor(l/g+1);wa.setHeight=m*_,wa.setWidth=f*g;var I={y:Math.floor(c.y/m),x:Math.floor(c.x/f),getGridIndex:function(){return c.y>wa.getHeight||c.y<0||c.x>wa.getWidth||c.x<0?u:this.y*g+this.x},getColIndex:function(){const C=e.query("GET_ACTIVE_ITEMS"),v=e.childViews.filter(V=>V.rect.element.height),T=C.map(V=>v.find(P=>P.id===V.id)),R=T.findIndex(V=>V===s),A=gi(s),G=T.length;let B=G,b=0,y=0,W=0;for(let V=0;V<G;V++)if(b=gi(T[V]),W=y,y=W+b,c.y<y){if(R>V){if(c.y<W+A){B=V;break}continue}B=V;break}return B}};const E=g>1?I.getGridIndex():I.getColIndex();e.dispatch("MOVE_ITEM",{query:s,index:E});const w=a.getIndex();if(w===void 0||w!==E){if(a.setIndex(E),w===void 0)return;e.dispatch("DID_REORDER_ITEMS",{items:e.query("GET_ACTIVE_ITEMS"),origin:u,target:E})}},Gh=Tt({DID_ADD_ITEM:Lh,DID_REMOVE_ITEM:kh,DID_DRAG_ITEM:Fh}),$h=({root:e,props:t,actions:n,shouldOptimize:a})=>{Gh({root:e,props:t,actions:n});const{dragCoordinates:r}=t,s=e.rect.element.width,l=e.childViews.filter(T=>T.rect.element.height),u=e.query("GET_ACTIVE_ITEMS").map(T=>l.find(R=>R.id===T.id)).filter(T=>T),c=r?io(e,u,r):null,m=e.ref.addIndex||null;e.ref.addIndex=null;let f=0,g=0,_=0;if(u.length===0)return;const I=u[0].rect.element,E=I.marginTop+I.marginBottom,w=I.marginLeft+I.marginRight,S=I.width+w,C=I.height+E,v=ao(s,S);if(v===1){let T=0,R=0;u.forEach((A,G)=>{if(c){let y=G-c;y===-2?R=-E*.25:y===-1?R=-E*.75:y===0?R=E*.75:y===1?R=E*.25:R=0}a&&(A.translateX=null,A.translateY=null),A.markedForRemoval||Us(A,0,T+R);let b=(A.rect.element.height+E)*(A.markedForRemoval?A.opacity:1);T+=b})}else{let T=0,R=0;u.forEach((A,G)=>{G===c&&(f=1),G===m&&(_+=1),A.markedForRemoval&&A.opacity<.5&&(g-=1);const B=G+_+f+g,b=B%v,y=Math.floor(B/v),W=b*S,V=y*C,P=Math.sign(W-T),z=Math.sign(V-R);T=W,R=V,!A.markedForRemoval&&(a&&(A.translateX=null,A.translateY=null),Us(A,W,V,P,z))})}},Uh=(e,t)=>t.filter(n=>n.data&&n.data.id?e.id===n.data.id:!0),Vh=Ze({create:xh,write:$h,tag:"ul",name:"list",didWriteView:({root:e})=>{e.childViews.filter(t=>t.markedForRemoval&&t.opacity===0&&t.resting).forEach(t=>{t._destroy(),e.removeChildView(t)})},filterFrameActionsForChild:Uh,mixins:{apis:["dragCoordinates"]}}),Hh=({root:e,props:t})=>{e.ref.list=e.appendChildView(e.createChildView(Vh)),t.dragCoordinates=null,t.overflowing=!1},Yh=({root:e,props:t,action:n})=>{e.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(t.dragCoordinates={left:n.position.scopeLeft-e.ref.list.rect.element.left,top:n.position.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},Wh=({props:e})=>{e.dragCoordinates=null},jh=Tt({DID_DRAG:Yh,DID_END_DRAG:Wh}),qh=({root:e,props:t,actions:n})=>{if(jh({root:e,props:t,actions:n}),e.ref.list.dragCoordinates=t.dragCoordinates,t.overflowing&&!t.overflow&&(t.overflowing=!1,e.element.dataset.state="",e.height=null),t.overflow){const a=Math.round(t.overflow);a!==e.height&&(t.overflowing=!0,e.element.dataset.state="overflow",e.height=a)}},zh=Ze({create:Hh,write:qh,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),nn=(e,t,n,a="")=>{n?Xe(e,t,a):e.removeAttribute(t)},Kh=e=>{if(!(!e||e.value==="")){try{e.value=""}catch{}if(e.value){const t=Dn("form"),n=e.parentNode,a=e.nextSibling;t.appendChild(e),t.reset(),a?n.insertBefore(e,a):n.appendChild(e)}}},Xh=({root:e,props:t})=>{e.element.id=`filepond--browser-${t.id}`,Xe(e.element,"name",e.query("GET_NAME")),Xe(e.element,"aria-controls",`filepond--assistant-${t.id}`),Xe(e.element,"aria-labelledby",`filepond--drop-label-${t.id}`),gc({root:e,action:{value:e.query("GET_ACCEPTED_FILE_TYPES")}}),hc({root:e,action:{value:e.query("GET_ALLOW_MULTIPLE")}}),vc({root:e,action:{value:e.query("GET_ALLOW_DIRECTORIES_ONLY")}}),Bi({root:e}),Ec({root:e,action:{value:e.query("GET_REQUIRED")}}),bc({root:e,action:{value:e.query("GET_CAPTURE_METHOD")}}),e.ref.handleChange=n=>{if(!e.element.value)return;const a=Array.from(e.element.files).map(r=>(r._relativePath=r.webkitRelativePath,r));setTimeout(()=>{t.onload(a),Kh(e.element)},250)},e.element.addEventListener("change",e.ref.handleChange)},gc=({root:e,action:t})=>{e.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&nn(e.element,"accept",!!t.value,t.value?t.value.join(","):"")},hc=({root:e,action:t})=>{nn(e.element,"multiple",t.value)},vc=({root:e,action:t})=>{nn(e.element,"webkitdirectory",t.value)},Bi=({root:e})=>{const t=e.query("GET_DISABLED"),n=e.query("GET_ALLOW_BROWSE"),a=t||!n;nn(e.element,"disabled",a)},Ec=({root:e,action:t})=>{t.value?e.query("GET_TOTAL_ITEMS")===0&&nn(e.element,"required",!0):nn(e.element,"required",!1)},bc=({root:e,action:t})=>{nn(e.element,"capture",!!t.value,t.value===!0?"":t.value)},Vs=({root:e})=>{const{element:t}=e;e.query("GET_TOTAL_ITEMS")>0?(nn(t,"required",!1),nn(t,"name",!1)):(nn(t,"name",!0,e.query("GET_NAME")),e.query("GET_CHECK_VALIDITY")&&t.setCustomValidity(""),e.query("GET_REQUIRED")&&nn(t,"required",!0))},Zh=({root:e})=>{e.query("GET_CHECK_VALIDITY")&&e.element.setCustomValidity(e.query("GET_LABEL_INVALID_FIELD"))},Qh=Ze({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:Xh,destroy:({root:e})=>{e.element.removeEventListener("change",e.ref.handleChange)},write:Tt({DID_LOAD_ITEM:Vs,DID_REMOVE_ITEM:Vs,DID_THROW_ITEM_INVALID:Zh,DID_SET_DISABLED:Bi,DID_SET_ALLOW_BROWSE:Bi,DID_SET_ALLOW_DIRECTORIES_ONLY:vc,DID_SET_ALLOW_MULTIPLE:hc,DID_SET_ACCEPTED_FILE_TYPES:gc,DID_SET_CAPTURE_METHOD:bc,DID_SET_REQUIRED:Ec})}),Hs={ENTER:13,SPACE:32},Jh=({root:e,props:t})=>{const n=Dn("label");Xe(n,"for",`filepond--browser-${t.id}`),Xe(n,"id",`filepond--drop-label-${t.id}`),Xe(n,"aria-hidden","true"),e.ref.handleKeyDown=a=>{(a.keyCode===Hs.ENTER||a.keyCode===Hs.SPACE)&&(a.preventDefault(),e.ref.label.click())},e.ref.handleClick=a=>{a.target===n||n.contains(a.target)||e.ref.label.click()},n.addEventListener("keydown",e.ref.handleKeyDown),e.element.addEventListener("click",e.ref.handleClick),yc(n,t.caption),e.appendChild(n),e.ref.label=n},yc=(e,t)=>{e.innerHTML=t;const n=e.querySelector(".filepond--label-action");return n&&Xe(n,"tabindex","0"),t},ev=Ze({name:"drop-label",ignoreRect:!0,create:Jh,destroy:({root:e})=>{e.ref.label.addEventListener("keydown",e.ref.handleKeyDown),e.element.removeEventListener("click",e.ref.handleClick)},write:Tt({DID_SET_LABEL_IDLE:({root:e,action:t})=>{yc(e.ref.label,t.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),tv=Ze({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),nv=({root:e})=>{const t=e.rect.element.width*.5,n=e.rect.element.height*.5;e.ref.blob=e.appendChildView(e.createChildView(tv,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:t,translateY:n}))},rv=({root:e,action:t})=>{if(!e.ref.blob){nv({root:e});return}e.ref.blob.translateX=t.position.scopeLeft,e.ref.blob.translateY=t.position.scopeTop,e.ref.blob.scaleX=1,e.ref.blob.scaleY=1,e.ref.blob.opacity=1},av=({root:e})=>{e.ref.blob&&(e.ref.blob.opacity=0)},iv=({root:e})=>{e.ref.blob&&(e.ref.blob.scaleX=2.5,e.ref.blob.scaleY=2.5,e.ref.blob.opacity=0)},ov=({root:e,props:t,actions:n})=>{sv({root:e,props:t,actions:n});const{blob:a}=e.ref;n.length===0&&a&&a.opacity===0&&(e.removeChildView(a),e.ref.blob=null)},sv=Tt({DID_DRAG:rv,DID_DROP:iv,DID_END_DRAG:av}),lv=Ze({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:ov}),Ic=(e,t)=>{try{const n=new DataTransfer;t.forEach(a=>{a instanceof File?n.items.add(a):n.items.add(new File([a],a.name,{type:a.type}))}),e.files=n.files}catch{return!1}return!0},cv=({root:e})=>e.ref.fields={},Za=(e,t)=>e.ref.fields[t],oo=e=>{e.query("GET_ACTIVE_ITEMS").forEach(t=>{e.ref.fields[t.id]&&e.element.appendChild(e.ref.fields[t.id])})},Ys=({root:e})=>oo(e),uv=({root:e,action:t})=>{const r=!(e.query("GET_ITEM",t.id).origin===it.LOCAL)&&e.query("SHOULD_UPDATE_FILE_INPUT"),s=Dn("input");s.type=r?"file":"hidden",s.name=e.query("GET_NAME"),s.disabled=e.query("GET_DISABLED"),e.ref.fields[t.id]=s,oo(e)},dv=({root:e,action:t})=>{const n=Za(e,t.id);if(!n||(t.serverFileReference!==null&&(n.value=t.serverFileReference),!e.query("SHOULD_UPDATE_FILE_INPUT")))return;const a=e.query("GET_ITEM",t.id);Ic(n,[a.file])},pv=({root:e,action:t})=>{e.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout(()=>{const n=Za(e,t.id);n&&Ic(n,[t.file])},0)},fv=({root:e})=>{e.element.disabled=e.query("GET_DISABLED")},mv=({root:e,action:t})=>{const n=Za(e,t.id);n&&(n.parentNode&&n.parentNode.removeChild(n),delete e.ref.fields[t.id])},gv=({root:e,action:t})=>{const n=Za(e,t.id);n&&(t.value===null?n.removeAttribute("value"):n.type!="file"&&(n.value=t.value),oo(e))},hv=Tt({DID_SET_DISABLED:fv,DID_ADD_ITEM:uv,DID_LOAD_ITEM:dv,DID_REMOVE_ITEM:mv,DID_DEFINE_VALUE:gv,DID_PREPARE_OUTPUT:pv,DID_REORDER_ITEMS:Ys,DID_SORT_ITEMS:Ys}),vv=Ze({tag:"fieldset",name:"data",create:cv,write:hv,ignoreRect:!0}),Ev=e=>"getRootNode"in e?e.getRootNode():document,bv=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],yv=["css","csv","html","txt"],Iv={zip:"zip|compressed",epub:"application/epub+zip"},Tc=(e="")=>(e=e.toLowerCase(),bv.includes(e)?"image/"+(e==="jpg"?"jpeg":e==="svg"?"svg+xml":e):yv.includes(e)?"text/"+e:Iv[e]||""),so=e=>new Promise((t,n)=>{const a=Pv(e);if(a.length&&!Tv(e))return t(a);_v(e).then(t)}),Tv=e=>e.files?e.files.length>0:!1,_v=e=>new Promise((t,n)=>{const a=(e.items?Array.from(e.items):[]).filter(r=>Dv(r)).map(r=>wv(r));if(!a.length){t(e.files?Array.from(e.files):[]);return}Promise.all(a).then(r=>{const s=[];r.forEach(l=>{s.push.apply(s,l)}),t(s.filter(l=>l).map(l=>(l._relativePath||(l._relativePath=l.webkitRelativePath),l)))}).catch(console.error)}),Dv=e=>{if(_c(e)){const t=lo(e);if(t)return t.isFile||t.isDirectory}return e.kind==="file"},wv=e=>new Promise((t,n)=>{if(Rv(e)){Ov(lo(e)).then(t).catch(n);return}t([e.getAsFile()])}),Ov=e=>new Promise((t,n)=>{const a=[];let r=0,s=0;const l=()=>{s===0&&r===0&&t(a)},u=c=>{r++;const m=c.createReader(),f=()=>{m.readEntries(g=>{if(g.length===0){r--,l();return}g.forEach(_=>{_.isDirectory?u(_):(s++,_.file(I=>{const E=Sv(I);_.fullPath&&(E._relativePath=_.fullPath),a.push(E),s--,l()}))}),f()},n)};f()};u(e)}),Sv=e=>{if(e.type.length)return e;const t=e.lastModifiedDate,n=e.name,a=Tc(Xa(e.name));return a.length&&(e=e.slice(0,e.size,a),e.name=n,e.lastModifiedDate=t),e},Rv=e=>_c(e)&&(lo(e)||{}).isDirectory,_c=e=>"webkitGetAsEntry"in e,lo=e=>e.webkitGetAsEntry(),Pv=e=>{let t=[];try{if(t=Cv(e),t.length)return t;t=Mv(e)}catch{}return t},Mv=e=>{let t=e.getData("url");return typeof t=="string"&&t.length?[t]:[]},Cv=e=>{let t=e.getData("text/html");if(typeof t=="string"&&t.length){const n=t.match(/src\s*=\s*"(.+?)"/);if(n)return[n[1]]}return[]},Ua=[],nr=e=>({pageLeft:e.pageX,pageTop:e.pageY,scopeLeft:e.offsetX||e.layerX,scopeTop:e.offsetY||e.layerY}),Av=(e,t,n)=>{const a=xv(t),r={element:e,filterElement:n,state:null,ondrop:()=>{},onenter:()=>{},ondrag:()=>{},onexit:()=>{},onload:()=>{},allowdrop:()=>{}};return r.destroy=a.addListener(r),r},xv=e=>{const t=Ua.find(a=>a.element===e);if(t)return t;const n=Lv(e);return Ua.push(n),n},Lv=e=>{const t=[],n={dragenter:kv,dragover:Bv,dragleave:Gv,drop:Fv},a={};He(n,(s,l)=>{a[s]=l(e,t),e.addEventListener(s,a[s],!1)});const r={element:e,addListener:s=>(t.push(s),()=>{t.splice(t.indexOf(s),1),t.length===0&&(Ua.splice(Ua.indexOf(r),1),He(n,l=>{e.removeEventListener(l,a[l],!1)}))})};return r},Nv=(e,t)=>("elementFromPoint"in e||(e=document),e.elementFromPoint(t.x,t.y)),co=(e,t)=>{const n=Ev(t),a=Nv(n,{x:e.pageX-window.pageXOffset,y:e.pageY-window.pageYOffset});return a===t||t.contains(a)};let Dc=null;const Oa=(e,t)=>{try{e.dropEffect=t}catch{}},kv=(e,t)=>n=>{n.preventDefault(),Dc=n.target,t.forEach(a=>{const{element:r,onenter:s}=a;co(n,r)&&(a.state="enter",s(nr(n)))})},Bv=(e,t)=>n=>{n.preventDefault();const a=n.dataTransfer;so(a).then(r=>{let s=!1;t.some(l=>{const{filterElement:u,element:c,onenter:m,onexit:f,ondrag:g,allowdrop:_}=l;Oa(a,"copy");const I=_(r);if(!I){Oa(a,"none");return}if(co(n,c)){if(s=!0,l.state===null){l.state="enter",m(nr(n));return}if(l.state="over",u&&!I){Oa(a,"none");return}g(nr(n))}else u&&!s&&Oa(a,"none"),l.state&&(l.state=null,f(nr(n)))})})},Fv=(e,t)=>n=>{n.preventDefault();const a=n.dataTransfer;so(a).then(r=>{t.forEach(s=>{const{filterElement:l,element:u,ondrop:c,onexit:m,allowdrop:f}=s;if(s.state=null,!(l&&!co(n,u))){if(!f(r))return m(nr(n));c(nr(n),r)}})})},Gv=(e,t)=>n=>{Dc===n.target&&t.forEach(a=>{const{onexit:r}=a;a.state=null,r(nr(n))})},$v=(e,t,n)=>{e.classList.add("filepond--hopper");const{catchesDropsOnPage:a,requiresDropOnElement:r,filterItems:s=f=>f}=n,l=Av(e,a?document.documentElement:e,r);let u="",c="";l.allowdrop=f=>t(s(f)),l.ondrop=(f,g)=>{const _=s(g);if(!t(_)){m.ondragend(f);return}c="drag-drop",m.onload(_,f)},l.ondrag=f=>{m.ondrag(f)},l.onenter=f=>{c="drag-over",m.ondragstart(f)},l.onexit=f=>{c="drag-exit",m.ondragend(f)};const m={updateHopperState:()=>{u!==c&&(e.dataset.hopperState=c,u=c)},onload:()=>{},ondragstart:()=>{},ondrag:()=>{},ondragend:()=>{},destroy:()=>{l.destroy()}};return m};let Fi=!1;const Tr=[],wc=e=>{const t=document.activeElement;if(t&&/textarea|input/i.test(t.nodeName)){let n=!1,a=t;for(;a!==document.body;){if(a.classList.contains("filepond--root")){n=!0;break}a=a.parentNode}if(!n)return}so(e.clipboardData).then(n=>{n.length&&Tr.forEach(a=>a(n))})},Uv=e=>{Tr.includes(e)||(Tr.push(e),!Fi&&(Fi=!0,document.addEventListener("paste",wc)))},Vv=e=>{eo(Tr,Tr.indexOf(e)),Tr.length===0&&(document.removeEventListener("paste",wc),Fi=!1)},Hv=()=>{const e=n=>{t.onload(n)},t={destroy:()=>{Vv(e)},onload:()=>{}};return Uv(e),t},Yv=({root:e,props:t})=>{e.element.id=`filepond--assistant-${t.id}`,Xe(e.element,"role","status"),Xe(e.element,"aria-live","polite"),Xe(e.element,"aria-relevant","additions")};let Ws=null,js=null;const hi=[],Qa=(e,t)=>{e.element.textContent=t},Wv=e=>{e.element.textContent=""},Oc=(e,t,n)=>{const a=e.query("GET_TOTAL_ITEMS");Qa(e,`${n} ${t}, ${a} ${a===1?e.query("GET_LABEL_FILE_COUNT_SINGULAR"):e.query("GET_LABEL_FILE_COUNT_PLURAL")}`),clearTimeout(js),js=setTimeout(()=>{Wv(e)},1500)},Sc=e=>e.element.parentNode.contains(document.activeElement),jv=({root:e,action:t})=>{if(!Sc(e))return;e.element.textContent="";const n=e.query("GET_ITEM",t.id);hi.push(n.filename),clearTimeout(Ws),Ws=setTimeout(()=>{Oc(e,hi.join(", "),e.query("GET_LABEL_FILE_ADDED")),hi.length=0},750)},qv=({root:e,action:t})=>{if(!Sc(e))return;const n=t.item;Oc(e,n.filename,e.query("GET_LABEL_FILE_REMOVED"))},zv=({root:e,action:t})=>{const a=e.query("GET_ITEM",t.id).filename,r=e.query("GET_LABEL_FILE_PROCESSING_COMPLETE");Qa(e,`${a} ${r}`)},qs=({root:e,action:t})=>{const a=e.query("GET_ITEM",t.id).filename,r=e.query("GET_LABEL_FILE_PROCESSING_ABORTED");Qa(e,`${a} ${r}`)},Sa=({root:e,action:t})=>{const a=e.query("GET_ITEM",t.id).filename;Qa(e,`${t.status.main} ${a} ${t.status.sub}`)},Kv=Ze({create:Yv,ignoreRect:!0,ignoreRectUpdate:!0,write:Tt({DID_LOAD_ITEM:jv,DID_REMOVE_ITEM:qv,DID_COMPLETE_ITEM_PROCESSING:zv,DID_ABORT_ITEM_PROCESSING:qs,DID_REVERT_ITEM_PROCESSING:qs,DID_THROW_ITEM_REMOVE_ERROR:Sa,DID_THROW_ITEM_LOAD_ERROR:Sa,DID_THROW_ITEM_INVALID:Sa,DID_THROW_ITEM_PROCESSING_ERROR:Sa}),tag:"span",name:"assistant"}),Rc=(e,t="-")=>e.replace(new RegExp(`${t}.`,"g"),n=>n.charAt(1).toUpperCase()),Pc=(e,t=16,n=!0)=>{let a=Date.now(),r=null;return(...s)=>{clearTimeout(r);const l=Date.now()-a,u=()=>{a=Date.now(),e(...s)};l<t?n||(r=setTimeout(u,t-l)):u()}},Xv=1e6,Va=e=>e.preventDefault(),Zv=({root:e,props:t})=>{const n=e.query("GET_ID");n&&(e.element.id=n);const a=e.query("GET_CLASS_NAME");a&&a.split(" ").filter(c=>c.length).forEach(c=>{e.element.classList.add(c)}),e.ref.label=e.appendChildView(e.createChildView(ev,{...t,translateY:null,caption:e.query("GET_LABEL_IDLE")})),e.ref.list=e.appendChildView(e.createChildView(zh,{translateY:null})),e.ref.panel=e.appendChildView(e.createChildView(mc,{name:"panel-root"})),e.ref.assistant=e.appendChildView(e.createChildView(Kv,{...t})),e.ref.data=e.appendChildView(e.createChildView(vv,{...t})),e.ref.measure=Dn("div"),e.ref.measure.style.height="100%",e.element.appendChild(e.ref.measure),e.ref.bounds=null,e.query("GET_STYLES").filter(c=>!_n(c.value)).map(({name:c,value:m})=>{e.element.dataset[c]=m}),e.ref.widthPrevious=null,e.ref.widthUpdated=Pc(()=>{e.ref.updateHistory=[],e.dispatch("DID_RESIZE_ROOT")},250),e.ref.previousAspectRatio=null,e.ref.updateHistory=[];const r=window.matchMedia("(pointer: fine) and (hover: hover)").matches,s="PointerEvent"in window;e.query("GET_ALLOW_REORDER")&&s&&!r&&(e.element.addEventListener("touchmove",Va,{passive:!1}),e.element.addEventListener("gesturestart",Va));const l=e.query("GET_CREDITS");if(l.length===2){const c=document.createElement("a");c.className="filepond--credits",c.setAttribute("aria-hidden","true"),c.href=l[0],c.tabindex=-1,c.target="_blank",c.rel="noopener noreferrer",c.textContent=l[1],e.element.appendChild(c),e.ref.credits=c}},Qv=({root:e,props:t,actions:n})=>{if(rE({root:e,props:t,actions:n}),n.filter(G=>/^DID_SET_STYLE_/.test(G.type)).filter(G=>!_n(G.data.value)).map(({type:G,data:B})=>{const b=Rc(G.substring(8).toLowerCase(),"_");e.element.dataset[b]=B.value,e.invalidateLayout()}),e.rect.element.hidden)return;e.rect.element.width!==e.ref.widthPrevious&&(e.ref.widthPrevious=e.rect.element.width,e.ref.widthUpdated());let a=e.ref.bounds;a||(a=e.ref.bounds=tE(e),e.element.removeChild(e.ref.measure),e.ref.measure=null);const{hopper:r,label:s,list:l,panel:u}=e.ref;r&&r.updateHopperState();const c=e.query("GET_PANEL_ASPECT_RATIO"),m=e.query("GET_ALLOW_MULTIPLE"),f=e.query("GET_TOTAL_ITEMS"),g=m?e.query("GET_MAX_FILES")||Xv:1,_=f===g,I=n.find(G=>G.type==="DID_ADD_ITEM");if(_&&I){const G=I.data.interactionMethod;s.opacity=0,m?s.translateY=-40:G===Ht.API?s.translateX=40:G===Ht.BROWSE?s.translateY=40:s.translateY=30}else _||(s.opacity=1,s.translateX=0,s.translateY=0);const E=Jv(e),w=eE(e),S=s.rect.element.height,C=!m||_?0:S,v=_?l.rect.element.marginTop:0,T=f===0?0:l.rect.element.marginBottom,R=C+v+w.visual+T,A=C+v+w.bounds+T;if(l.translateY=Math.max(0,C-l.rect.element.marginTop)-E.top,c){const G=e.rect.element.width,B=G*c;c!==e.ref.previousAspectRatio&&(e.ref.previousAspectRatio=c,e.ref.updateHistory=[]);const b=e.ref.updateHistory;b.push(G);const y=2;if(b.length>y*2){const V=b.length,P=V-10;let z=0;for(let k=V;k>=P;k--)if(b[k]===b[k-2]&&z++,z>=y)return}u.scalable=!1,u.height=B;const W=B-C-(T-E.bottom)-(_?v:0);w.visual>W?l.overflow=W:l.overflow=null,e.height=B}else if(a.fixedHeight){u.scalable=!1;const G=a.fixedHeight-C-(T-E.bottom)-(_?v:0);w.visual>G?l.overflow=G:l.overflow=null}else if(a.cappedHeight){const G=R>=a.cappedHeight,B=Math.min(a.cappedHeight,R);u.scalable=!0,u.height=G?B:B-E.top-E.bottom;const b=B-C-(T-E.bottom)-(_?v:0);R>a.cappedHeight&&w.visual>b?l.overflow=b:l.overflow=null,e.height=Math.min(a.cappedHeight,A-E.top-E.bottom)}else{const G=f>0?E.top+E.bottom:0;u.scalable=!0,u.height=Math.max(S,R-G),e.height=Math.max(S,A-G)}e.ref.credits&&u.heightCurrent&&(e.ref.credits.style.transform=`translateY(${u.heightCurrent}px)`)},Jv=e=>{const t=e.ref.list.childViews[0].childViews[0];return t?{top:t.rect.element.marginTop,bottom:t.rect.element.marginBottom}:{top:0,bottom:0}},eE=e=>{let t=0,n=0;const a=e.ref.list,r=a.childViews[0],s=r.childViews.filter(v=>v.rect.element.height),l=e.query("GET_ACTIVE_ITEMS").map(v=>s.find(T=>T.id===v.id)).filter(v=>v);if(l.length===0)return{visual:t,bounds:n};const u=r.rect.element.width,c=io(r,l,a.dragCoordinates),m=l[0].rect.element,f=m.marginTop+m.marginBottom,g=m.marginLeft+m.marginRight,_=m.width+g,I=m.height+f,E=typeof c<"u"&&c>=0?1:0,w=l.find(v=>v.markedForRemoval&&v.opacity<.45)?-1:0,S=l.length+E+w,C=ao(u,_);return C===1?l.forEach(v=>{const T=v.rect.element.height+f;n+=T,t+=T*v.opacity}):(n=Math.ceil(S/C)*I,t=n),{visual:t,bounds:n}},tE=e=>{const t=e.ref.measureHeight||null;return{cappedHeight:parseInt(e.style.maxHeight,10)||null,fixedHeight:t===0?null:t}},uo=(e,t)=>{const n=e.query("GET_ALLOW_REPLACE"),a=e.query("GET_ALLOW_MULTIPLE"),r=e.query("GET_TOTAL_ITEMS");let s=e.query("GET_MAX_FILES");const l=t.length;return!a&&l>1?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:je("warning",0,"Max files")}),!0):(s=a?s:1,!a&&n?!1:xr(s)&&r+l>s?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:je("warning",0,"Max files")}),!0):!1)},nE=(e,t,n)=>{const a=e.childViews[0];return io(a,t,{left:n.scopeLeft-a.rect.element.left,top:n.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},zs=e=>{const t=e.query("GET_ALLOW_DROP"),n=e.query("GET_DISABLED"),a=t&&!n;if(a&&!e.ref.hopper){const r=$v(e.element,s=>{const l=e.query("GET_BEFORE_DROP_FILE")||(()=>!0);return e.query("GET_DROP_VALIDATION")?s.every(c=>ir("ALLOW_HOPPER_ITEM",c,{query:e.query}).every(m=>m===!0)&&l(c)):!0},{filterItems:s=>{const l=e.query("GET_IGNORED_FILES");return s.filter(u=>tr(u)?!l.includes(u.name.toLowerCase()):!0)},catchesDropsOnPage:e.query("GET_DROP_ON_PAGE"),requiresDropOnElement:e.query("GET_DROP_ON_ELEMENT")});r.onload=(s,l)=>{const c=e.ref.list.childViews[0].childViews.filter(f=>f.rect.element.height),m=e.query("GET_ACTIVE_ITEMS").map(f=>c.find(g=>g.id===f.id)).filter(f=>f);en("ADD_ITEMS",s,{dispatch:e.dispatch}).then(f=>{if(uo(e,f))return!1;e.dispatch("ADD_ITEMS",{items:f,index:nE(e.ref.list,m,l),interactionMethod:Ht.DROP})}),e.dispatch("DID_DROP",{position:l}),e.dispatch("DID_END_DRAG",{position:l})},r.ondragstart=s=>{e.dispatch("DID_START_DRAG",{position:s})},r.ondrag=Pc(s=>{e.dispatch("DID_DRAG",{position:s})}),r.ondragend=s=>{e.dispatch("DID_END_DRAG",{position:s})},e.ref.hopper=r,e.ref.drip=e.appendChildView(e.createChildView(lv))}else!a&&e.ref.hopper&&(e.ref.hopper.destroy(),e.ref.hopper=null,e.removeChildView(e.ref.drip))},Ks=(e,t)=>{const n=e.query("GET_ALLOW_BROWSE"),a=e.query("GET_DISABLED"),r=n&&!a;r&&!e.ref.browser?e.ref.browser=e.appendChildView(e.createChildView(Qh,{...t,onload:s=>{en("ADD_ITEMS",s,{dispatch:e.dispatch}).then(l=>{if(uo(e,l))return!1;e.dispatch("ADD_ITEMS",{items:l,index:-1,interactionMethod:Ht.BROWSE})})}}),0):!r&&e.ref.browser&&(e.removeChildView(e.ref.browser),e.ref.browser=null)},Xs=e=>{const t=e.query("GET_ALLOW_PASTE"),n=e.query("GET_DISABLED"),a=t&&!n;a&&!e.ref.paster?(e.ref.paster=Hv(),e.ref.paster.onload=r=>{en("ADD_ITEMS",r,{dispatch:e.dispatch}).then(s=>{if(uo(e,s))return!1;e.dispatch("ADD_ITEMS",{items:s,index:-1,interactionMethod:Ht.PASTE})})}):!a&&e.ref.paster&&(e.ref.paster.destroy(),e.ref.paster=null)},rE=Tt({DID_SET_ALLOW_BROWSE:({root:e,props:t})=>{Ks(e,t)},DID_SET_ALLOW_DROP:({root:e})=>{zs(e)},DID_SET_ALLOW_PASTE:({root:e})=>{Xs(e)},DID_SET_DISABLED:({root:e,props:t})=>{zs(e),Xs(e),Ks(e,t),e.query("GET_DISABLED")?e.element.dataset.disabled="disabled":e.element.removeAttribute("data-disabled")}}),aE=Ze({name:"root",read:({root:e})=>{e.ref.measure&&(e.ref.measureHeight=e.ref.measure.offsetHeight)},create:Zv,write:Qv,destroy:({root:e})=>{e.ref.paster&&e.ref.paster.destroy(),e.ref.hopper&&e.ref.hopper.destroy(),e.element.removeEventListener("touchmove",Va),e.element.removeEventListener("gesturestart",Va)},mixins:{styles:["height"]}}),iE=(e={})=>{let t=null;const n=$a(),a=Im(og(n),[wg,cg(n)],[Xg,lg(n)]);a.dispatch("SET_OPTIONS",{options:e});const r=()=>{document.hidden||a.dispatch("KICK")};document.addEventListener("visibilitychange",r);let s=null,l=!1,u=!1,c=null,m=null;const f=()=>{l||(l=!0),clearTimeout(s),s=setTimeout(()=>{l=!1,c=null,m=null,u&&(u=!1,a.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",f);const g=aE(a,{id:Ji()});let _=!1,I=!1;const E={_read:()=>{l&&(m=window.innerWidth,c||(c=m),!u&&m!==c&&(a.dispatch("DID_START_RESIZE"),u=!0)),I&&_&&(_=g.element.offsetParent===null),!_&&(g._read(),I=g.rect.element.hidden)},_write:x=>{const U=a.processActionQueue().filter(j=>!/^SET_/.test(j.type));_&&!U.length||(v(U),_=g._write(x,U,u),pg(a.query("GET_ITEMS")),_&&a.processDispatchQueue())}},w=x=>U=>{const j={type:x};if(!U)return j;if(U.hasOwnProperty("error")&&(j.error=U.error?{...U.error}:null),U.status&&(j.status={...U.status}),U.file&&(j.output=U.file),U.source)j.file=U.source;else if(U.item||U.id){const q=U.item?U.item:a.query("GET_ITEM",U.id);j.file=q?Ot(q):null}return U.items&&(j.items=U.items.map(Ot)),/progress/.test(x)&&(j.progress=U.progress),U.hasOwnProperty("origin")&&U.hasOwnProperty("target")&&(j.origin=U.origin,j.target=U.target),j},S={DID_DESTROY:w("destroy"),DID_INIT:w("init"),DID_THROW_MAX_FILES:w("warning"),DID_INIT_ITEM:w("initfile"),DID_START_ITEM_LOAD:w("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:w("addfileprogress"),DID_LOAD_ITEM:w("addfile"),DID_THROW_ITEM_INVALID:[w("error"),w("addfile")],DID_THROW_ITEM_LOAD_ERROR:[w("error"),w("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[w("error"),w("removefile")],DID_PREPARE_OUTPUT:w("preparefile"),DID_START_ITEM_PROCESSING:w("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:w("processfileprogress"),DID_ABORT_ITEM_PROCESSING:w("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:w("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:w("processfiles"),DID_REVERT_ITEM_PROCESSING:w("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[w("error"),w("processfile")],DID_REMOVE_ITEM:w("removefile"),DID_UPDATE_ITEMS:w("updatefiles"),DID_ACTIVATE_ITEM:w("activatefile"),DID_REORDER_ITEMS:w("reorderfiles")},C=x=>{const U={pond:ne,...x};delete U.type,g.element.dispatchEvent(new CustomEvent(`FilePond:${x.type}`,{detail:U,bubbles:!0,cancelable:!0,composed:!0}));const j=[];x.hasOwnProperty("error")&&j.push(x.error),x.hasOwnProperty("file")&&j.push(x.file);const q=["type","error","file"];Object.keys(x).filter(de=>!q.includes(de)).forEach(de=>j.push(x[de])),ne.fire(x.type,...j);const ie=a.query(`GET_ON${x.type.toUpperCase()}`);ie&&ie(...j)},v=x=>{x.length&&x.filter(U=>S[U.type]).forEach(U=>{const j=S[U.type];(Array.isArray(j)?j:[j]).forEach(q=>{U.type==="DID_INIT_ITEM"?C(q(U.data)):setTimeout(()=>{C(q(U.data))},0)})})},T=x=>a.dispatch("SET_OPTIONS",{options:x}),R=x=>a.query("GET_ACTIVE_ITEM",x),A=x=>new Promise((U,j)=>{a.dispatch("REQUEST_ITEM_PREPARE",{query:x,success:q=>{U(q)},failure:q=>{j(q)}})}),G=(x,U={})=>new Promise((j,q)=>{y([{source:x,options:U}],{index:U.index}).then(ie=>j(ie&&ie[0])).catch(q)}),B=x=>x.file&&x.id,b=(x,U)=>(typeof x=="object"&&!B(x)&&!U&&(U=x,x=void 0),a.dispatch("REMOVE_ITEM",{...U,query:x}),a.query("GET_ACTIVE_ITEM",x)===null),y=(...x)=>new Promise((U,j)=>{const q=[],ie={};if(ja(x[0]))q.push.apply(q,x[0]),Object.assign(ie,x[1]||{});else{const de=x[x.length-1];typeof de=="object"&&!(de instanceof Blob)&&Object.assign(ie,x.pop()),q.push(...x)}a.dispatch("ADD_ITEMS",{items:q,index:ie.index,interactionMethod:Ht.API,success:U,failure:j})}),W=()=>a.query("GET_ACTIVE_ITEMS"),V=x=>new Promise((U,j)=>{a.dispatch("REQUEST_ITEM_PROCESSING",{query:x,success:q=>{U(q)},failure:q=>{j(q)}})}),P=(...x)=>{const U=Array.isArray(x[0])?x[0]:x,j=U.length?U:W();return Promise.all(j.map(A))},z=(...x)=>{const U=Array.isArray(x[0])?x[0]:x;if(!U.length){const j=W().filter(q=>!(q.status===he.IDLE&&q.origin===it.LOCAL)&&q.status!==he.PROCESSING&&q.status!==he.PROCESSING_COMPLETE&&q.status!==he.PROCESSING_REVERT_ERROR);return Promise.all(j.map(V))}return Promise.all(U.map(V))},k=(...x)=>{const U=Array.isArray(x[0])?x[0]:x;let j;typeof U[U.length-1]=="object"?j=U.pop():Array.isArray(x[0])&&(j=x[1]);const q=W();return U.length?U.map(de=>Kn(de)?q[de]?q[de].id:null:de).filter(de=>de).map(de=>b(de,j)):Promise.all(q.map(de=>b(de,j)))},ne={...Ka(),...E,...sg(a,n),setOptions:T,addFile:G,addFiles:y,getFile:R,processFile:V,prepareFile:A,removeFile:b,moveFile:(x,U)=>a.dispatch("MOVE_ITEM",{query:x,index:U}),getFiles:W,processFiles:z,removeFiles:k,prepareFiles:P,sort:x=>a.dispatch("SORT",{compare:x}),browse:()=>{var x=g.element.querySelector("input[type=file]");x&&x.click()},destroy:()=>{ne.fire("destroy",g.element),a.dispatch("ABORT_ALL"),g._destroy(),window.removeEventListener("resize",f),document.removeEventListener("visibilitychange",r),a.dispatch("DID_DESTROY")},insertBefore:x=>bs(g.element,x),insertAfter:x=>ys(g.element,x),appendTo:x=>x.appendChild(g.element),replaceElement:x=>{bs(g.element,x),x.parentNode.removeChild(x),t=x},restoreElement:()=>{t&&(ys(t,g.element),g.element.parentNode.removeChild(g.element),t=null)},isAttachedTo:x=>g.element===x||t===x,element:{get:()=>g.element},status:{get:()=>a.query("GET_STATUS")}};return a.dispatch("DID_INIT"),Gn(ne)},Mc=(e={})=>{const t={};return He($a(),(a,r)=>{t[a]=r[0]}),iE({...t,...e})},oE=e=>e.charAt(0).toLowerCase()+e.slice(1),sE=e=>Rc(e.replace(/^data-/,"")),Cc=(e,t)=>{He(t,(n,a)=>{He(e,(r,s)=>{const l=new RegExp(n);if(!l.test(r)||(delete e[r],a===!1))return;if(yt(a)){e[a]=s;return}const c=a.group;ot(a)&&!e[c]&&(e[c]={}),e[c][oE(r.replace(l,""))]=s}),a.mapping&&Cc(e[a.group],a.mapping)})},lE=(e,t={})=>{const n=[];He(e.attributes,r=>{n.push(e.attributes[r])});const a=n.filter(r=>r.name).reduce((r,s)=>{const l=Xe(e,s.name);return r[sE(s.name)]=l===s.name?!0:l,r},{});return Cc(a,t),a},cE=(e,t={})=>{const n={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};ir("SET_ATTRIBUTE_TO_OPTION_MAP",n);const a={...t},r=lE(e.nodeName==="FIELDSET"?e.querySelector("input[type=file]"):e,n);Object.keys(r).forEach(l=>{ot(r[l])?(ot(a[l])||(a[l]={}),Object.assign(a[l],r[l])):a[l]=r[l]}),a.files=(t.files||[]).concat(Array.from(e.querySelectorAll("input:not([type=file])")).map(l=>({source:l.value,options:{type:l.dataset.type}})));const s=Mc(a);return e.files&&Array.from(e.files).forEach(l=>{s.addFile(l)}),s.replaceElement(e),s},uE=(...e)=>ym(e[0])?cE(...e):Mc(...e),dE=["fire","_read","_write"],Zs=e=>{const t={};return Jl(e,t,dE),t},pE=(e,t)=>e.replace(/(?:{([a-zA-Z]+)})/g,(n,a)=>t[a]),fE=e=>{const t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(t),a=new Worker(n);return{transfer:(r,s)=>{},post:(r,s,l)=>{const u=Ji();a.onmessage=c=>{c.data.id===u&&s(c.data.message)},a.postMessage({id:u,message:r},l)},terminate:()=>{a.terminate(),URL.revokeObjectURL(n)}}},mE=e=>new Promise((t,n)=>{const a=new Image;a.onload=()=>{t(a)},a.onerror=r=>{n(r)},a.src=e}),Ac=(e,t)=>{const n=e.slice(0,e.size,e.type);return n.lastModifiedDate=e.lastModifiedDate,n.name=t,n},gE=e=>Ac(e,e.name),Qs=[],hE=e=>{if(Qs.includes(e))return;Qs.push(e);const t=e({addFilter:mg,utils:{Type:Y,forin:He,isString:yt,isFile:tr,toNaturalFileSize:dc,replaceInString:pE,getExtensionFromFilename:Xa,getFilenameWithoutExtension:lc,guesstimateMimeType:Tc,getFileFromBlob:Rr,getFilenameFromURL:ia,createRoute:Tt,createWorker:fE,createView:Ze,createItemAPI:Ot,loadImage:mE,copyFile:gE,renameFile:Ac,createBlob:ic,applyFilterChain:en,text:qe,getNumericAspectRatioFromString:nc},views:{fileActionButton:uc}});gg(t.options)},vE=()=>Object.prototype.toString.call(window.operamini)==="[object OperaMini]",EE=()=>"Promise"in window,bE=()=>"slice"in Blob.prototype,yE=()=>"URL"in window&&"createObjectURL"in window.URL,IE=()=>"visibilityState"in document,TE=()=>"performance"in window,_E=()=>"supports"in(window.CSS||{}),DE=()=>/MSIE|Trident/.test(window.navigator.userAgent),Gi=(()=>{const e=ql()&&!vE()&&IE()&&EE()&&bE()&&yE()&&TE()&&(_E()||DE());return()=>e})(),Ln={apps:[]},wE="filepond",or=()=>{};let Js={},xa=or,vi=or,el=or,tl=or,nl=or,rl=or,al=or;if(Gi()){jm(()=>{Ln.apps.forEach(n=>n._read())},n=>{Ln.apps.forEach(a=>a._write(n))});const e=()=>{document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:Gi,create:xa,destroy:vi,parse:el,find:tl,registerPlugin:nl,setOptions:al}})),document.removeEventListener("DOMContentLoaded",e)};document.readyState!=="loading"?setTimeout(()=>e(),0):document.addEventListener("DOMContentLoaded",e);const t=()=>He($a(),(n,a)=>{Js[n]=a[1]});Js={},t(),xa=(...n)=>{const a=uE(...n);return a.on("destroy",vi),Ln.apps.push(a),Zs(a)},vi=n=>{const a=Ln.apps.findIndex(r=>r.isAttachedTo(n));return a>=0?(Ln.apps.splice(a,1)[0].restoreElement(),!0):!1},el=n=>Array.from(n.querySelectorAll(`.${wE}`)).filter(s=>!Ln.apps.find(l=>l.isAttachedTo(s))).map(s=>xa(s)),tl=n=>{const a=Ln.apps.find(r=>r.isAttachedTo(n));return a?Zs(a):null},nl=(...n)=>{n.forEach(hE),t()},rl=()=>{const n={};return He($a(),(a,r)=>{n[a]=r[0]}),n},al=n=>(ot(n)&&(Ln.apps.forEach(a=>{a.setOptions(n)}),hg(n)),rl())}/*!
 * react-filepond v7.1.2
 * A handy FilePond adapter component for React
 * 
 * Copyright (c) 2022 PQINA
 * https://pqina.nl/filepond
 * 
 * Licensed under the MIT license.
 */const OE=Gi(),SE=["setOptions","on","off","onOnce","appendTo","insertAfter","insertBefore","isAttachedTo","replaceElement","restoreElement","destroy"];class Ub extends id.Component{constructor(t){super(t),this.allowFilesSync=!0}componentDidMount(){if(this._input=this._element.querySelector('input[type="file"]'),this._inputClone=this._input.cloneNode(),!OE)return;const t=Object.assign({},this.props);if(t.onupdatefiles){const n=t.onupdatefiles;t.onupdatefiles=a=>{this.allowFilesSync=!1,n(a)}}this._pond=xa(this._input,t),Object.keys(this._pond).filter(n=>!SE.includes(n)).forEach(n=>{this[n]=this._pond[n]})}componentWillUnmount(){if(!this._pond)return;const t=document.createElement("div");t.append(this._pond.element),t.id="foo",this._pond.destroy(),this._pond=void 0,this._element.append(this._inputClone)}shouldComponentUpdate(){return this.allowFilesSync?!0:(this.allowFilesSync=!0,!1)}componentDidUpdate(){if(!this._pond)return;const t=Object.assign({},this.props);delete t.onupdatefiles,this._pond.setOptions(t)}render(){const{id:t,name:n,className:a,allowMultiple:r,required:s,captureMethod:l,acceptedFileTypes:u}=this.props;return h.createElement("div",{className:"filepond--wrapper",ref:c=>this._element=c},h.createElement("input",{type:"file",name:n,id:t,accept:u,multiple:r,required:s,className:a,capture:l}))}}/*!
 * FilePondPluginImageExifOrientation 1.0.11
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const RE=e=>/^image\/jpeg/.test(e.type),qn={JPEG:65496,APP1:65505,EXIF:1165519206,TIFF:18761,Orientation:274,Unknown:65280},zn=(e,t,n=!1)=>e.getUint16(t,n),il=(e,t,n=!1)=>e.getUint32(t,n),PE=e=>new Promise((t,n)=>{const a=new FileReader;a.onload=function(r){const s=new DataView(r.target.result);if(zn(s,0)!==qn.JPEG){t(-1);return}const l=s.byteLength;let u=2;for(;u<l;){const c=zn(s,u);if(u+=2,c===qn.APP1){if(il(s,u+=2)!==qn.EXIF)break;const m=zn(s,u+=6)===qn.TIFF;u+=il(s,u+4,m);const f=zn(s,u,m);u+=2;for(let g=0;g<f;g++)if(zn(s,u+g*12,m)===qn.Orientation){t(zn(s,u+g*12+8,m));return}}else{if((c&qn.Unknown)!==qn.Unknown)break;u+=zn(s,u)}}t(-1)},a.readAsArrayBuffer(e.slice(0,64*1024))}),ME=(()=>typeof window<"u"&&typeof window.document<"u")(),CE=()=>ME,AE="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QA6RXhpZgAATU0AKgAAAAgAAwESAAMAAAABAAYAAAEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wAALCAABAAIBASIA/8QAJgABAAAAAAAAAAAAAAAAAAAAAxABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQAAPwBH/9k=";let xc;const La=CE()?new Image:{};La.onload=()=>xc=La.naturalWidth>La.naturalHeight;La.src=AE;const xE=()=>xc,LE=({addFilter:e,utils:t})=>{const{Type:n,isFile:a}=t;return e("DID_LOAD_ITEM",(r,{query:s})=>new Promise((l,u)=>{const c=r.file;if(!a(c)||!RE(c)||!s("GET_ALLOW_IMAGE_EXIF_ORIENTATION")||!xE())return l(r);PE(c).then(m=>{r.setMetadata("exif",{orientation:m}),l(r)})})),{options:{allowImageExifOrientation:[!0,n.BOOLEAN]}}},NE=typeof window<"u"&&typeof window.document<"u";NE&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:LE}));/*!
 * FilePondPluginImagePreview 4.6.12
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const kE=e=>/^image/.test(e.type),ol=(e,t)=>na(e.x*t,e.y*t),sl=(e,t)=>na(e.x+t.x,e.y+t.y),BE=e=>{const t=Math.sqrt(e.x*e.x+e.y*e.y);return t===0?{x:0,y:0}:na(e.x/t,e.y/t)},Ra=(e,t,n)=>{const a=Math.cos(t),r=Math.sin(t),s=na(e.x-n.x,e.y-n.y);return na(n.x+a*s.x-r*s.y,n.y+r*s.x+a*s.y)},na=(e=0,t=0)=>({x:e,y:t}),St=(e,t,n=1,a)=>{if(typeof e=="string")return parseFloat(e)*n;if(typeof e=="number")return e*(a?t[a]:Math.min(t.width,t.height))},FE=(e,t,n)=>{const a=e.borderStyle||e.lineStyle||"solid",r=e.backgroundColor||e.fontColor||"transparent",s=e.borderColor||e.lineColor||"transparent",l=St(e.borderWidth||e.lineWidth,t,n),u=e.lineCap||"round",c=e.lineJoin||"round",m=typeof a=="string"?"":a.map(g=>St(g,t,n)).join(","),f=e.opacity||1;return{"stroke-linecap":u,"stroke-linejoin":c,"stroke-width":l||0,"stroke-dasharray":m,stroke:s,fill:r,opacity:f}},Ut=e=>e!=null,GE=(e,t,n=1)=>{let a=St(e.x,t,n,"width")||St(e.left,t,n,"width"),r=St(e.y,t,n,"height")||St(e.top,t,n,"height"),s=St(e.width,t,n,"width"),l=St(e.height,t,n,"height"),u=St(e.right,t,n,"width"),c=St(e.bottom,t,n,"height");return Ut(r)||(Ut(l)&&Ut(c)?r=t.height-l-c:r=c),Ut(a)||(Ut(s)&&Ut(u)?a=t.width-s-u:a=u),Ut(s)||(Ut(a)&&Ut(u)?s=t.width-a-u:s=0),Ut(l)||(Ut(r)&&Ut(c)?l=t.height-r-c:l=0),{x:a||0,y:r||0,width:s||0,height:l||0}},$E=e=>e.map((t,n)=>`${n===0?"M":"L"} ${t.x} ${t.y}`).join(" "),dn=(e,t)=>Object.keys(t).forEach(n=>e.setAttribute(n,t[n])),UE="http://www.w3.org/2000/svg",Ir=(e,t)=>{const n=document.createElementNS(UE,e);return t&&dn(n,t),n},VE=e=>dn(e,{...e.rect,...e.styles}),HE=e=>{const t=e.rect.x+e.rect.width*.5,n=e.rect.y+e.rect.height*.5,a=e.rect.width*.5,r=e.rect.height*.5;return dn(e,{cx:t,cy:n,rx:a,ry:r,...e.styles})},YE={contain:"xMidYMid meet",cover:"xMidYMid slice"},WE=(e,t)=>{dn(e,{...e.rect,...e.styles,preserveAspectRatio:YE[t.fit]||"none"})},jE={left:"start",center:"middle",right:"end"},qE=(e,t,n,a)=>{const r=St(t.fontSize,n,a),s=t.fontFamily||"sans-serif",l=t.fontWeight||"normal",u=jE[t.textAlign]||"start";dn(e,{...e.rect,...e.styles,"stroke-width":0,"font-weight":l,"font-size":r,"font-family":s,"text-anchor":u}),e.text!==t.text&&(e.text=t.text,e.textContent=t.text.length?t.text:" ")},zE=(e,t,n,a)=>{dn(e,{...e.rect,...e.styles,fill:"none"});const r=e.childNodes[0],s=e.childNodes[1],l=e.childNodes[2],u=e.rect,c={x:e.rect.x+e.rect.width,y:e.rect.y+e.rect.height};if(dn(r,{x1:u.x,y1:u.y,x2:c.x,y2:c.y}),!t.lineDecoration)return;s.style.display="none",l.style.display="none";const m=BE({x:c.x-u.x,y:c.y-u.y}),f=St(.05,n,a);if(t.lineDecoration.indexOf("arrow-begin")!==-1){const g=ol(m,f),_=sl(u,g),I=Ra(u,2,_),E=Ra(u,-2,_);dn(s,{style:"display:block;",d:`M${I.x},${I.y} L${u.x},${u.y} L${E.x},${E.y}`})}if(t.lineDecoration.indexOf("arrow-end")!==-1){const g=ol(m,-f),_=sl(c,g),I=Ra(c,2,_),E=Ra(c,-2,_);dn(l,{style:"display:block;",d:`M${I.x},${I.y} L${c.x},${c.y} L${E.x},${E.y}`})}},KE=(e,t,n,a)=>{dn(e,{...e.styles,fill:"none",d:$E(t.points.map(r=>({x:St(r.x,n,a,"width"),y:St(r.y,n,a,"height")})))})},Pa=e=>t=>Ir(e,{id:t.id}),XE=e=>{const t=Ir("image",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return t.onload=()=>{t.setAttribute("opacity",e.opacity||1)},t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.src),t},ZE=e=>{const t=Ir("g",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round"}),n=Ir("line");t.appendChild(n);const a=Ir("path");t.appendChild(a);const r=Ir("path");return t.appendChild(r),t},QE={image:XE,rect:Pa("rect"),ellipse:Pa("ellipse"),text:Pa("text"),path:Pa("path"),line:ZE},JE={rect:VE,ellipse:HE,image:WE,text:qE,path:KE,line:zE},eb=(e,t)=>QE[e](t),tb=(e,t,n,a,r)=>{t!=="path"&&(e.rect=GE(n,a,r)),e.styles=FE(n,a,r),JE[t](e,n,a,r)},nb=["x","y","left","top","right","bottom","width","height"],rb=e=>typeof e=="string"&&/%/.test(e)?parseFloat(e)/100:e,ab=e=>{const[t,n]=e,a=n.points?{}:nb.reduce((r,s)=>(r[s]=rb(n[s]),r),{});return[t,{zIndex:0,...n,...a}]},ib=(e,t)=>e[1].zIndex>t[1].zIndex?1:e[1].zIndex<t[1].zIndex?-1:0,ob=e=>e.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:({root:t,props:n})=>{if(!n.dirty)return;const{crop:a,resize:r,markup:s}=n,l=n.width,u=n.height;let c=a.width,m=a.height;if(r){const{size:I}=r;let E=I&&I.width,w=I&&I.height;const S=r.mode,C=r.upscale;E&&!w&&(w=E),w&&!E&&(E=w);const v=c<E&&m<w;if(!v||v&&C){let T=E/c,R=w/m;if(S==="force")c=E,m=w;else{let A;S==="cover"?A=Math.max(T,R):S==="contain"&&(A=Math.min(T,R)),c=c*A,m=m*A}}}const f={width:l,height:u};t.element.setAttribute("width",f.width),t.element.setAttribute("height",f.height);const g=Math.min(l/c,u/m);t.element.innerHTML="";const _=t.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");s.filter(_).map(ab).sort(ib).forEach(I=>{const[E,w]=I,S=eb(E,w);tb(S,E,w,f,g),t.element.appendChild(S)})}}),Xr=(e,t)=>({x:e,y:t}),sb=(e,t)=>e.x*t.x+e.y*t.y,ll=(e,t)=>Xr(e.x-t.x,e.y-t.y),lb=(e,t)=>sb(ll(e,t),ll(e,t)),cl=(e,t)=>Math.sqrt(lb(e,t)),ul=(e,t)=>{const n=e,a=1.5707963267948966,r=t,s=1.5707963267948966-t,l=Math.sin(a),u=Math.sin(r),c=Math.sin(s),m=Math.cos(s),f=n/l,g=f*u,_=f*c;return Xr(m*g,m*_)},cb=(e,t)=>{const n=e.width,a=e.height,r=ul(n,t),s=ul(a,t),l=Xr(e.x+Math.abs(r.x),e.y-Math.abs(r.y)),u=Xr(e.x+e.width+Math.abs(s.y),e.y+Math.abs(s.x)),c=Xr(e.x-Math.abs(s.y),e.y+e.height-Math.abs(s.x));return{width:cl(l,u),height:cl(l,c)}},ub=(e,t,n=1)=>{const a=e.height/e.width;let r=1,s=t,l=1,u=a;u>s&&(u=s,l=u/a);const c=Math.max(r/l,s/u),m=e.width/(n*c*l),f=m*t;return{width:m,height:f}},Lc=(e,t,n,a)=>{const r=a.x>.5?1-a.x:a.x,s=a.y>.5?1-a.y:a.y,l=r*2*e.width,u=s*2*e.height,c=cb(t,n);return Math.max(c.width/l,c.height/u)},Nc=(e,t)=>{let n=e.width,a=n*t;a>e.height&&(a=e.height,n=a/t);const r=(e.width-n)*.5,s=(e.height-a)*.5;return{x:r,y:s,width:n,height:a}},db=(e,t={})=>{let{zoom:n,rotation:a,center:r,aspectRatio:s}=t;s||(s=e.height/e.width);const l=ub(e,s,n),u={x:l.width*.5,y:l.height*.5},c={x:0,y:0,width:l.width,height:l.height,center:u},m=typeof t.scaleToFit>"u"||t.scaleToFit,f=Lc(e,Nc(c,s),a,m?r:{x:.5,y:.5}),g=n*f;return{widthFloat:l.width/g,heightFloat:l.height/g,width:Math.round(l.width/g),height:Math.round(l.height/g)}},un={type:"spring",stiffness:.5,damping:.45,mass:10},pb=e=>e.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:({root:t,props:n})=>{t.appendChild(n.image)}}),fb=e=>e.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:un,originY:un,scaleX:un,scaleY:un,translateX:un,translateY:un,rotateZ:un}},create:({root:t,props:n})=>{n.width=n.image.width,n.height=n.image.height,t.ref.bitmap=t.appendChildView(t.createChildView(pb(e),{image:n.image}))},write:({root:t,props:n})=>{const{flip:a}=n.crop,{bitmap:r}=t.ref;r.scaleX=a.horizontal?-1:1,r.scaleY=a.vertical?-1:1}}),mb=e=>e.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function({root:t,props:n}){n.background&&(t.element.style.backgroundColor=n.background)},create:({root:t,props:n})=>{t.ref.image=t.appendChildView(t.createChildView(fb(e),Object.assign({},n))),t.ref.createMarkup=()=>{t.ref.markup||(t.ref.markup=t.appendChildView(t.createChildView(ob(e),Object.assign({},n))))},t.ref.destroyMarkup=()=>{t.ref.markup&&(t.removeChildView(t.ref.markup),t.ref.markup=null)};const a=t.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");a!==null&&(a==="grid"?t.element.dataset.transparencyIndicator=a:t.element.dataset.transparencyIndicator="color")},write:({root:t,props:n,shouldOptimize:a})=>{const{crop:r,markup:s,resize:l,dirty:u,width:c,height:m}=n;t.ref.image.crop=r;const f={x:0,y:0,width:c,height:m,center:{x:c*.5,y:m*.5}},g={width:t.ref.image.width,height:t.ref.image.height},_={x:r.center.x*g.width,y:r.center.y*g.height},I={x:f.center.x-g.width*r.center.x,y:f.center.y-g.height*r.center.y},E=Math.PI*2+r.rotation%(Math.PI*2),w=r.aspectRatio||g.height/g.width,S=typeof r.scaleToFit>"u"||r.scaleToFit,C=Lc(g,Nc(f,w),E,S?r.center:{x:.5,y:.5}),v=r.zoom*C;s&&s.length?(t.ref.createMarkup(),t.ref.markup.width=c,t.ref.markup.height=m,t.ref.markup.resize=l,t.ref.markup.dirty=u,t.ref.markup.markup=s,t.ref.markup.crop=db(g,r)):t.ref.markup&&t.ref.destroyMarkup();const T=t.ref.image;if(a){T.originX=null,T.originY=null,T.translateX=null,T.translateY=null,T.rotateZ=null,T.scaleX=null,T.scaleY=null;return}T.originX=_.x,T.originY=_.y,T.translateX=I.x,T.translateY=I.y,T.rotateZ=E,T.scaleX=v,T.scaleY=v}}),gb=e=>e.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:un,scaleY:un,translateY:un,opacity:{type:"tween",duration:400}}},create:({root:t,props:n})=>{t.ref.clip=t.appendChildView(t.createChildView(mb(e),{id:n.id,image:n.image,crop:n.crop,markup:n.markup,resize:n.resize,dirty:n.dirty,background:n.background}))},write:({root:t,props:n,shouldOptimize:a})=>{const{clip:r}=t.ref,{image:s,crop:l,markup:u,resize:c,dirty:m}=n;if(r.crop=l,r.markup=u,r.resize=c,r.dirty=m,r.opacity=a?0:1,a||t.rect.element.hidden)return;const f=s.height/s.width;let g=l.aspectRatio||f;const _=t.rect.inner.width,I=t.rect.inner.height;let E=t.query("GET_IMAGE_PREVIEW_HEIGHT");const w=t.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),S=t.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),C=t.query("GET_PANEL_ASPECT_RATIO"),v=t.query("GET_ALLOW_MULTIPLE");C&&!v&&(E=_*C,g=C);let T=E!==null?E:Math.max(w,Math.min(_*g,S)),R=T/g;R>_&&(R=_,T=R*g),T>I&&(T=I,R=I/g),r.width=R,r.height=T}});let hb=`<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">
    <defs>
        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">
            <stop offset='50%' stop-color='#000000'/>
            <stop offset='56%' stop-color='#0a0a0a'/>
            <stop offset='63%' stop-color='#262626'/>
            <stop offset='69%' stop-color='#4f4f4f'/>
            <stop offset='75%' stop-color='#808080'/>
            <stop offset='81%' stop-color='#b1b1b1'/>
            <stop offset='88%' stop-color='#dadada'/>
            <stop offset='94%' stop-color='#f6f6f6'/>
            <stop offset='100%' stop-color='#ffffff'/>
        </radialGradient>
        <mask id="mask-__UID__">
            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>
        </mask>
    </defs>
    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>
</svg>`,dl=0;const vb=e=>e.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:({root:t,props:n})=>{let a=hb;if(document.querySelector("base")){const r=new URL(window.location.href.replace(window.location.hash,"")).href;a=a.replace(/url\(\#/g,"url("+r+"#")}dl++,t.element.classList.add(`filepond--image-preview-overlay-${n.status}`),t.element.innerHTML=a.replace(/__UID__/g,dl)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}}),Eb=function(){self.onmessage=e=>{createImageBitmap(e.data.message.file).then(t=>{self.postMessage({id:e.data.id,message:t},[t])})}},bb=function(){self.onmessage=e=>{const t=e.data.message.imageData,n=e.data.message.colorMatrix,a=t.data,r=a.length,s=n[0],l=n[1],u=n[2],c=n[3],m=n[4],f=n[5],g=n[6],_=n[7],I=n[8],E=n[9],w=n[10],S=n[11],C=n[12],v=n[13],T=n[14],R=n[15],A=n[16],G=n[17],B=n[18],b=n[19];let y=0,W=0,V=0,P=0,z=0;for(;y<r;y+=4)W=a[y]/255,V=a[y+1]/255,P=a[y+2]/255,z=a[y+3]/255,a[y]=Math.max(0,Math.min((W*s+V*l+P*u+z*c+m)*255,255)),a[y+1]=Math.max(0,Math.min((W*f+V*g+P*_+z*I+E)*255,255)),a[y+2]=Math.max(0,Math.min((W*w+V*S+P*C+z*v+T)*255,255)),a[y+3]=Math.max(0,Math.min((W*R+V*A+P*G+z*B+b)*255,255));self.postMessage({id:e.data.id,message:t},[t.data.buffer])}},yb=(e,t)=>{let n=new Image;n.onload=()=>{const a=n.naturalWidth,r=n.naturalHeight;n=null,t(a,r)},n.src=e},Ib={1:()=>[1,0,0,1,0,0],2:e=>[-1,0,0,1,e,0],3:(e,t)=>[-1,0,0,-1,e,t],4:(e,t)=>[1,0,0,-1,0,t],5:()=>[0,1,1,0,0,0],6:(e,t)=>[0,1,-1,0,t,0],7:(e,t)=>[0,-1,-1,0,t,e],8:e=>[0,-1,1,0,0,e]},Tb=(e,t,n,a)=>{a!==-1&&e.transform.apply(e,Ib[a](t,n))},_b=(e,t,n,a)=>{t=Math.round(t),n=Math.round(n);const r=document.createElement("canvas");r.width=t,r.height=n;const s=r.getContext("2d");return a>=5&&a<=8&&([t,n]=[n,t]),Tb(s,t,n,a),s.drawImage(e,0,0,t,n),r},kc=e=>/^image/.test(e.type)&&!/svg/.test(e.type),Db=10,wb=10,Ob=e=>{const t=Math.min(Db/e.width,wb/e.height),n=document.createElement("canvas"),a=n.getContext("2d"),r=n.width=Math.ceil(e.width*t),s=n.height=Math.ceil(e.height*t);a.drawImage(e,0,0,r,s);let l=null;try{l=a.getImageData(0,0,r,s).data}catch{return null}const u=l.length;let c=0,m=0,f=0,g=0;for(;g<u;g+=4)c+=l[g]*l[g],m+=l[g+1]*l[g+1],f+=l[g+2]*l[g+2];return c=Ei(c,u),m=Ei(m,u),f=Ei(f,u),{r:c,g:m,b:f}},Ei=(e,t)=>Math.floor(Math.sqrt(e/(t/4))),Sb=(e,t)=>(t=t||document.createElement("canvas"),t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t),Rb=e=>{let t;try{t=new ImageData(e.width,e.height)}catch{t=document.createElement("canvas").getContext("2d").createImageData(e.width,e.height)}return t.data.set(new Uint8ClampedArray(e.data)),t},Pb=e=>new Promise((t,n)=>{const a=new Image;a.crossOrigin="Anonymous",a.onload=()=>{t(a)},a.onerror=r=>{n(r)},a.src=e}),Mb=e=>{const t=vb(e),n=gb(e),{createWorker:a}=e.utils,r=(v,T,R)=>new Promise(A=>{v.ref.imageData||(v.ref.imageData=R.getContext("2d").getImageData(0,0,R.width,R.height));const G=Rb(v.ref.imageData);if(!T||T.length!==20)return R.getContext("2d").putImageData(G,0,0),A();const B=a(bb);B.post({imageData:G,colorMatrix:T},b=>{R.getContext("2d").putImageData(b,0,0),B.terminate(),A()},[G.data.buffer])}),s=(v,T)=>{v.removeChildView(T),T.image.width=1,T.image.height=1,T._destroy()},l=({root:v})=>{const T=v.ref.images.shift();return T.opacity=0,T.translateY=-15,v.ref.imageViewBin.push(T),T},u=({root:v,props:T,image:R})=>{const A=T.id,G=v.query("GET_ITEM",{id:A});if(!G)return;const B=G.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},b=v.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR");let y,W,V=!1;v.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(y=G.getMetadata("markup")||[],W=G.getMetadata("resize"),V=!0);const P=v.appendChildView(v.createChildView(n,{id:A,image:R,crop:B,resize:W,markup:y,dirty:V,background:b,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),v.childViews.length);v.ref.images.push(P),P.opacity=1,P.scaleX=1,P.scaleY=1,P.translateY=0,setTimeout(()=>{v.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:A})},250)},c=({root:v,props:T})=>{const R=v.query("GET_ITEM",{id:T.id});if(!R)return;const A=v.ref.images[v.ref.images.length-1];A.crop=R.getMetadata("crop"),A.background=v.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),v.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(A.dirty=!0,A.resize=R.getMetadata("resize"),A.markup=R.getMetadata("markup"))},m=({root:v,props:T,action:R})=>{if(!/crop|filter|markup|resize/.test(R.change.key)||!v.ref.images.length)return;const A=v.query("GET_ITEM",{id:T.id});if(A){if(/filter/.test(R.change.key)){const G=v.ref.images[v.ref.images.length-1];r(v,R.change.value,G.image);return}if(/crop|markup|resize/.test(R.change.key)){const G=A.getMetadata("crop"),B=v.ref.images[v.ref.images.length-1];if(G&&G.aspectRatio&&B.crop&&B.crop.aspectRatio&&Math.abs(G.aspectRatio-B.crop.aspectRatio)>1e-5){const b=l({root:v});u({root:v,props:T,image:Sb(b.image)})}else c({root:v,props:T})}}},f=v=>{const R=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./),A=R?parseInt(R[1]):null;return A!==null&&A<=58?!1:"createImageBitmap"in window&&kc(v)},g=({root:v,props:T})=>{const{id:R}=T,A=v.query("GET_ITEM",R);if(!A)return;const G=URL.createObjectURL(A.file);yb(G,(B,b)=>{v.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:R,width:B,height:b})})},_=({root:v,props:T})=>{const{id:R}=T,A=v.query("GET_ITEM",R);if(!A)return;const G=URL.createObjectURL(A.file),B=()=>{Pb(G).then(b)},b=y=>{URL.revokeObjectURL(G);const V=(A.getMetadata("exif")||{}).orientation||-1;let{width:P,height:z}=y;if(!P||!z)return;V>=5&&V<=8&&([P,z]=[z,P]);const k=Math.max(1,window.devicePixelRatio*.75),x=v.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*k,U=z/P,j=v.rect.element.width,q=v.rect.element.height;let ie=j,de=ie*U;U>1?(ie=Math.min(P,j*x),de=ie*U):(de=Math.min(z,q*x),ie=de/U);const ke=_b(y,ie,de,V),Ue=()=>{const Ie=v.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?Ob(data):null;A.setMetadata("color",Ie,!0),"close"in y&&y.close(),v.ref.overlayShadow.opacity=1,u({root:v,props:T,image:ke})},me=A.getMetadata("filter");me?r(v,me,ke).then(Ue):Ue()};if(f(A.file)){const y=a(Eb);y.post({file:A.file},W=>{if(y.terminate(),!W){B();return}b(W)})}else B()},I=({root:v})=>{const T=v.ref.images[v.ref.images.length-1];T.translateY=0,T.scaleX=1,T.scaleY=1,T.opacity=1},E=({root:v})=>{v.ref.overlayShadow.opacity=1,v.ref.overlayError.opacity=0,v.ref.overlaySuccess.opacity=0},w=({root:v})=>{v.ref.overlayShadow.opacity=.25,v.ref.overlayError.opacity=1},S=({root:v})=>{v.ref.overlayShadow.opacity=.25,v.ref.overlaySuccess.opacity=1},C=({root:v})=>{v.ref.images=[],v.ref.imageData=null,v.ref.imageViewBin=[],v.ref.overlayShadow=v.appendChildView(v.createChildView(t,{opacity:0,status:"idle"})),v.ref.overlaySuccess=v.appendChildView(v.createChildView(t,{opacity:0,status:"success"})),v.ref.overlayError=v.appendChildView(v.createChildView(t,{opacity:0,status:"failure"}))};return e.utils.createView({name:"image-preview-wrapper",create:C,styles:["height"],apis:["height"],destroy:({root:v})=>{v.ref.images.forEach(T=>{T.image.width=1,T.image.height=1})},didWriteView:({root:v})=>{v.ref.images.forEach(T=>{T.dirty=!1})},write:e.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:I,DID_IMAGE_PREVIEW_CONTAINER_CREATE:g,DID_FINISH_CALCULATE_PREVIEWSIZE:_,DID_UPDATE_ITEM_METADATA:m,DID_THROW_ITEM_LOAD_ERROR:w,DID_THROW_ITEM_PROCESSING_ERROR:w,DID_THROW_ITEM_INVALID:w,DID_COMPLETE_ITEM_PROCESSING:S,DID_START_ITEM_PROCESSING:E,DID_REVERT_ITEM_PROCESSING:E},({root:v})=>{const T=v.ref.imageViewBin.filter(R=>R.opacity===0);v.ref.imageViewBin=v.ref.imageViewBin.filter(R=>R.opacity>0),T.forEach(R=>s(v,R)),T.length=0})})},Cb=e=>{const{addFilter:t,utils:n}=e,{Type:a,createRoute:r,isFile:s}=n,l=Mb(e);return t("CREATE_VIEW",u=>{const{is:c,view:m,query:f}=u;if(!c("file")||!f("GET_ALLOW_IMAGE_PREVIEW"))return;const g=({root:S,props:C})=>{const{id:v}=C,T=f("GET_ITEM",v);if(!T||!s(T.file)||T.archived)return;const R=T.file;if(!kE(R)||!f("GET_IMAGE_PREVIEW_FILTER_ITEM")(T))return;const A="createImageBitmap"in(window||{}),G=f("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!A&&G&&R.size>G)return;S.ref.imagePreview=m.appendChildView(m.createChildView(l,{id:v}));const B=S.query("GET_IMAGE_PREVIEW_HEIGHT");B&&S.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:T.id,height:B});const b=!A&&R.size>f("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");S.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:v},b)},_=(S,C)=>{if(!S.ref.imagePreview)return;let{id:v}=C;const T=S.query("GET_ITEM",{id:v});if(!T)return;const R=S.query("GET_PANEL_ASPECT_RATIO"),A=S.query("GET_ITEM_PANEL_ASPECT_RATIO"),G=S.query("GET_IMAGE_PREVIEW_HEIGHT");if(R||A||G)return;let{imageWidth:B,imageHeight:b}=S.ref;if(!B||!b)return;const y=S.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),W=S.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),P=(T.getMetadata("exif")||{}).orientation||-1;if(P>=5&&P<=8&&([B,b]=[b,B]),!kc(T.file)||S.query("GET_IMAGE_PREVIEW_UPSCALE")){const j=2048/B;B*=j,b*=j}const z=b/B,k=(T.getMetadata("crop")||{}).aspectRatio||z;let ne=Math.max(y,Math.min(b,W));const x=S.rect.element.width,U=Math.min(x*k,ne);S.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:T.id,height:U})},I=({root:S})=>{S.ref.shouldRescale=!0},E=({root:S,action:C})=>{C.change.key==="crop"&&(S.ref.shouldRescale=!0)},w=({root:S,action:C})=>{S.ref.imageWidth=C.width,S.ref.imageHeight=C.height,S.ref.shouldRescale=!0,S.ref.shouldDrawPreview=!0,S.dispatch("KICK")};m.registerWriter(r({DID_RESIZE_ROOT:I,DID_STOP_RESIZE:I,DID_LOAD_ITEM:g,DID_IMAGE_PREVIEW_CALCULATE_SIZE:w,DID_UPDATE_ITEM_METADATA:E},({root:S,props:C})=>{S.ref.imagePreview&&(S.rect.element.hidden||(S.ref.shouldRescale&&(_(S,C),S.ref.shouldRescale=!1),S.ref.shouldDrawPreview&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{S.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:C.id})})}),S.ref.shouldDrawPreview=!1)))}))}),{options:{allowImagePreview:[!0,a.BOOLEAN],imagePreviewFilterItem:[()=>!0,a.FUNCTION],imagePreviewHeight:[null,a.INT],imagePreviewMinHeight:[44,a.INT],imagePreviewMaxHeight:[256,a.INT],imagePreviewMaxFileSize:[null,a.INT],imagePreviewZoomFactor:[2,a.INT],imagePreviewUpscale:[!1,a.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,a.INT],imagePreviewTransparencyIndicator:[null,a.STRING],imagePreviewCalculateAverageImageColor:[!1,a.BOOLEAN],imagePreviewMarkupShow:[!0,a.BOOLEAN],imagePreviewMarkupFilter:[()=>!0,a.FUNCTION]}}},Ab=typeof window<"u"&&typeof window.document<"u";Ab&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Cb}));export{Gb as A,hm as C,bm as F,xl as P,Fb as U,Bb as a,Ub as b,Cb as c,$b as d,LE as p,nl as r};
